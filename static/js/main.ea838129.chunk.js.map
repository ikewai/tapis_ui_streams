{"version":3,"sources":["tapis-app/Files/_components/Toolbar/TransferModal/TransferModal.module.scss","tapis-app/Workflows/Groups/Users/Users.module.scss","tapis-ui/_wrappers/Wizard/Wizard.module.scss","tapis-app/UIPatterns/UIPatterns.module.scss","tapis-ui/_common/FieldWrapperFormik/FieldWrapperFormik.module.css","tapis-ui/_common/Message/Message.module.scss","tapis-ui/_common/DescriptionList/DescriptionList.module.scss","tapis-app/Files/_components/Toolbar/UploadModal/UploadModal.module.scss","tapis-app/Workflows/Pipelines/Pipelines/_components/PipelineList/PipelineList.module.scss","tapis-app/Streams/MeasurementsListing/_components/Measurements/Measurements.module.scss","tapis-app/Streams/Instruments/_components/Toolbar/Toolbar.module.scss","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/_components/forms/ImageBuildTask/Context/Context.module.scss","tapis-hooks/context/TapisContext.tsx","tapis-hooks/context/useTapisConfig.ts","tapis-hooks/provider/index.ts","tapis-hooks/provider/TapisProvider.tsx","tapis-ui/_common/Breadcrumbs/Breadcrumbs.tsx","tapis-ui/_common/Breadcrumbs/index.ts","tapis-ui/_common/GenericModal/useModal.ts","tapis-ui/_common/GenericModal/index.ts","tapis-ui/_common/GenericModal/GenericModal.tsx","tapis-ui/_common/LoadingSpinner/LoadingSpinner.js","tapis-ui/_common/LoadingSpinner/index.js","tapis-ui/_constants/welcomeMessages.js","tapis-ui/_common/Section/SectionMessages.js","tapis-ui/_common/SectionContent/SectionContent.js","tapis-ui/_common/Section/Section.js","tapis-ui/_common/SectionHeader/SectionHeader.js","tapis-ui/_common/InfiniteScrollTable/InfiniteScrollTable.js","tapis-ui/_common/InfiniteScrollTable/index.js","tapis-ui/_common/Icon/Icon.js","tapis-ui/_common/Icon/index.js","tapis-ui/_common/Expand/Expand.js","tapis-ui/_common/Message/Message.js","tapis-ui/_common/Message/index.js","tapis-ui/_common/InlineMessage/InlineMessage.js","tapis-ui/_common/InlineMessage/index.js","tapis-ui/_common/SectionMessage/SectionMessage.js","tapis-ui/_common/SectionMessage/index.js","tapis-ui/_common/DescriptionList/DescriptionList.js","tapis-ui/_common/DescriptionList/index.js","tapis-ui/_common/DropdownSelector/DropdownSelector.js","tapis-ui/_common/DropdownSelector/index.js","tapis-ui/_common/WelcomeMessage/WelcomeMessage.js","tapis-ui/_common/Pill/Pill.js","tapis-ui/_common/Pill/index.js","tapis-ui/_common/TextCopyField/TextCopyField.js","tapis-ui/_common/ReadMore/ReadMore.js","tapis-ui/_common/ReadMore/index.js","tapis-ui/_common/Paginator/Paginator.js","tapis-ui/_common/ProtectedRoute/ProtectedRoute.tsx","tapis-ui/_common/ProtectedRoute/index.ts","tapis-ui/_common/CopyButton/CopyButton.js","tapis-ui/_common/CopyButton/index.js","tapis-ui/_common/FieldWrapperFormik/FieldWrapperFormik.tsx","tapis-ui/_common/FieldWrapperFormik/fields/FormikInput.tsx","tapis-ui/_common/FieldWrapperFormik/fields/formikPatch.ts","tapis-ui/_common/FieldWrapperFormik/fields/FormikSelect.tsx","tapis-ui/_common/FieldWrapperFormik/fields/FormikCheck.tsx","tapis-api/utils/apiGenerator.ts","tapis-api/utils/errorDecoder.ts","tapis-api/files/list.ts","tapis-api/files/mkdir.ts","tapis-api/files/moveCopy.ts","tapis-api/files/insertAxios.ts","tapis-api/files/stat.ts","tapis-api/files/permissions.ts","tapis-api/files/nativeOp.ts","tapis-api/files/delete.ts","tapis-api/files/downloadStream.ts","tapis-hooks/utils/infiniteQuery.ts","tapis-hooks/files/queryKeys.ts","tapis-hooks/files/useList.ts","tapis-hooks/files/useMkdir.ts","tapis-hooks/files/useMove.ts","tapis-hooks/files/useCopy.ts","tapis-hooks/files/useUpload.ts","tapis-hooks/files/useStat.ts","tapis-hooks/files/usePermissions.ts","tapis-hooks/files/useNativeOp.ts","tapis-hooks/files/useDelete.ts","tapis-hooks/files/useDownload.ts","tapis-ui/_wrappers/QueryWrapper/index.ts","tapis-ui/_wrappers/QueryWrapper/QueryWrapper.tsx","tapis-ui/_wrappers/SubmitWrapper/index.ts","tapis-ui/_wrappers/SubmitWrapper/SubmitWrapper.tsx","tapis-ui/_wrappers/Wizard/Wizard.tsx","tapis-ui/_wrappers/Wizard/index.ts","utils/sizeFormat.ts","utils/timeFormat.ts","tapis-api/utils/jobExecSystem.ts","tapis-ui/components/files/FileListing/FileListing.tsx","tapis-ui/components/files/FileStat/index.ts","tapis-ui/components/files/FileStat/FileStat.tsx","tapis-ui/components/files/FileOperation/index.ts","tapis-ui/components/files/FileOperation/FileOperation.tsx","tapis-api/files/transfers/create.ts","tapis-api/files/transfers/list.ts","tapis-api/files/transfers/cancel.ts","tapis-api/files/transfers/details.ts","tapis-hooks/files/transfers/queryKeys.ts","tapis-hooks/files/transfers/useCreate.ts","tapis-hooks/files/transfers/useDetails.ts","tapis-hooks/files/transfers/useList.ts","tapis-hooks/files/transfers/useCancel.ts","tapis-ui/components/files/TransferListing/index.ts","tapis-ui/components/files/TransferListing/TransferListing.tsx","tapis-ui/components/files/TransferDetails/TransferDetails.tsx","tapis-ui/components/files/TransferCancel/index.ts","tapis-ui/components/files/TransferCancel/TransferCancel.tsx","tapis-ui/components/files/TransferCreate/index.ts","tapis-ui/components/files/TransferCreate/TransferCreate.tsx","tapis-ui/_common/Breadcrumbs/breadcrumbsFromPathname.ts","tapis-api/systems/list.ts","tapis-api/systems/details.ts","tapis-api/systems/schedulerProfiles.ts","tapis-hooks/systems/queryKeys.ts","tapis-hooks/systems/useList.ts","tapis-hooks/systems/useDetails.ts","tapis-hooks/systems/useSchedulerProfiles.ts","tapis-ui/components/systems/SystemDetail/SystemDetail.tsx","tapis-ui/components/systems/SystemListing/SystemListing.tsx","tapis-ui/components/systems/SystemListing/index.ts","tapis-ui/components/files/FileExplorer/FileExplorer.tsx","tapis-ui/components/files/FileExplorer/index.tsx","tapis-ui/components/files/FileSelectModal/index.tsx","tapis-ui/components/files/FileSelectModal/FileSelectModal.tsx","tapis-ui/_common/FieldWrapperFormik/fields/FormikTapisFile.tsx","tapis-ui/_common/FieldWrapper/index.ts","tapis-ui/_common/FieldWrapper/FieldWrapper.tsx","tapis-ui/_common/PageLayout/PageLayout.tsx","tapis-ui/_common/LayoutSections/LayoutSections.tsx","tapis-ui/_common/Collapse/Collapse.tsx","tapis-ui/_common/JSONDisplay/JSONDisplay.tsx","tapis-ui/_common/JSONDisplay/index.tsx","tapis-ui/_common/Tabs/index.ts","tapis-ui/_common/Tabs/Tabs.tsx","tapis-ui/_wrappers/Navbar/Navbar.tsx","tapis-app/_components/Sidebar/Sidebar.tsx","tapis-api/authenticator/login.ts","tapis-hooks/authenticator/queryKeys.ts","tapis-hooks/authenticator/useLogin.ts","tapis-api/apps/list.ts","tapis-api/apps/detail.ts","tapis-hooks/apps/queryKeys.ts","tapis-hooks/apps/useList.ts","tapis-hooks/apps/useDetail.ts","tapis-app/Apps/_components/AppsNav/index.ts","tapis-app/Apps/_components/AppsNav/AppsNav.tsx","tapis-api/jobs/list.ts","tapis-api/jobs/details.ts","tapis-api/jobs/submit.ts","tapis-hooks/jobs/queryKeys.ts","tapis-hooks/jobs/useList.ts","tapis-hooks/jobs/useDetails.ts","tapis-hooks/jobs/useSubmit.ts","tapis-ui/components/jobs/JobDetail/JobDetail.tsx","tapis-api/utils/jobFileInputs.ts","tapis-api/utils/jobFileInputArrays.ts","tapis-api/utils/jobArgs.ts","tapis-api/utils/jobDefaults.ts","tapis-ui/components/jobs/JobLauncher/components/StepSummaryField.tsx","tapis-ui/utils/withBuilder.tsx","tapis-ui/components/jobs/JobLauncher/components/useJobLauncher.tsx","tapis-ui/components/jobs/JobLauncher/steps/JobStart.tsx","tapis-app/Files/_components/Toolbar/_hooks/useFileOperations/index.ts","tapis-ui/components/jobs/JobLauncher/steps/utils.ts","tapis-ui/components/jobs/JobLauncher/steps/ExecOptions.tsx","tapis-ui/components/jobs/JobLauncher/steps/FileInputs.tsx","tapis-ui/components/jobs/JobLauncher/steps/FileInputArrays.tsx","tapis-ui/components/jobs/JobLauncher/steps/AppArgs.tsx","tapis-ui/components/jobs/JobLauncher/steps/EnvVariables.tsx","tapis-ui/components/jobs/JobLauncher/steps/SchedulerOptions.tsx","tapis-ui/components/jobs/JobLauncher/steps/Archive.tsx","tapis-api/utils/jobRequiredFields.ts","tapis-ui/components/jobs/JobLauncher/steps/JobSubmit.tsx","tapis-ui/components/jobs/JobLauncher/steps/index.ts","tapis-ui/components/jobs/JobLauncher/JobLauncherWizard.tsx","tapis-app/Apps/JobLauncher/_Layout/Layout.tsx","tapis-app/Apps/_Router/Router.tsx","tapis-app/Apps/_Layout/Layout.tsx","tapis-app/Login/_components/Login/index.ts","tapis-app/Login/_components/Login/Login.tsx","tapis-app/Login/_Layout/Layout.tsx","tapis-api/streams/projects/list.ts","tapis-hooks/streams/projects/queryKeys.ts","tapis-hooks/streams/projects/useList.ts","tapis-app/Dashboard/_components/Dashboard/Dashboard.tsx","tapis-app/Jobs/_components/JobsNav/index.ts","tapis-app/Jobs/_components/JobsNav/JobsNav.tsx","tapis-app/Jobs/JobDetail/_Layout/Layout.tsx","tapis-app/Jobs/_Router/Router.tsx","tapis-app/Jobs/_Layout/Layout.tsx","tapis-app/Systems/_components/SystemsNav/index.ts","tapis-app/Systems/_components/SystemsNav/SystemsNav.tsx","tapis-app/Systems/SystemDetail/_Layout/Layout.tsx","tapis-app/Systems/_Router/Router.tsx","tapis-app/Systems/_Layout/Layout.tsx","tapis-app/Files/_components/SystemsNav/index.ts","tapis-app/Files/_components/SystemsNav/SystemsNav.tsx","tapis-app/Files/_components/FilesContext/FilesContext.tsx","tapis-app/Files/_components/FilesContext/FilesProvider.tsx","tapis-app/Files/_components/FilesContext/useFilesSelect.ts","tapis-app/Files/FileListing/_Layout/Layout.tsx","tapis-app/Files/_Router/Router.tsx","tapis-app/Files/_components/Toolbar/CreateDirModal/index.ts","tapis-app/Files/_components/Toolbar/CreateDirModal/CreateDirModal.tsx","tapis-hooks/utils/useMutations.ts","tapis-app/Files/_components/Toolbar/_hooks/useFileOperations/useFileOperations.ts","tapis-app/Files/_components/Toolbar/UploadModal/UploadModal.tsx","tapis-app/Files/_components/Toolbar/_components/FileOperationStatus/index.ts","tapis-app/Files/_components/Toolbar/_components/FileOperationStatus/FileOperationStatus.tsx","tapis-app/Files/_components/Toolbar/MoveCopyModal/index.ts","tapis-app/Files/_components/Toolbar/MoveCopyModal/MoveCopyModal.tsx","tapis-app/Files/_components/Toolbar/RenameModal/index.ts","tapis-app/Files/_components/Toolbar/RenameModal/RenameModal.tsx","tapis-ui/_common/Progress/index.ts","tapis-ui/_common/Progress/Progress.tsx","tapis-app/Files/_components/Toolbar/UploadModal/index.js","tapis-app/Files/_components/Toolbar/PermissionsModal/PermissionsModal.tsx","tapis-app/Files/_components/Toolbar/PermissionsModal/index.ts","tapis-app/Files/_components/Toolbar/DeleteModal/DeleteModal.tsx","tapis-app/Files/_components/Toolbar/DeleteModal/index.ts","tapis-app/Files/_components/Toolbar/TransferModal/TransferModal.tsx","tapis-app/Files/_components/Toolbar/TransferModal/index.ts","tapis-app/_components/Notifications/NotificationToast.tsx","tapis-app/_components/Notifications/NotificationsContext.tsx","tapis-app/_components/Notifications/useNotifications.ts","tapis-app/_components/Notifications/NotificationsProvider.tsx","tapis-app/Files/_components/Toolbar/Toolbar.tsx","tapis-app/Files/_components/Toolbar/index.ts","tapis-app/Files/_Layout/Layout.tsx","tapis-api/workflows/groups/list.ts","tapis-api/workflows/groups/create.ts","tapis-hooks/workflows/groups/queryKeys.ts","tapis-hooks/workflows/groups/useList.ts","tapis-hooks/workflows/groups/useCreate.ts","tapis-api/workflows/pipelines/list.ts","tapis-api/workflows/pipelines/listAll.ts","tapis-api/workflows/pipelines/details.ts","tapis-api/workflows/pipelines/create.ts","tapis-api/workflows/pipelines/run.ts","tapis-hooks/workflows/pipelines/queryKeys.ts","tapis-hooks/workflows/pipelines/useList.ts","tapis-hooks/workflows/pipelines/useListAll.ts","tapis-hooks/workflows/pipelines/useDetails.ts","tapis-hooks/workflows/pipelines/useCreate.ts","tapis-hooks/workflows/pipelines/useRun.ts","tapis-api/workflows/archives/list.ts","tapis-api/workflows/archives/listAll.ts","tapis-api/workflows/archives/details.ts","tapis-api/workflows/archives/create.ts","tapis-hooks/workflows/archives/queryKeys.ts","tapis-hooks/workflows/archives/useList.ts","tapis-hooks/workflows/archives/useListAll.ts","tapis-hooks/workflows/archives/useDetails.ts","tapis-hooks/workflows/archives/useCreate.ts","tapis-api/workflows/identities/list.ts","tapis-api/workflows/identities/details.ts","tapis-api/workflows/identities/create.ts","tapis-hooks/workflows/identities/queryKeys.ts","tapis-hooks/workflows/identities/useList.ts","tapis-hooks/workflows/identities/useDetails.ts","tapis-hooks/workflows/identities/useCreate.ts","tapis-app/Workflows/_components/Toolbar/CreatePipelineModal/_components/PipelineForm.tsx","tapis-app/Workflows/_components/Toolbar/CreatePipelineModal/CreatePipelineModal.tsx","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/_components/forms/_common/Details.tsx","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/_components/forms/_common/WithFormUpdates.tsx","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/_components/forms/ImageBuildTask/ImageBuildTask.tsx","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/_components/forms/ImageBuildTask/Credentials/DockerhubCredentials.tsx","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/_components/forms/ImageBuildTask/Credentials/GithubCredentials.tsx","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/_components/forms/ImageBuildTask/Credentials/Credentials.tsx","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/_components/forms/ImageBuildTask/Credentials/CredentialsSourceSelect.tsx","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/_components/forms/ImageBuildTask/Credentials/IdentitySelect.tsx","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/_components/forms/ImageBuildTask/Context/VisibilitySelect/VisibilitySelect.tsx","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/_components/forms/ImageBuildTask/Context/DockerhubContext.tsx","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/_components/forms/ImageBuildTask/Context/LocalContext.tsx","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/_components/forms/ImageBuildTask/Context/GithubContext.tsx","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/_components/forms/ImageBuildTask/Context/GitlabContext.tsx","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/_components/forms/ImageBuildTask/Context/Context.tsx","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/_components/forms/ImageBuildTask/Destination/DockerhubDestination.tsx","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/_components/forms/ImageBuildTask/Destination/LocalDestination.tsx","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/_components/forms/ImageBuildTask/Destination/Destination.tsx","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/_components/forms/ImageBuildTask/Builder.tsx","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/_components/forms/RequestTask/RequestTask.tsx","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/_components/forms/Task.tsx","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/_components/TaskTypeSelector.tsx","tapis-api/workflows/tasks/create.ts","tapis-hooks/workflows/tasks/queryKeys.ts","tapis-hooks/workflows/tasks/useCreate.ts","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/CreateTaskModal.tsx","tapis-app/Workflows/_components/Toolbar/CreateGroupModal/CreateGroupModal.tsx","tapis-app/Workflows/_components/Toolbar/CreateArchiveModal/CreateArchiveModal.tsx","tapis-app/Workflows/_components/Toolbar/CreateIdentityModal/CreateIdentityModal.tsx","tapis-hooks/workflows/groupusers/queryKeys.ts","tapis-api/workflows/groupusers/list.ts","tapis-api/workflows/groupusers/create.ts","tapis-api/workflows/groupusers/delete.ts","tapis-hooks/workflows/groupusers/useList.ts","tapis-hooks/workflows/groupusers/useCreate.ts","tapis-hooks/workflows/groupusers/useDelete.ts","tapis-app/Workflows/_components/Toolbar/AddGroupUsersModal/AddGroupUsersModal.tsx","tapis-app/Workflows/_components/Toolbar/RunPipelineModal/RunPipelineModal.tsx","tapis-app/Workflows/_components/Toolbar/Toolbar.tsx","tapis-app/Workflows/_components/GroupsNav/GroupsNav.tsx","tapis-app/Workflows/_components/Menu/Menu.tsx","tapis-app/Workflows/Dashboard/Dashboard.tsx","tapis-app/Workflows/Pipelines/Pipelines/_components/PipelineList/PipelineList.tsx","tapis-app/Workflows/Pipelines/Pipelines/Pipelines.tsx","tapis-app/Workflows/Pipelines/Pipelines/_Router/Router.tsx","tapis-app/Workflows/Pipelines/Pipelines/_Layout/Layout.tsx","tapis-app/Workflows/Pipelines/Pipeline/Pipeline.tsx","tapis-app/Workflows/Pipelines/Pipeline/_Router/Router.tsx","tapis-app/Workflows/Pipelines/Pipeline/_Layout/Layout.tsx","tapis-api/workflows/pipelineruns/list.ts","tapis-hooks/workflows/pipelineruns/queryKeys.ts","tapis-hooks/workflows/pipelineruns/useList.ts","tapis-api/workflows/taskexecutions/list.ts","tapis-hooks/workflows/taskexecutions/queryKeys.ts","tapis-hooks/workflows/taskexecutions/useList.ts","tapis-app/Workflows/Pipelines/PipelineRuns/PipelineRuns.tsx","tapis-app/Workflows/Pipelines/PipelineRuns/_Router/Router.tsx","tapis-app/Workflows/Pipelines/PipelineRuns/_Layout/Layout.tsx","tapis-app/Workflows/Pipelines/_Router/Router.tsx","tapis-app/Workflows/Pipelines/_Layout/Layout.tsx","tapis-app/Workflows/Archives/_components/ArchiveList/ArchiveList.tsx","tapis-app/Workflows/Archives/Archives/Archives.tsx","tapis-app/Workflows/Archives/Archives/_Router/Router.tsx","tapis-app/Workflows/Archives/Archives/_Layout/Layout.tsx","tapis-app/Workflows/Archives/Archive/Archive.tsx","tapis-app/Workflows/Archives/Archive/_Router/Router.tsx","tapis-app/Workflows/Archives/Archive/_Layout/Layout.tsx","tapis-app/Workflows/Archives/_Router/Router.tsx","tapis-app/Workflows/Archives/_Layout/Layout.tsx","tapis-app/Workflows/Groups/Groups.tsx","tapis-app/Workflows/Groups/Users/Users.tsx","tapis-app/Workflows/Groups/_Router/Router.tsx","tapis-app/Workflows/Groups/_Layout/Layout.tsx","tapis-app/Workflows/Identities/Identities.tsx","tapis-app/Workflows/Identities/Identity.tsx","tapis-app/Workflows/Identities/_Router/Router.tsx","tapis-app/Workflows/Identities/_Layout/Layout.tsx","tapis-app/Workflows/_Router/Router.tsx","tapis-app/Workflows/_Layout/Layout.tsx","tapis-app/UIPatterns/UIPatternsMessage/UIPatternsMessage.js","tapis-app/UIPatterns/UIPatternsDescriptionList/UIPatternsDescriptionList.js","tapis-app/UIPatterns/UIPatternsDropdownSelector/UIPatternsDropdownSelector.js","tapis-app/UIPatterns/UIPatternsPill/UIPatternsPill.js","tapis-app/UIPatterns/UIPatternsReadMore/UIPatternsReadMore.js","tapis-app/UIPatterns/UIPatterns.js","tapis-api/streams/sites/list.ts","tapis-hooks/streams/sites/queryKeys.ts","tapis-hooks/streams/sites/useList.ts","utils/URLManager.ts","tapis-app/Streams/Sites/_components/SitesNav/SitesNav.tsx","tapis-app/Streams/Sites/_components/SitesNav/index.ts","tapis-api/streams/instruments/list.ts","tapis-hooks/streams/instruments/queryKeys.ts","tapis-hooks/streams/instruments/useList.ts","tapis-app/Streams/Instruments/_components/InstrumentsNav/index.ts","tapis-app/Streams/Instruments/_components/InstrumentsNav/InstrumentsNav.tsx","tapis-api/streams/measurements/list.ts","tapis-hooks/streams/measurements/queryKeys.ts","tapis-hooks/streams/measurements/useList.ts","tapis-app/Streams/MeasurementsListing/_components/MeasurementsPlot/MeasurementsPlot.tsx","tapis-app/Streams/MeasurementsListing/_components/MeasurementsPlot/index.ts","tapis-app/Streams/MeasurementsListing/_components/Measurements/index.ts","tapis-app/Streams/MeasurementsListing/_components/Measurements/Measurements.tsx","tapis-app/Streams/MeasurementsListing/_Layout/Layout.tsx","tapis-app/Streams/Instruments/_components/Toolbar/index.ts","tapis-app/Streams/Instruments/_components/Toolbar/Toolbar.tsx","tapis-app/Streams/Instruments/_Router/Router.tsx","tapis-app/Streams/Instruments/_Layout/Layout.tsx","tapis-app/Streams/Sites/_Router/Router.tsx","tapis-app/Streams/Sites/_Layout/Layout.tsx","tapis-app/Streams/Projects/_components/ProjectsNav/index.ts","tapis-app/Streams/Projects/_components/ProjectsNav/ProjectsNav.tsx","tapis-app/Streams/Projects/_Router/Router.tsx","tapis-app/Streams/Projects/_Layout/Layout.tsx","tapis-app/Streams/_Layout/Layout.tsx","tapis-app/_Router/Router.tsx","tapis-api/tenants/list.ts","tapis-hooks/tenants/queryKeys.ts","tapis-hooks/tenants/useList.ts","tapis-app/_Layout/index.ts","tapis-app/_Layout/Layout.tsx","reportWebVitals.ts","index.tsx","utils/resloveBasePath.ts","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/_components/forms/ImageBuildTask/Destination/Destination.module.scss","tapis-ui/components/jobs/JobLauncher/steps/FileInputs.module.scss","tapis-ui/_common/Paginator/Paginator.module.scss","tapis-app/Dashboard/_components/Dashboard/Dashboard.module.scss","tapis-app/Files/_components/Toolbar/MoveCopyModal/MoveCopyModal.module.scss","tapis-app/_components/Notifications/NotificationToast.module.scss","tapis-app/Workflows/Pipelines/Pipeline/Pipeline.module.scss","tapis-app/Workflows/Archives/_components/ArchiveList/ArchiveList.module.scss","tapis-app/Workflows/Groups/Groups.module.scss","tapis-app/Workflows/Identities/Identities.module.scss","tapis-ui/_common/Breadcrumbs/Breadcrumbs.module.scss","tapis-ui/_common/TextCopyField/TextCopyField.module.scss","tapis-ui/components/files/FileListing/FileListing.module.scss","tapis-ui/_common/LayoutSections/LayoutSections.module.scss","tapis-ui/_wrappers/Navbar/Navbar.module.scss","tapis-app/Workflows/_components/Toolbar/CreateGroupModal/CreateGroupModal.module.scss","tapis-app/Workflows/_components/Menu/Menu.module.scss","tapis-app/UIPatterns/UIPatternsMessage/UIPatternsMessage.module.scss","tapis-app/UIPatterns/UIPatternsDescriptionList/UIPatternsDescriptionList.module.css","tapis-ui/_common/Section/Section.module.css","tapis-ui/_common/SectionHeader/SectionHeader.module.css","tapis-ui/_common/CopyButton/CopyButton.module.scss","tapis-ui/_common/PageLayout/PageLayout.module.scss","tapis-ui/_common/Collapse/Collapse.module.scss","tapis-app/Workflows/Dashboard/Dashboard.module.scss","tapis-app/Workflows/Pipelines/PipelineRuns/PipelineRuns.module.scss","tapis-ui/components/jobs/JobLauncher/FieldArray.module.scss","tapis-app/Workflows/_components/Toolbar/CreatePipelineModal/CreatePipelineModel.module.scss","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/_components/forms/ImageBuildTask/Credentials/Credentials.module.scss","tapis-ui/_common/Expand/Expand.module.scss","tapis-ui/_wrappers/SubmitWrapper/SubmitWrapper.module.scss","tapis-ui/components/files/TransferListing/TransferListing.module.scss","tapis-ui/components/systems/SystemListing/SystemListing.module.scss","tapis-ui/_common/Tabs/Tabs.module.scss","tapis-ui/_common/Progress/Progress.module.scss","tapis-app/Files/_components/Toolbar/DeleteModal/DeleteModal.module.scss","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/_components/forms/ImageBuildTask/ImageBuildTask.module.scss","tapis-app/Workflows/_components/Toolbar/AddGroupUsersModal/AddGroupUsersModal.module.scss","tapis-ui/_common/SectionContent/SectionContent.module.css","tapis-ui/_common/ReadMore/ReadMore.module.scss","tapis-ui/_common/FieldWrapperFormik/fields/FormikCheck.module.scss","tapis-ui/components/files/FileExplorer/FileExplorer.module.scss","tapis-ui/_common/JSONDisplay/JSONDisplay.module.scss","tapis-ui/components/jobs/JobLauncher/steps/SchedulerOptions.module.scss","tapis-app/Files/FileListing/_Layout/Layout.module.scss","tapis-app/Files/_components/Toolbar/Toolbar.module.scss","tapis-app/Workflows/_components/Toolbar/Toolbar.module.scss","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/_components/forms/ImageBuildTask/Credentials/CredentialsSourceSelect.module.scss","tapis-app/Streams/_Layout/Layout.module.scss","tapis-app/_components/Sidebar/Sidebar.module.scss","tapis-ui/_common/Section/SectionMessages.module.css","tapis-ui/_common/SectionContent/SectionContent.layouts.module.css","tapis-ui/_common/DropdownSelector/DropdownSelector.module.css","tapis-ui/_common/Pill/Pill.module.scss","tapis-ui/components/jobs/JobLauncher/steps/FileInputArrays.module.scss","tapis-app/Files/_components/Toolbar/PermissionsModal/PermissionsModal.module.scss","tapis-app/Files/_Layout/Layout.module.scss","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/_components/forms/ImageBuildTask/Builder.module.scss","tapis-app/Workflows/_components/Toolbar/CreateArchiveModal/CreateArchiveModel.module.scss","tapis-app/Workflows/_components/Toolbar/CreateIdentityModal/CreateIdentityModel.module.scss","tapis-app/Workflows/_components/Toolbar/RunPipelineModal/RunPipelineModal.module.scss","tapis-app/Workflows/_Layout/Layout.module.scss","tapis-app/UIPatterns/UIPatternsReadMore/UIPatternsReadMore.module.scss","tapis-app/Streams/MeasurementsListing/_Layout/Layout.module.scss","tapis-app/Workflows/_components/Toolbar/CreateTaskModal/CreateTaskModal.module.scss"],"names":["module","exports","authContext","basePath","TapisContext","React","createContext","useTapisConfig","useContext","getAccessToken","cookie","Cookies","get","JSON","parse","useQuery","initialData","data","refetch","accessToken","setAccessToken","resp","a","remove","expires","Date","expires_at","set","stringify","claims","access_token","jwt_decode","TapisProvider","token","children","contextValue","queryClient","QueryClient","Provider","value","QueryClientProvider","client","BreadcrumbFragment","to","onClick","text","className","styles","fragment","Button","color","link","e","preventDefault","Breadcrumbs","breadcrumbs","truncate","truncatedBreadcrumbs","length","slice","push","box","map","item","index","uuidv4","useModal","useState","modal","setModal","open","useCallback","close","GenericModal","toggle","title","body","footer","props","Modal","isOpen","ModalHeader","charCode","ModalBody","ModalFooter","LoadingSpinner","placement","Spinner","defaultProps","DASHBOARD","DATA","ALLOCATIONS","APPLICATIONS","HISTORY","ACCOUNT","TICKETS","UI","SectionMessages","routeName","welcomeMessageText","welcomeText","MESSAGES","welcomeMessageName","welcomeMessage","messageName","hasMessage","useShouldShowWelcomeMessage","hasMessageClass","useEffect","document","classList","add","root","LAYOUT_CLASS_MAP","oneRow","oneColumn","twoColumn","Object","keys","SectionContent","styleName","layoutName","shouldScroll","shouldDebugLayout","tagName","styleNameList","layoutClass","TagName","layoutStyles","join","Section","bodyClassName","content","contentClassName","contentLayoutName","contentShouldScroll","header","headerActions","headerClassName","manualContent","manualHeader","messages","messagesClassName","shouldBuildHeader","Error","actions","undefined","SectionHeader","isForForm","isForTable","HeadingTagName","heading","InfiniteScrollLoadingRow","isLoading","InfiniteScrollNoDataRow","display","noDataText","InfiniteScrollTable","tableColumns","tableData","onInfiniteScroll","getRowProps","columnMemoProps","columns","useMemo","useTable","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","render","onScroll","target","scrollHeight","scrollTop","clientHeight","row","cells","cell","getCellProps","offset","Icon","name","iconClassName","fullClassName","label","role","Expand","detail","message","setIsOpen","toggleCallback","Card","container","CardHeader","summary","tag","CardBody","ERROR_TEXT","TYPE_MAP","info","iconName","iconText","success","warning","error","warn","SCOPE_MAP","inline","section","Message","onDismiss","canDismiss","isVisible","scope","type","typeMap","scopeMap","typeClassName","scopeClassName","hasDismissSupport","console","modifierClassNames","containerStyleNames","fadeProps","Fade","unmountOnExit","baseClass","timeout","in","icon","InlineMessage","messageProps","SectionMessage","setIsVisible","DIRECTION_CLASS_MAP","vertical","horizontal","DEFAULT_DIRECTION","DENSITY_CLASS_MAP","compact","default","DEFAULT_DENSITY","DescriptionListArray","val","key","DescriptionListValue","Array","isArray","Set","from","DescriptionList","density","direction","modifierClasses","entries","Fragment","DropdownSelector","onChange","canSelectMany","multiple","useShouldShowMessage","welcomeMessages","WelcomeMessage","shouldShow","Alert","Pill","shouldTruncate","pillStyleName","TextCopyField","placeholder","isCopied","setIsCopied","onCopy","setTimeout","clearTimeout","stateTimeout","transitionDuration","isEmpty","style","disabled","event","input","readOnly","ReadMore","expanded","setExpanded","useResizeDetector","height","ref","hasOverflow","current","clamped","PaginatorPage","number","callback","page","Paginator","start","end","pages","spread","delta","Math","floor","middle","middlePages","fill","_","endcap","ProtectedRoute","rest","location","pathname","state","CopyButton","size","FieldWrapper","required","description","isHidden","Component","as","useField","meta","FormGroup","Label","alignItems","htmlFor","Badge","marginLeft","id","FormText","FormikInput","formikProps","Input","bsSize","memo","setFieldValue","formikContext","field","shouldValidate","setValues","validateForm","validateOnChange","values","setInValues","obj","path","res","clone","resVal","i","pathArray","toPath","currentPath","currentObj","getIn","isObject","nextPath","isInteger","Number","setIn","FormikSelect","useFormikContext","otherFormikProps","FormikCheck","check","nospace","checked","apiGenerator","api","jwt","Configuration","errorDecoder","func","result","json","list","params","Files","FileOperationsApi","listFiles","mkdir","systemId","mkdirRequest","moveCopy","newPath","operation","moveCopyRequest","insert","file","progressCallback","url","formData","FormData","append","config","onUploadProgress","progressEvent","progress","round","loaded","total","axios","post","stat","getStatInfo","permissions","PermissionsApi","getPermissions","nativeOp","recursive","argument","nativeLinuxOpRequest","runLinuxNativeOp","deleteFile","_delete","downloadStream","destination","zip","onStart","fileStream","StreamSaver","createWriteStream","fetch","then","response","readableStream","window","WritableStream","pipeTo","writer","getWriter","reader","getReader","pump","read","done","write","concatResults","reduce","accumulator","concat","tapisNextPageParam","lastPage","allPages","limit","QueryKeys","move","copy","insertAxios","delete","download","useList","options","useInfiniteQuery","pageParam","getNextPageParam","enabled","concatenatedResults","useMkdir","useMutation","mutate","isError","isSuccess","reset","useMove","MoveCopyRequestOperationEnum","Move","mutateAsync","moveAsync","useCopy","Copy","copyAsync","useUpload","uploadFile","uploadAsync","useStat","usePermissions","useNativeOp","nativeOpAsync","useDelete","deleteFileAsync","useDownload","downloadAsync","QueryWrapper","SubmitWrapper","reverse","wrapper","WizardContext","WizardNavigation","currentStep","previousStep","totalSteps","nextStep","goToStep","handleSubmit","onContinue","errors","onSkip","controls","WizardSummary","steps","goToNamedStep","editCallback","stepId","step","edit","StepContainer","formSubmit","validationSchema","initialValues","validate","onSubmit","enableReinitialize","Wizard","stepWizardProps","setStepWizardProps","instanceCallback","stepChangeCallback","activeStep","instance","onStepChange","transitions","stepName","createSizeString","bytes","log","bytesString","toFixed","formatDateTimeFromValue","dateTimeValue","dateTime","date","toLocaleDateString","day","month","year","formatDate","toLocaleTimeString","hour12","hour","minute","formatTime","ValidateExecSystemResult","FileListingDir","onNavigate","dir","stopPropagation","FileListingCheckboxCell","selected","filledSquare","faCheckSquare","faSquare","FileListingName","FileListingTable","files","prependColumns","appendColumns","selectMode","fields","mode","Header","accessor","Cell","el","original","some","sizeFormat","FileSelectHeader","onSelectAll","onUnselectAll","selectedFileDict","setChecked","allSelected","FileListing","onSelect","onUnselect","selectedFiles","hasNextPage","fetchNextPage","isFetchingNextPage","infiniteScrollCallback","selectedDict","forEach","types","fileSelectCallback","allowed","FileStat","FileOperation","onSuccess","focusManager","setFocused","Yup","NativeLinuxOpRequestOperationEnum","Chmod","Chown","Chgrp","create","transferTaskRequest","TransfersApi","createTransferTask","getRecentTransferTasks","cancel","transferTaskId","cancelTransferTask","details","getTransferTaskDetails","useCreate","request","useDetails","cancelAsync","TransferListing","selectedTransfer","setSelectedTransfer","selectWrapper","transfer","systems","uuid","selectable","SystemDetail","task","TransferCancel","detailsIsLoading","detailsError","cancelable","TransferTaskStatusEnum","Accepted","InProgress","Paused","Staged","Staging","status","useCancel","TransferCreate","sourceSystemId","destinationSystemId","destinationPath","destinationURI","elements","sourceURI","breadcrumbsFromPathname","items","pathParts","split","normalize","Systems","SystemsApi","getSystems","getSystem","listSchedulerProfiles","SchedulerProfilesApi","getSchedulerProfiles","defaultParams","useSchedulerProfiles","select","system","tabs","Details","SystemListingItem","SystemListing","selectedSystem","setSelectedSystem","FileExplorer","allowSystemChange","currentSystem","setCurrentSystem","setCurrentPath","targetBreadcrumbs","setTargetBreadcrumbs","onFileNavigate","onSystemNavigate","onBreadcrumbNavigate","newCrumbs","breadcrumb","unshift","FileSelectModal","initialSelection","setSelectedFiles","dirSelectMode","fileExplorerSelectCallback","fileExplorerUnselectCallback","filter","unselected","fileExplorerNavigateCallback","selectButtonCallback","selectionNames","selectType","pathToFile","pathParent","parentDir","FormikTapisFileInput","dirs","setValue","uri","match","filePath","parent","parseTapisURI","parsedSystemId","InputGroup","InputGroupAddon","addonType","FormikTapisFile","Layout","left","right","top","bottom","constrain","LayoutHeader","LayoutNavWrapper","nav","LayoutBody","Collapse","note","requiredText","isCollapsable","marginBottom","expand","simplifyObject","simplifiedValue","convertSets","JSONDisplay","simplified","setSimplified","jsonString","Tabs","tabNames","activeTab","setActiveTab","getTabClassname","tabName","tab","active","Nav","NavLink","TabContent","TabPane","tabId","pane","NavItem","activeClassName","exact","Navbar","Sidebar","login","username","password","reqCreateToken","grant_type","Authenticator","TokensApi","createToken","useLogin","logout","Apps","ApplicationsApi","getApps","getApp","useDetail","AppsNav","refetchOnWindowFocus","useRouteMatch","appList","app","version","Jobs","JobsApi","getJobList","getJob","submit","submitJob","reqSubmitJob","orderBy","jobUuid","useSubmit","appId","appVersion","JobDetail","job","getIncompleteAppInputs","jobAttributes","fileInputs","fileInput","sourceUrl","generateFileInputFromAppInput","targetPath","autoMountLocal","generateRequiredFileInputsFromApp","inputMode","FileInputModeEnum","Required","appFileInput","fileInputsComplete","inputType","getIncompleteAppInputsOfType","requiredInput","jobFileInput","find","optionalAppInputs","optionalJobInputs","optionalAppInput","jobInput","namedInputs","otherInput","getIncompleteAppInputArrays","fileInputArrays","sourceUrls","generateFileInputArrayFromAppInput","targetDir","generateRequiredFileInputArraysFromApp","appFileInputArray","fileInputArraysComplete","getIncompleteAppInputArraysOfType","requiredInputArray","jobFileInputArray","optionalAppInputArrays","optionalJobInputArrays","optionalAppInputArray","jobInputArray","otherInputArray","getArgMode","argSpecs","spec","argSpec","generateJobArgsFromSpec","arg","include","ArgInputModeEnum","IncludeOnDemand","generateJobArg","generateJobDefaults","archiveOnAppError","archiveSystemId","archiveSystemDir","nodeCount","coresPerNode","jobType","memoryMB","maxMinutes","isMpi","mpiCmd","cmdPrefix","parameterSet","appArgs","containerArgs","schedulerOptions","archiveFilter","envVariables","JobStartSummary","withBuilder","context","clear","useBuilderContext","useReducer","payload","action","dispatch","JobLauncherContext","schedulerProfiles","JobLauncherProvider","defaultValues","useJobLauncher","JobStart","StepSummaryField","min","max","generateInitialValues","computeDefaultSystem","execSystemId","source","computeDefaultQueue","execSystemLogicalQueue","queue","batchDefaultLogicalQueue","appSystem","computeDefaultJobType","canRunBatch","JobTypeEnum","Batch","Fork","FileOpEventStatusEnum","validateExecSystem","defaultSystem","ErrorNoExecSystem","computedSystem","ErrorExecSystemNotFound","computedJobType","Complete","batchLogicalQueues","ErrorExecSystemNoQueues","defaultQueue","ErrorNoQueue","ErrorQueueNotFound","capitalize","str","charAt","toUpperCase","getLogicalQueues","SystemSelector","queues","setQueues","selectableSystems","setSelectableSystems","systemSource","defaultSystemLabel","queueSource","defaultQueueLabel","jobTypeSource","defaultJobTypeLabel","isBatch","validSystems","fieldArrayStyles","ExecSystemDirs","ExecSystemQueueOptions","queueErrors","hasErrors","MPIOptions","ExecOptions","ExecOptionsSummary","computedQueue","execSystemExecDir","execSystemInputDir","execSystemOutputDir","validateThunk","validation","computedExecSystem","computedLogicalQueue","maxNodeCount","minNodeCount","maxCoresPerNode","minCoresPerNode","maxMemoryMB","minMemoryMB","minMinutes","JobInputField","appInput","isRequired","lower","toLowerCase","upperCaseFirstLetter","getFileInputsOfMode","OptionalInput","included","onInclude","defaultValue","OptionalInputs","arrayHelpers","optionalInputs","Optional","formFileInputs","array","optionalInput","alreadyIncluded","FixedInput","FixedInputs","fixedInputs","Fixed","fixedInput","JobInputs","requiredInputs","jobInputs","FileInputs","FileInputsSummary","jobFileInputs","appFileInputs","missingRequiredInputs","incompleteJobInputs","incompleteRequiredAppInputs","incompleteRequiredJobInputs","incompleteOptionalAppInputs","incompleteOptionalJobInputs","incompleteUserInputs","getIncompleteJobInputs","includedByDefault","includedInJob","getAppInputsIncludedByDefault","complete","incompleteInput","requiredFileInput","defaultInput","shape","of","SourceUrlsField","fileInputArrayIndex","newSourceUrl","arrayStyles","sourceUrlIndex","sourceUrlName","formStyles","JobInputArrayField","getFileInputArraysOfMode","appInputArray","OptionalInputArray","inputArray","OptionalInputArrays","optionalInputArrays","formFileInputArrays","optionalInputArray","FixedInputArray","FixedInputArrays","fixedInputArrays","fixedInputArray","JobInputArrays","requiredInputArrays","jobInputArrays","FileInputArrays","FileInputArraysSummary","jobFileInputArrays","appFileInputArrays","missingRequiredInputArrays","incompleteJobInputArrays","incompleteRequiredAppInputArrays","incompleteRequiredJobInputArrays","incompleteOptionalAppInputArrays","incompleteOptionalJobInputArrays","incompleteUserInputArrays","getIncompleteJobInputArrays","getAppInputArraysIncludedByDefault","ArgField","argType","argName","ArgsFieldArray","args","argsSchema","Args","appArgSpecs","containerArgSpecs","assembleArgSpec","previous","ArgsSummary","scheduleOptions","EnvVariableField","EnvVariablesRender","envVariable","EnvVariables","EnvVariablesSummary","findSchedulerProfile","profile","includes","SchedulerProfiles","setSchedulerProfile","newProfile","existing","currentProfile","moduleLoadCommand","hiddenOptions","modulesToLoad","owner","tenant","SchedulerOptionArray","schedulerOptionSpecs","SchedulerOptions","SchedulerOptionsSummary","ArrayGroup","ArchiveFilterRender","excludes","ArchiveOptions","Archive","ArchiveSummary","includeLaunchFiles","jobRequiredFieldsComplete","JobSubmit","isComplete","JobSubmitSummary","jobSteps","AppArgs","JobLauncherWizardRender","jobStep","stepProps","JobLauncherWizard","useAppDetail","useSystemsList","systemsData","systemsIsLoading","systemsError","schedulerProfilesData","schedulerProfilesIsLoading","schedulerProfilesError","flex","PageLayout","Router","sidebar","Login","loginSchema","useLocation","Streams","ProjectsApi","listProjects","DashboardCard","counter","loading","card","CardTitle","CardText","CardFooter","Dashboard","jobs","useJobsList","apps","useAppsList","projects","useProjectsList","cards","JobsNav","jobsList","SystemsNav","definitions","host","filesContext","FilesContext","FilesProvider","useFilesSelect","selectedSet","newSelection","has","unselect","systemPath","CreateDirModal","dirname","matches","form","useMutations","fn","onError","onComplete","setIsLoading","isFinished","setIsFinished","run","pipe","concatMap","catch","subscribe","useFileOperations","started","setStarted","errorEntry","FileOpEventStatus","FileOperationStatus","MoveCopyModal","setDestinationPath","opFormatted","removeFile","operations","statusColumns","splice","RenameModal","inputName","setInputName","newname","dirOrFile","Progress","showProgress","UploadModal","maxFileSizeBytes","setFiles","fileProgressState","onProgress","uploadProgress","onDrop","uniqueFiles","selectedFile","existingFile","useDropzone","getRootProps","getInputProps","checkFile","filesToFileInfo","filesArr","statusColumn","PermissionsModal","permission","FilePermissionPermissionEnum","Modify","Info","DeleteModal","TransferModal","setDestination","setTransfer","interval","setInterval","clearInterval","createTransferTab","listTransfersTab","TransferDetails","CopyMoveModal","ToastMessage","notification","NotificationToast","useNotifications","notifications","markread","setOpen","notificationRecord","setNotificationRecord","transition","setTransition","Slide","Snackbar","anchorOrigin","TransitionComponent","autoHideDuration","onClose","_event","reason","TransitionProps","onExited","classes","anchorOriginBottomLeft","ContentProps","notificationsContext","NotificationsContext","reducer","findIndex","NotificationsProvider","ToolbarButton","Toolbar","onDownload","isZip","crumbs","Workflows","GroupsApi","listGroups","createGroup","reqGroup","PipelinesApi","listPipelines","listAll","Promise","all","groupIds","groupId","resps","pipelines","pipeline","last","respAll","metadata","getPipeline","createPipeline","EventsApi","runPipeline","useListAll","useRun","ArchivesApi","listArchives","archives","archive","getArchive","createArchive","IdentitiesApi","listIdentities","getIdentity","createIdentity","reqIdentity","EnumPipelineType","Workflow","archive_ids","execution_profile","max_retries","max_exec_time","invocation_mode","EnumInvocationMode","Async","retry_policy","EnumRetryPolicy","ExponentialBackoff","baseValidationSchema","oneOf","tasks","PipelineForm","Sync","policy","CreatePipelineModal","useQueryClient","invalidateQueries","queryKeys","reqPipeline","WithFormUpdates","update","useImageBuildTaskContext","mutators","modifiedState","modifiedValidationSchema","setInitialValues","setValidationSchema","ImageBuildContext","ImageBuildTask","EnumTaskType","ImageBuild","Destination","WithImageBuildContext","defaultInitialValues","builder","cache","defaultValidationSchema","EnumBuilder","DockerhubCredentials","GithubCredentials","Credentials","removeMutator","credentials","EnumContextType","Dockerhub","EnumDestinationType","Github","personal_access_token","CredentialsSourceSelect","identityAsCreds","setIdentityAsCreds","defaultChecked","IdentitySelect","identities","identitiesByType","ident","identity_uuid","identity","VisibilitySelect","visibility","setVisibility","EnumContextVisibility","vis","DockerhubContext","LocalContext","GithubContext","GitlabContext","Context","setType","ContextComponent","branch","build_file_path","sub_path","image_tag","Local","Gitlab","DockerhubDestination","LocalDestination","DestinationSet","destiantion","DestinationComponent","filename","Builder","cacheChecked","setCacheChecked","Singularity","RequestTask","Request","http_method","EnumHTTPMethod","method","toString","Task","TaskTypeSelector","setSelected","TasksApi","createTask","CreateTaskModal","pipelineId","reqTask","CreateGroupModal","users","is_admin","EnumArchiveType","S3ArchiveForm","TapisSystemArchiveForm","system_id","archive_dir","System","CreateArchiveModal","selectedType","setSelectedType","renderArchiveForm","reqArchive","S3","EnumIdentityType","GithubIdentityForm","DockerhubIdentityForm","CreateIdentityModal","renderIdentityForm","UsersApi","listGroupUsers","addGroupUser","removeGroupUser","reqGroupUser","user","removeAsync","AddGroupUsersModal","PipelineRunModal","reqRunPipeline","directives","buttons","RunPipelineModal","GroupsNav","baseUrl","groups","group","Menu","light","navbar","useListGroups","useListIdentities","useListAllArchives","useListAllPipelines","PipelineCard","showModal","setShowModal","PipelineList","Pipelines","depends_on","dependency","Pipeline","PipelineRunsApi","listPipelineRuns","TaskExecutionsApi","listTaskExecutions","TaskExecutions","pipelineRunUuid","useListTaskExecutions","taskExecutions","Table","dark","bordered","margin","taskExecution","started_at","last_modified","PipelineRun","pipelineRun","showTaskExecutions","setShowTaskExecutions","PipelineRuns","useListPipelineRuns","pipelineRuns","ArchiveList","evenodd","textDecoration","Archives","S3Archive","endpoint","bucket","region","TapisSystemArchive","archiveUtil","archiveId","Groups","RemoveUserButton","removeError","removeInProgress","Users","isCurrentUser","canDeleteUser","Identities","Identity","identityUuid","EXAMPLE_LINK","short","href","long","EXAMPLE_TEXT","NOTIFICATION_TEXT","rel","UIPatternsMessages","secondary","rowSpan","Username","Prefix","Name","Suffix","UIPatternsDropdownSelector","UIPatternsPill","UIPatternsReadMore","UIPatterns","UIPatternsMessage","UIPatternsDescriptionList","SitesApi","listSites","joinPath","parts","acc","partComponents","pop","SitesNav","projectId","site","site_name","InstrumentsApi","listInstruments","InstrumentsNav","siteId","instrument","inst_name","MeasurementsApi","listMeasurements","Plot","createPlotlyComponent","Plotly","MeasurementsPlot","measurements","layout","x","y","Measurements","variable","graphWidth","plotlyLayout","width","showGraph","setGraph","measurementsList","setMeasurementsList","measurementsCollapsed","setMeasurementsCollapsed","fullMeasurementsList","setFullMeasurementsList","collapsedMeasurementsList","setCollapsedMeasurementsList","variableLabel","setVariableLabel","fullMeasurements","entry","replace","collapsedMeasurements","capitalizedVariable","li","instrumentId","instId","startDate","toISOString","endDate","measurements_in_file","variables","variableMeasurements","setStart","setEnd","setLimit","setOffset","limitInput","setLimitInput","offsetInput","setOffsetInput","onBlur","parseInt","isNaN","ProjectsNav","project","project_name","pathTypes","pathType","Tenants","TenantsApi","listTenants","App","tenants","history","useHistory","ButtonDropdown","DropdownToggle","caret","DropdownMenu","maxHeight","overflowY","DropdownItem","divider","base_url","tenant_id","workbenchContent","flexGrow","minHeight","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ea838129.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"col-header\":\"TransferModal_col-header__1VeEw\",\"file-list\":\"TransferModal_file-list__VyyAV\",\"file-list-origin\":\"TransferModal_file-list-origin__1XZCS\",\"nav-list\":\"TransferModal_nav-list__2-bwC\",\"transfer-list\":\"TransferModal_transfer-list__xrIuo\",\"body\":\"TransferModal_body__21-u7\",\"pane\":\"TransferModal_pane__2-1-i\",\"transfer-detail\":\"TransferModal_transfer-detail__387ZP\",\"transfer-cancel\":\"TransferModal_transfer-cancel__3Zx-5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"count\":\"Users_count__1MZB9\",\"container\":\"Users_container__1bueW\",\"user\":\"Users_user__2en7T\",\"flex\":\"Users_flex__10OOL\",\"flex-grow\":\"Users_flex-grow__29Rr_\",\"icon\":\"Users_icon__192Xz\",\"admin\":\"Users_admin__3jHv4\",\"last\":\"Users_last__3Di3O\",\"odd\":\"Users_odd__3K1Gm\",\"even\":\"Users_even__2Ymqg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Wizard_container__3qZN2\",\"step-summary\":\"Wizard_step-summary__3fYK_\",\"name\":\"Wizard_name__2NY8V\",\"content\":\"Wizard_content__3inox\",\"edit\":\"Wizard_edit__2q79E\",\"step\":\"Wizard_step__3FsRH\",\"controls\":\"Wizard_controls__vzizi\",\"submit\":\"Wizard_submit__20_PU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UIPatterns_container__1JSF5\",\"header\":\"UIPatterns_header__WSxMM\",\"grid-item\":\"UIPatterns_grid-item__2frHa\",\"items\":\"UIPatterns_items__1DALT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form-field__label\":\"FieldWrapperFormik_form-field__label__34mMz\",\"form-field__help\":\"FieldWrapperFormik_form-field__help__WzzSU\",\"form-field__validation-error\":\"FieldWrapperFormik_form-field__validation-error__DMpBm\",\"hidden\":\"FieldWrapperFormik_hidden__2c6JU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Message_container__qTB7I\",\"is-scope-inline\":\"Message_is-scope-inline__2DJVS\",\"is-scope-section\":\"Message_is-scope-section__gXMMO\",\"text\":\"Message_text__1bN4P\",\"type-icon\":\"Message_type-icon__3eRPg\",\"close-button\":\"Message_close-button__3u8Q3\",\"is-info\":\"Message_is-info__gV83a\",\"icon\":\"Message_icon__1Etvm\",\"is-warn\":\"Message_is-warn__EZOAP\",\"is-error\":\"Message_is-error__2wwfW\",\"is-success\":\"Message_is-success__er7HS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"array-entry\":\"DescriptionList_array-entry__3y8hj\",\"container\":\"DescriptionList_container__1br0M\",\"is-horz\":\"DescriptionList_is-horz__wOsea\",\"key\":\"DescriptionList_key__24k-C\",\"value\":\"DescriptionList_value__OLcpb\",\"is-narrow\":\"DescriptionList_is-narrow__2Pusn\",\"is-wide\":\"DescriptionList_is-wide__XDN-J\",\"is-vert\":\"DescriptionList_is-vert__1mfKG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"file-dropzone\":\"UploadModal_file-dropzone__3Kbqx\",\"files-list-header\":\"UploadModal_files-list-header__3ZdNR\",\"files-list-container\":\"UploadModal_files-list-container__-qusi\",\"file-list-table\":\"UploadModal_file-list-table__3bDbS\",\"upload-error\":\"UploadModal_upload-error__IO3NR\",\"remove-file\":\"UploadModal_remove-file__3EIxb\",\"progress-bar-container\":\"UploadModal_progress-bar-container__2m9ue\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"count\":\"PipelineList_count__22wsH\",\"card-container\":\"PipelineList_card-container__1qO1g\",\"card\":\"PipelineList_card__2o72v\",\"card-footer\":\"PipelineList_card-footer__3CvIi\",\"card-button\":\"PipelineList_card-button__2c1Ri\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"li\":\"Measurements_li__yItZJ\",\"measurements-list\":\"Measurements_measurements-list__2uzCv\",\"graph-container\":\"Measurements_graph-container__1I3oo\",\"graph-container-expand\":\"Measurements_graph-container-expand__3TZc9\",\"graph-toggle\":\"Measurements_graph-toggle__1tOja\",\"graph-toggle-label\":\"Measurements_graph-toggle-label__haI3N\",\"variable-label\":\"Measurements_variable-label__1qJmE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"control\":\"Toolbar_control__3cJR-\",\"control-bar\":\"Toolbar_control-bar__3IEn5\",\"numeric-input\":\"Toolbar_numeric-input__2gTX-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Context_button__3xrGj\",\"grid-2-auto-auto\":\"Context_grid-2-auto-auto__27ffE\",\"grid-2\":\"Context_grid-2__LoYbR\"};","import React from 'react';\r\n\r\nexport type TapisContextType = {\r\n  basePath: string;\r\n};\r\n\r\nexport const authContext: TapisContextType = {\r\n  basePath: '',\r\n};\r\n\r\nconst TapisContext: React.Context<TapisContextType> =\r\n  React.createContext<TapisContextType>(authContext);\r\n\r\nexport default TapisContext;\r\n","import { useContext } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport Cookies from 'js-cookie';\r\nimport { Authenticator } from '@tapis/tapis-typescript';\r\nimport jwt_decode from 'jwt-decode';\r\nimport TapisContext from './TapisContext';\r\n\r\nconst useTapisConfig = () => {\r\n  const { basePath } = useContext(TapisContext);\r\n\r\n  const getAccessToken = ():\r\n    | Authenticator.NewAccessTokenResponse\r\n    | undefined => {\r\n    const cookie = Cookies.get('tapis-token');\r\n    if (!!cookie) return JSON.parse(cookie);\r\n    return undefined;\r\n  };\r\n\r\n  const { data, refetch } = useQuery<\r\n    Authenticator.NewAccessTokenResponse | undefined\r\n  >('tapis-token', getAccessToken, {\r\n    initialData: () => getAccessToken(),\r\n  });\r\n\r\n  const setAccessToken = async (\r\n    resp: Authenticator.NewAccessTokenResponse | null | undefined\r\n  ): Promise<void> => {\r\n    if (!resp) {\r\n      Cookies.remove('tapis-token');\r\n      await refetch();\r\n      return;\r\n    }\r\n    const expires = new Date(resp.expires_at ?? 0);\r\n    Cookies.set('tapis-token', JSON.stringify(resp), { expires });\r\n    await refetch();\r\n  };\r\n\r\n  const claims: { [key: string]: any } = data?.access_token\r\n    ? jwt_decode(data?.access_token)\r\n    : {};\r\n\r\n  return {\r\n    basePath,\r\n    accessToken: data,\r\n    setAccessToken,\r\n    claims,\r\n  };\r\n};\r\n\r\nexport default useTapisConfig;\r\n","import { default as TapisProvider } from './TapisProvider';\r\n\r\nexport default TapisProvider;\r\n","import React from 'react';\r\nimport { QueryClient, QueryClientProvider } from 'react-query';\r\nimport { Authenticator } from '@tapis/tapis-typescript';\r\nimport TapisContext, { TapisContextType } from '../context/TapisContext';\r\n\r\ninterface TapisProviderProps {\r\n  token?: Authenticator.NewAccessTokenResponse;\r\n  basePath: string;\r\n}\r\n\r\nconst TapisProvider: React.FC<React.PropsWithChildren<TapisProviderProps>> = ({\r\n  token,\r\n  basePath,\r\n  children,\r\n}) => {\r\n  // Provide a context state for the rest of the application, including\r\n  // a way of modifying the state\r\n  const contextValue: TapisContextType = {\r\n    basePath,\r\n  };\r\n\r\n  // react-query client\r\n  const queryClient = new QueryClient();\r\n\r\n  return (\r\n    <TapisContext.Provider value={contextValue}>\r\n      <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>\r\n    </TapisContext.Provider>\r\n  );\r\n};\r\n\r\nexport default TapisProvider;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { Button } from 'reactstrap';\r\nimport styles from './Breadcrumbs.module.scss';\r\n\r\nexport type BreadcrumbType = {\r\n  to?: string;\r\n  onClick?: (to: string) => void;\r\n  text: string;\r\n};\r\n\r\nconst BreadcrumbFragment: React.FC<BreadcrumbType> = ({\r\n  to,\r\n  onClick,\r\n  text,\r\n}) => {\r\n  if (onClick) {\r\n    return (\r\n      <span className={styles.fragment}>\r\n        {' '}\r\n        <Button\r\n          color=\"link\"\r\n          className={styles.link}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            to && onClick(to);\r\n          }}\r\n        >\r\n          {text}\r\n        </Button>\r\n        &nbsp;/&nbsp;\r\n      </span>\r\n    );\r\n  }\r\n  if (to) {\r\n    return (\r\n      <span className={styles.fragment}>\r\n        <NavLink to={to}>{text}</NavLink>&nbsp;/&nbsp;\r\n      </span>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <span className={styles.fragment}>\r\n      {text}&nbsp;{`${text !== '...' ? '/' : ''}`}&nbsp;\r\n    </span>\r\n  );\r\n};\r\n\r\ntype BreadcrumbsProps = {\r\n  breadcrumbs: Array<BreadcrumbType>;\r\n  truncate?: boolean;\r\n};\r\n\r\nconst Breadcrumbs: React.FC<BreadcrumbsProps> = ({ breadcrumbs, truncate }) => {\r\n  let truncatedBreadcrumbs = breadcrumbs;\r\n  if (truncate && breadcrumbs.length >= 5) {\r\n    // First 2 breadcrumbs\r\n    truncatedBreadcrumbs = [...breadcrumbs.slice(0, 2)];\r\n\r\n    // Ellipsis representing truncated breadcrumbs\r\n    truncatedBreadcrumbs.push({ text: '\\u2026' });\r\n\r\n    // Last 2 breadcrumbs\r\n    truncatedBreadcrumbs.push(\r\n      ...breadcrumbs.slice(breadcrumbs.length - 2, breadcrumbs.length)\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={styles.box}>\r\n      {truncatedBreadcrumbs.map((item, index) => {\r\n        const { text, to, onClick } = item;\r\n        if (index === truncatedBreadcrumbs.length - 1) {\r\n          return <BreadcrumbFragment text={text} key={uuidv4()} />;\r\n        }\r\n        return (\r\n          <BreadcrumbFragment\r\n            text={text}\r\n            to={to}\r\n            onClick={onClick}\r\n            key={uuidv4()}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Breadcrumbs;\r\n","import Breadcrumbs from './Breadcrumbs';\r\n\r\nexport default Breadcrumbs;\r\n","import { useState, useCallback } from 'react';\r\n\r\nconst useModal = () => {\r\n  const [modal, setModal] = useState(false);\r\n  const open = useCallback(() => {\r\n    setModal(true);\r\n  }, [setModal]);\r\n  const close = useCallback(() => {\r\n    setModal(false);\r\n  }, [setModal]);\r\n  return {\r\n    modal,\r\n    open,\r\n    close,\r\n  };\r\n};\r\n\r\nexport default useModal;\r\n","import GenericModal from './GenericModal';\r\n\r\nexport default GenericModal;\r\nexport { default as useModal } from './useModal';\r\n","import React from 'react';\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\n\r\nexport type GenericModalProps = {\r\n  toggle: () => void;\r\n  title: string;\r\n  body: React.ReactNode;\r\n  footer?: React.ReactNode;\r\n  [key: string]: any;\r\n};\r\n\r\nconst GenericModal: React.FC<GenericModalProps> = ({\r\n  toggle,\r\n  title,\r\n  body,\r\n  footer,\r\n  ...props\r\n}) => {\r\n  return (\r\n    <Modal isOpen={true} toggle={toggle} {...props}>\r\n      <ModalHeader toggle={toggle} charCode=\"&#x2715;\">\r\n        <span>{title}</span>\r\n      </ModalHeader>\r\n      <ModalBody>{body}</ModalBody>\r\n      {footer && <ModalFooter>{footer}</ModalFooter>}\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default GenericModal;\r\n","import React from 'react';\r\nimport { Spinner } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\nimport './LoadingSpinner.scss';\r\n\r\nconst LoadingSpinner = ({ placement, className }) => {\r\n  return (\r\n    <div className={`loading-icon ${className}`} data-testid=\"loading-spinner\">\r\n      <Spinner className={placement} />\r\n    </div>\r\n  );\r\n};\r\nLoadingSpinner.propTypes = {\r\n  placement: PropTypes.string,\r\n  className: PropTypes.string,\r\n};\r\nLoadingSpinner.defaultProps = {\r\n  placement: 'section',\r\n  className: '',\r\n};\r\n\r\nexport default LoadingSpinner;\r\n","import LoadingSpinner from './LoadingSpinner';\r\n\r\nexport default LoadingSpinner;\r\n","/**\r\n * Standard welcome message texts\r\n *\r\n * Notes:\r\n * - Each of these is expected-not-required to match a route from `./routes.js`.\r\n * - To customize message text (example: dynamic content) use `<Section>` props.\r\n */\r\nexport const DASHBOARD =\r\n  'This page allows you to monitor your job status, get help with tickets, and view the status of the High Performance Computing (HPC) systems.';\r\nexport const DATA = 'This page allows you to upload and manage your files.';\r\nexport const ALLOCATIONS =\r\n  'This page allows you to monitor the status of allocations on the HPC systems and view a breakdown of team usage.';\r\nexport const APPLICATIONS =\r\n  'This page allows you to submit jobs to the HPC systems or access Cloud services using a variety of applications.';\r\nexport const HISTORY =\r\n  'This page allows you to monitor a log of all previous job submissions.';\r\nexport const ACCOUNT =\r\n  'This page allows you to manage your account profile, change your password and view software licenses.';\r\nexport const TICKETS =\r\n  'This page allows you to submit a help request via an RT Ticket.';\r\nexport const UI =\r\n  'This hidden page allows developers to review UI components in isolation.';\r\n","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {\r\n  WelcomeMessage,\r\n  useShouldShowMessage as useShouldShowWelcomeMessage,\r\n} from '..';\r\nimport * as MESSAGES from '../../_constants/welcomeMessages';\r\n\r\nimport styles from './SectionMessages.module.css';\r\nimport './SectionMessages.css';\r\n\r\n/**\r\n * A list for section messages that supports:\r\n *\r\n * - manual messages\r\n * - manual welcome message\r\n * - automatic welcome message\r\n * - automatic welcome message with custom text\r\n *\r\n * @example\r\n * // an automatic welcome message (if found), no additional messages\r\n * <SectionMessages routeName=\"DASHBOARD\" />\r\n * @example\r\n * // overwrite text of an automatic welcome message, no additional messages\r\n * <SectionMessages\r\n *   routeName=\"DASHBOARD\"\r\n *   welcomeText={`We welcome you to the dashboard, ${givenName}`} />\r\n * @example\r\n * // define text for a manual welcome message, no additional messages\r\n * <SectionMessages welcomeText={`We welcome you to this page, ${givenName}`} />\r\n * @example\r\n * // an automatic welcome message (if found), some additional messages\r\n * <SectionMessages routeName=\"DASHBOARD\">\r\n *   <Alert color=\"success\">You win!</Alert>\r\n *   <Alert color=\"secondary\">\r\n *     <button>Claim your prize.</button>\r\n *   </Alert>\r\n * </SectionMessages>\r\n * @example\r\n * // no automatic welcome message, some additional messages\r\n * <SectionMessages>\r\n *   <Alert color=\"success\">You win!</Alert>\r\n *   <Alert color=\"secondary\">\r\n *     <button>Claim your prize.</button>\r\n *   </Alert>\r\n * </SectionMessages>\r\n */\r\nfunction SectionMessages({ children, className, routeName, welcomeText }) {\r\n  const welcomeMessageText = welcomeText || MESSAGES[routeName];\r\n  /* FAQ: An alternate message name allows tracking custom message dismissal */\r\n  const welcomeMessageName = routeName || welcomeMessageText;\r\n  const welcomeMessage = welcomeMessageText && (\r\n    <WelcomeMessage messageName={welcomeMessageName}>\r\n      {welcomeMessageText}\r\n    </WelcomeMessage>\r\n  );\r\n  const hasMessage =\r\n    useShouldShowWelcomeMessage(routeName) || children.length > 0;\r\n  const hasMessageClass = 'has-message';\r\n\r\n  useEffect(() => {\r\n    if (hasMessage) {\r\n      document.body.classList.add(hasMessageClass);\r\n    } else {\r\n      document.body.classList.remove(hasMessageClass);\r\n    }\r\n  }, [hasMessage]);\r\n\r\n  return (\r\n    <aside className={`${styles.root} ${className}`}>\r\n      {welcomeMessage}\r\n      {children}\r\n    </aside>\r\n  );\r\n}\r\nSectionMessages.propTypes = {\r\n  /** Component-based message(s) (e.g. <Alert>, <Message>) (welcome message found automatically, given `routeName`) */\r\n  children: PropTypes.node,\r\n  /** Any additional className(s) for the root element */\r\n  className: PropTypes.string,\r\n  /** The name of the route section (to search for required welcome message) */\r\n  routeName: PropTypes.string,\r\n  /** Custom welcome text (can overwrite `routeName`-based welcome message) */\r\n  welcomeText: PropTypes.string,\r\n};\r\nSectionMessages.defaultProps = {\r\n  children: '',\r\n  className: '',\r\n  routeName: '',\r\n  welcomeText: '',\r\n};\r\n\r\nexport default SectionMessages;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n/* eslint-disable no-unused-vars */\r\nimport styles from './SectionContent.module.css';\r\nimport layoutStyles from './SectionContent.layouts.module.css';\r\n/* eslint-enable no-unused-vars */\r\n\r\n/**\r\n * Map of layout names to CSS classes\r\n * @enum {number}\r\n */\r\nexport const LAYOUT_CLASS_MAP = {\r\n  /** One full-height row of flexible blocks */\r\n  oneRow: 'one-row',\r\n  /** One full-width column of flexible blocks */\r\n  oneColumn: 'one-column',\r\n  /**\r\n   * Two left/right columns (wide/narrow) of flexible blocks\r\n   *\r\n   * (On narrow screens, this behaves like `oneColumn`)\r\n   */\r\n  twoColumn: 'two-column',\r\n};\r\nexport const DEFAULT_LAYOUT = 'oneRow';\r\nexport const LAYOUTS = [...Object.keys(LAYOUT_CLASS_MAP)];\r\n\r\n/**\r\n * A content panel wrapper that supports:\r\n *\r\n * - lay out panels (based on layout name and panel position)\r\n * - change element tag (like `section` instead of `div`)\r\n * - scroll root element (overflow of panel content is not managed)\r\n * - debug layout (via color-coded panels)\r\n *\r\n * @example\r\n * // features: lay out panels, change tag, allow content scroll, color-coded\r\n * <SectionContent\r\n *   layoutName=\"oneColumn\"\r\n *   tagName=\"main\",\r\n *   shouldScroll,\r\n *   shouldDebugLayout\r\n * >\r\n *   <div>Thing 1</div>\r\n *   <div>Thing 2</div>\r\n *   <div>Thing 3</div>\r\n * </SectionContent>\r\n */\r\nfunction SectionContent({\r\n  className,\r\n  children,\r\n  layoutName,\r\n  shouldScroll,\r\n  shouldDebugLayout,\r\n  tagName,\r\n}) {\r\n  let styleName = '';\r\n  const styleNameList = ['styles.root'];\r\n  const layoutClass = LAYOUT_CLASS_MAP[layoutName];\r\n  const TagName = tagName;\r\n\r\n  if (shouldScroll) styleNameList.push(styles['should-scroll']);\r\n  if (shouldDebugLayout) styleNameList.push(styles['should-debug-layout']);\r\n  if (layoutClass) styleNameList.push(layoutStyles[layoutClass]);\r\n\r\n  // Do not join inside JSX (otherwise arcane styleName error occurs)\r\n  styleName = styleNameList.join(' ');\r\n\r\n  return <TagName className={`${className} ${styleName}`}>{children}</TagName>;\r\n}\r\nSectionContent.propTypes = {\r\n  /** Any additional className(s) for the root element */\r\n  className: PropTypes.string,\r\n  /** Content nodes where each node is a block to be laid out */\r\n  children: PropTypes.node.isRequired,\r\n  /** The name of the layout by which to arrange the nodes */\r\n  layoutName: PropTypes.oneOf(LAYOUTS).isRequired,\r\n  /** Whether to allow root element to scroll */\r\n  shouldScroll: PropTypes.bool,\r\n  /** Whether to allow panel debugging (highlight each panel with unique hue) */\r\n  shouldDebugLayout: PropTypes.bool,\r\n  /** Override tag of the root element */\r\n  tagName: PropTypes.string,\r\n};\r\nSectionContent.defaultProps = {\r\n  className: '',\r\n  shouldScroll: false,\r\n  shouldDebugLayout: false,\r\n  tagName: 'div',\r\n};\r\n\r\nexport default SectionContent;\r\n","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { SectionHeader, SectionContent } from '..';\r\nimport SectionMessages from './SectionMessages';\r\nimport { LAYOUTS, DEFAULT_LAYOUT } from '../SectionContent';\r\n\r\nimport styles from './Section.module.css';\r\n\r\n/**\r\n * A section layout structure that supports:\r\n *\r\n * - messages (automatically loads welcome message)\r\n * - header (with actions, e.g. links, buttons, form)\r\n * - content (that will be arranged in the layout you choose)\r\n * - manual or automatic sub-components (i.e. header, content)\r\n *\r\n * @example\r\n * // manually build messages, automatically build welcome message\r\n * <Section\r\n *   routeName=\"DASHBOARD\"\r\n *   messages={<></>}\r\n * />\r\n * @example\r\n * // overwrite text of an automatic welcome message, no additional messages\r\n * <Section\r\n *   routeName=\"DASHBOARD\"\r\n *   welcomeMessageText={`We welcome you to the dashboard, ${givenName}`}\r\n * />\r\n * @example\r\n * // define text for a manual welcome message, no additional messages\r\n * <Section\r\n *   welcomeMessageText={`We welcome you to this page, ${givenName}`}\r\n * />\r\n * @example\r\n * // add class to <body>, automatically build sub-components\r\n * // FAQ: class on <body> + `Bob.global.css` + `body.global-bob-class`\r\n * //      = unlimited, explicit, isolated CSS side effects\r\n * <Section\r\n *   bodyClassName=\"has-loaded-some_section\"\r\n *   content={}\r\n * />\r\n * @example\r\n * // automatically build sub-components, with some customization\r\n * <Section\r\n *   header=\"Dashboard\"\r\n *   headerStyleName=\"header\"\r\n *   headerActions={}\r\n *   content={}\r\n *   contentStyleName=\"items\"\r\n *   contentLayoutName=\"twoColumn\"\r\n * />\r\n * @example\r\n * // alternate syntax to automatically build content\r\n * <Section\r\n *   contentStyleName=\"items\"\r\n *   contentLayoutName=\"twoColumn\"\r\n * >\r\n *   {} <!-- i.e. content -->\r\n * </Section>\r\n * @example\r\n * // manually build sub-components\r\n * // WARNING: This component's styles are NOT applied to manual sub-components\r\n * // FAQ: The <SectionHeader> offers auto-built header's layout styles\r\n * // FAQ: The <SectionContent> offers auto-built content's layout styles\r\n * <Section\r\n *   manualHeader={\r\n *     <SectionHeader {} />\r\n *   }\r\n *   manualContent={\r\n *     <SectionContent {} />\r\n *   }\r\n * />\r\n * @example\r\n * // manually build content (alternate method)\r\n * // WARNING: This component's styles are NOT applied to manual sub-components\r\n * // FAQ: The <SectionContent> offers auto-built content's layout options\r\n * <Section manualContent>\r\n *   <SectionContent {} />\r\n * />\r\n */\r\nfunction Section({\r\n  bodyClassName,\r\n  children,\r\n  className,\r\n  content,\r\n  contentClassName,\r\n  contentLayoutName,\r\n  contentShouldScroll,\r\n  header,\r\n  headerActions,\r\n  headerClassName,\r\n  manualContent,\r\n  manualHeader,\r\n  // manualSidebar,\r\n  // sidebar,\r\n  // sidebarClassName,\r\n  messages,\r\n  messagesClassName,\r\n  routeName,\r\n  welcomeMessageText,\r\n}) {\r\n  const shouldBuildHeader = header || headerClassName || headerActions;\r\n\r\n  // Allowing ineffectual prop combinations would lead to confusion\r\n  if (\r\n    manualContent &&\r\n    (content || contentClassName || contentLayoutName || contentShouldScroll)\r\n  ) {\r\n    throw new Error(\r\n      'When passing `manualContent`, the following props are ineffectual: `content`, `contentClassName`, `contentLayoutName`, `contentShouldScroll`'\r\n    );\r\n  }\r\n  if (manualHeader && (header || headerClassName || headerActions)) {\r\n    throw new Error(\r\n      'When passing `manualHeader`, the following props are ineffectual: `header`, `headerClassName`, `headerActions`'\r\n    );\r\n  }\r\n  // if (manualSidebar && (sidebar || sidebarClassName)) {\r\n  //   throw new Error(\r\n  //     'When passing `manualSidebar`, the following props are ineffectual: `sidebar`, `sidebarClassName`'\r\n  //   );\r\n  // }\r\n\r\n  useEffect(() => {\r\n    if (bodyClassName) document.body.classList.add(bodyClassName);\r\n\r\n    return function cleanup() {\r\n      if (bodyClassName) document.body.classList.remove(bodyClassName);\r\n    };\r\n  }, [bodyClassName]);\r\n\r\n  return (\r\n    <section className={`${className} ${styles.root}`}>\r\n      {/* eslint-disable */}\r\n      <SectionMessages\r\n        className={styles.messages}\r\n        routeName={routeName}\r\n        className={messagesClassName}\r\n        welcomeText={welcomeMessageText}\r\n      >\r\n        {messages}\r\n      </SectionMessages>\r\n      {/* {manualSidebar ? (\r\n        <>{manualSidebar}</>\r\n      ) : (\r\n        <Sidebar styleName=\"sidebar\" className={sidebarClassName}>\r\n          {sidebar}\r\n        </Sidebar>\r\n      )} */}\r\n      {manualHeader ? (\r\n        <>{manualHeader}</>\r\n      ) : (\r\n        shouldBuildHeader && (\r\n          <SectionHeader\r\n            className={`${headerClassName} ${styles.header}`}\r\n            actions={headerActions}\r\n          >\r\n            {header}\r\n          </SectionHeader>\r\n        )\r\n      )}\r\n      {manualContent ? (\r\n        <>\r\n          {manualContent}\r\n          {children}\r\n        </>\r\n      ) : (\r\n        <SectionContent\r\n          tagName=\"main\"\r\n          className={`${contentClassName} ${styles.content}`}\r\n          layoutName={contentLayoutName || DEFAULT_LAYOUT}\r\n          shouldScroll={contentShouldScroll}\r\n        >\r\n          {content}\r\n          {children}\r\n        </SectionContent>\r\n      )}\r\n    </section>\r\n  );\r\n}\r\nSection.propTypes = {\r\n  /** Name of class to append to body when section is active */\r\n  bodyClassName: PropTypes.string,\r\n  /** Alternate way to pass `manualContent` and `content` */\r\n  children: PropTypes.node,\r\n  /** Any additional className(s) for the root element */\r\n  className: PropTypes.string,\r\n  /** The section content children (content element built automatically) */\r\n  content: PropTypes.node,\r\n  /** Any additional className(s) for the content element */\r\n  contentClassName: PropTypes.string,\r\n  /** The name of the layout by which to arrange the content children */\r\n  contentLayoutName: PropTypes.oneOf(LAYOUTS.concat('')),\r\n  /** Whether to allow content to scroll */\r\n  contentShouldScroll: PropTypes.bool,\r\n  /** The section header text (header element built automatically) */\r\n  header: PropTypes.node,\r\n  /** Any section actions for the header element */\r\n  headerActions: PropTypes.node,\r\n  /** Any additional className(s) for the header element */\r\n  headerClassName: PropTypes.string,\r\n  /** The section content (built by user) flag or element */\r\n  /* RFE: Ideally, limit these to one relevant `Section[]` component */\r\n  /* SEE: https://github.com/facebook/react/issues/2979 */\r\n  manualContent: PropTypes.oneOfType([PropTypes.bool, PropTypes.element]),\r\n  /** The section header (built by user) element */\r\n  manualHeader: PropTypes.element,\r\n  // /** The page-specific sidebar */\r\n  // sidebar: PropTypes.node,\r\n  // /** Additional className for the sidebar element */\r\n  // sidebarClassName: PropTypes.string,\r\n  /** Any component-based message(s) (e.g. <Alert>, <Message>) (welcome message found automatically, given `routeName`) */\r\n  messages: PropTypes.node,\r\n  /** Any additional className(s) for the message list */\r\n  messagesClassName: PropTypes.string,\r\n  /** The name of the route section (to search for a welcome message) */\r\n  routeName: PropTypes.string,\r\n  /** Any additional className(s) for the sidebar list */\r\n  // sidebarClassName: '',\r\n  /** Custom welcome text (can overwrite `routeName`-based welcome message) */\r\n  welcomeMessageText: PropTypes.string,\r\n};\r\nSection.defaultProps = {\r\n  bodyClassName: '',\r\n  children: '',\r\n  className: '',\r\n  content: '',\r\n  contentClassName: '',\r\n  contentLayoutName: '',\r\n  contentShouldScroll: false,\r\n  header: '',\r\n  headerActions: '',\r\n  headerClassName: '',\r\n  manualContent: undefined,\r\n  manualHeader: undefined,\r\n  messages: '',\r\n  messagesClassName: '',\r\n  routeName: '',\r\n  // sidebarClassName: '',\r\n  welcomeMessageText: '',\r\n};\r\n\r\nexport default Section;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './SectionHeader.module.css';\r\n\r\n/**\r\n * A header for a `Section[]` component\r\n *\r\n * - heading text\r\n * - actions (e.g. links, buttons, form)\r\n * - automatic styles or markup for given context (ex: within a form or a table)\r\n *\r\n * @example\r\n * // a section header with heading text\r\n * <SectionHeader>\r\n *   <a href=\"\">Hyperlinked Name of Section</a>\r\n * </SectionHeader>\r\n * @example\r\n * // a form header with actions and heading text\r\n * <SectionHeader\r\n *   actions={<button type=\"reset\">Reset</button>}\r\n *   isForForm\r\n * >\r\n *   Name of Form\r\n * </SectionHeader>\r\n * @example\r\n * // a table header with actions and heading text\r\n * <SectionHeader\r\n *   actions={<input type=\"search\" />}\r\n *   isForTable\r\n * >\r\n *   Name of Table\r\n * </SectionHeader>\r\n */\r\nfunction SectionHeader({\r\n  actions,\r\n  children,\r\n  className,\r\n  isForForm,\r\n  isForTable,\r\n}) {\r\n  let styleName = '';\r\n  const styleNameList = [styles['root']];\r\n  const HeadingTagName = isForForm || isForTable ? 'h3' : 'h2';\r\n\r\n  if (isForForm) styleNameList.push(styles['for-form']);\r\n  if (isForTable) styleNameList.push(styles['for-table']);\r\n\r\n  // Do not join inside JSX (otherwise arcane styleName error occurs)\r\n  styleName = styleNameList.join(' ');\r\n\r\n  return (\r\n    <header className={`${styleName} ${className}`}>\r\n      {children && (\r\n        <HeadingTagName className={styles.heading}>{children}</HeadingTagName>\r\n      )}\r\n      {actions}\r\n    </header>\r\n  );\r\n}\r\nSectionHeader.propTypes = {\r\n  /** Any actions (buttons, links, forms, etc) */\r\n  actions: PropTypes.node,\r\n  /** The text a.k.a. title */\r\n  children: PropTypes.node,\r\n  /** Any additional className(s) for the root element */\r\n  className: PropTypes.string,\r\n  /** Whether this header is for a form */\r\n  isForForm: PropTypes.bool,\r\n  /** Whether this header is for a table */\r\n  isForTable: PropTypes.bool,\r\n};\r\nSectionHeader.defaultProps = {\r\n  actions: '',\r\n  className: '',\r\n  children: '',\r\n  isForForm: false,\r\n  isForTable: false,\r\n};\r\n\r\nexport default SectionHeader;\r\n","import React from 'react';\r\nimport { useTable } from 'react-table';\r\nimport PropTypes from 'prop-types';\r\nimport LoadingSpinner from '../LoadingSpinner';\r\nimport './InfiniteScrollTable.scss';\r\n\r\nconst rowContentPropType = PropTypes.oneOfType([\r\n  PropTypes.string,\r\n  PropTypes.element,\r\n  PropTypes.oneOf([React.Fragment]),\r\n]);\r\n\r\nconst InfiniteScrollLoadingRow = ({ isLoading }) => {\r\n  if (!isLoading) {\r\n    return null;\r\n  }\r\n  return (\r\n    <tr className=\"-status\">\r\n      <td>\r\n        <LoadingSpinner placement=\"inline\" />\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\nInfiniteScrollLoadingRow.propTypes = {\r\n  isLoading: PropTypes.bool.isRequired,\r\n};\r\n\r\nconst InfiniteScrollNoDataRow = ({ display, noDataText }) => {\r\n  if (!display) {\r\n    return null;\r\n  }\r\n  return (\r\n    <tr className=\"-status\">\r\n      <td>\r\n        <span className=\"-status__message\">{noDataText}</span>\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\nInfiniteScrollNoDataRow.propTypes = {\r\n  display: PropTypes.bool.isRequired,\r\n  noDataText: rowContentPropType.isRequired,\r\n};\r\n\r\nconst InfiniteScrollTable = ({\r\n  tableColumns,\r\n  tableData,\r\n  onInfiniteScroll,\r\n  isLoading,\r\n  className,\r\n  noDataText,\r\n  getRowProps,\r\n  columnMemoProps,\r\n}) => {\r\n  const columns = React.useMemo(\r\n    () => tableColumns,\r\n    /* eslint-disable-next-line */\r\n    [columnMemoProps, tableColumns]\r\n  );\r\n  const data = React.useMemo(() => tableData, [tableData]);\r\n\r\n  const { getTableProps, getTableBodyProps, headerGroups, rows, prepareRow } =\r\n    useTable({ columns, data });\r\n  const onScroll = ({ target }) => {\r\n    const bottom =\r\n      target.scrollHeight - target.scrollTop === target.clientHeight;\r\n    if (bottom && target.scrollTop > 0) {\r\n      onInfiniteScroll(tableData.length);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <table {...getTableProps()} className={`${className} InfiniteScrollTable`}>\r\n      <thead>\r\n        {headerGroups.map((headerGroup) => (\r\n          <tr {...headerGroup.getHeaderGroupProps()}>\r\n            {headerGroup.headers.map((column) => (\r\n              <th {...column.getHeaderProps()}>{column.render('Header')}</th>\r\n            ))}\r\n          </tr>\r\n        ))}\r\n      </thead>\r\n      <tbody {...getTableBodyProps()} onScroll={onScroll}>\r\n        {rows.map((row) => {\r\n          prepareRow(row);\r\n          return (\r\n            <tr {...row.getRowProps()} {...getRowProps(row)}>\r\n              {row.cells.map((cell) => {\r\n                return (\r\n                  <td\r\n                    {...cell.getCellProps({ className: cell.column.className })}\r\n                  >\r\n                    {cell.render('Cell')}\r\n                  </td>\r\n                );\r\n              })}\r\n            </tr>\r\n          );\r\n        })}\r\n        <InfiniteScrollLoadingRow isLoading={isLoading} />\r\n        <InfiniteScrollNoDataRow\r\n          display={!isLoading && tableData.length === 0}\r\n          noDataText={noDataText}\r\n        />\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nInfiniteScrollTable.propTypes = {\r\n  tableColumns: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n  tableData: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n  onInfiniteScroll: PropTypes.func,\r\n  isLoading: PropTypes.bool,\r\n  className: PropTypes.string,\r\n  noDataText: rowContentPropType,\r\n  getRowProps: PropTypes.func,\r\n  columnMemoProps: PropTypes.arrayOf(PropTypes.any),\r\n};\r\nInfiniteScrollTable.defaultProps = {\r\n  onInfiniteScroll: (offset) => {},\r\n  isLoading: false,\r\n  className: '',\r\n  noDataText: '',\r\n  getRowProps: (row) => {},\r\n  columnMemoProps: [],\r\n};\r\n\r\nexport default InfiniteScrollTable;\r\n","import InfiniteScrollTable from './InfiniteScrollTable';\r\n\r\nexport default InfiniteScrollTable;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Icon.module.css';\r\n\r\nconst Icon = ({ children, className, name }) => {\r\n  const iconClassName = `icon icon-${name}`;\r\n  // FAQ: The conditional avoids an extra space in class attribute value\r\n  const fullClassName = className\r\n    ? [className, iconClassName].join(' ')\r\n    : iconClassName;\r\n  const label = children;\r\n\r\n  return <i className={fullClassName} role=\"img\" aria-label={label} />;\r\n};\r\nIcon.propTypes = {\r\n  /** A text alternative to the icon (for accessibility) */\r\n  children: PropTypes.string,\r\n  /** Additional className for the root element */\r\n  className: PropTypes.string,\r\n  /** Name of icon from icon font (without the (`icon-` prefix) */\r\n  name: PropTypes.string.isRequired,\r\n};\r\nIcon.defaultProps = {\r\n  children: '',\r\n  className: '',\r\n};\r\n\r\nexport default Icon;\r\n","import Icon from './Icon';\r\n\r\nexport default Icon;\r\n","import React, { useState, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { CardHeader, CardBody, Card, Collapse } from 'reactstrap';\r\nimport Icon from '../Icon';\r\nimport './Expand.global.scss';\r\nimport styles from './Expand.module.scss';\r\n\r\nconst Expand = ({ className, detail, message }) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const toggleCallback = useCallback(() => {\r\n    setIsOpen(!isOpen);\r\n  }, [isOpen, setIsOpen]);\r\n\r\n  // TODO: Use `details/summary` tags, when `onToggle` support is \"last 2 versions\"\r\n  // SEE: https://github.com/facebook/react/issues/15486#issuecomment-669674869\r\n  return (\r\n    /* eslint-disable-next-line */\r\n    <Card className={styles.container} className={className} tag=\"div\">\r\n      <CardHeader className={styles.summary} onClick={toggleCallback} tag=\"div\">\r\n        <strong className={styles.header}>{detail}</strong>\r\n        <Icon name={isOpen ? 'collapse' : 'expand'} />\r\n      </CardHeader>\r\n      <Collapse isOpen={isOpen}>\r\n        <CardBody>{message}</CardBody>\r\n      </Collapse>\r\n    </Card>\r\n  );\r\n};\r\n\r\nExpand.propTypes = {\r\n  /** Additional className for the root element */\r\n  className: PropTypes.string,\r\n\r\n  detail: PropTypes.string.isRequired,\r\n  message: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\r\n};\r\nExpand.defaultProps = {\r\n  className: '',\r\n};\r\n\r\nexport default Expand;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Fade } from 'reactstrap';\r\nimport Icon from '../Icon';\r\n\r\nimport styles from './Message.module.scss';\r\n\r\nexport const ERROR_TEXT = {\r\n  mismatchCanDismissScope:\r\n    'For a <(Section)Message> to use `canDismiss`, `scope` must equal `section`.',\r\n  deprecatedType:\r\n    'In a <(Section|Inline)Message> `type=\"warn\"` is deprecated. Use `type=\"warning\"` instead.',\r\n  missingScope:\r\n    'A <Message> without a `scope` should become an <InlineMessage>. (If <Message> must be used, then explicitely set `scope=\"inline\"`.)',\r\n};\r\n\r\nexport const TYPE_MAP = {\r\n  info: {\r\n    iconName: 'conversation',\r\n    className: 'is-info',\r\n    iconText: 'Notice',\r\n  },\r\n  success: {\r\n    iconName: 'approved-reverse',\r\n    className: 'is-success',\r\n    iconText: 'Notice',\r\n  },\r\n  warning: {\r\n    iconName: 'alert',\r\n    className: 'is-warn',\r\n    iconText: 'Warning',\r\n  },\r\n  error: {\r\n    iconName: 'alert',\r\n    className: 'is-error',\r\n    iconText: 'Error',\r\n  },\r\n};\r\nTYPE_MAP.warn = TYPE_MAP.warning; // FAQ: Deprecated support for `type=\"warn\"`\r\nexport const TYPES = Object.keys(TYPE_MAP);\r\n\r\nexport const SCOPE_MAP = {\r\n  inline: {\r\n    className: 'is-scope-inline',\r\n    role: 'status',\r\n    tagName: 'span',\r\n  },\r\n  section: {\r\n    className: 'is-scope-section',\r\n    role: 'status',\r\n    tagName: 'p',\r\n  },\r\n  // app: {  } // FAQ: Do not use; instead, use a <NotificationToast>\r\n};\r\nexport const SCOPES = ['', ...Object.keys(SCOPE_MAP)];\r\nexport const DEFAULT_SCOPE = 'inline'; // FAQ: Historical support for default\r\n\r\n/**\r\n * Show an event-based message to the user\r\n * @todo Document examples\r\n * @example\r\n * // Blah blah\r\n * <Sample jsx>\r\n */\r\nconst Message = ({\r\n  children,\r\n  className,\r\n  onDismiss,\r\n  canDismiss,\r\n  isVisible,\r\n  scope,\r\n  type,\r\n}) => {\r\n  const typeMap = TYPE_MAP[type];\r\n  const scopeMap = SCOPE_MAP[scope || DEFAULT_SCOPE];\r\n  const { iconName, iconText, className: typeClassName } = typeMap;\r\n  const { role, tagName, className: scopeClassName } = scopeMap;\r\n\r\n  const hasDismissSupport = scope === 'section';\r\n\r\n  // Manage prop warnings\r\n  /* eslint-disable no-console */\r\n  if (canDismiss && !hasDismissSupport) {\r\n    // Component will work, except `canDismiss` is ineffectual\r\n    console.error(ERROR_TEXT.mismatchCanDismissScope);\r\n  }\r\n  if (type === 'warn') {\r\n    // Component will work, but `warn` is deprecated value\r\n    console.info(ERROR_TEXT.deprecatedType);\r\n  }\r\n  if (!scope) {\r\n    // Component will work, but `scope` should be defined\r\n    console.info(ERROR_TEXT.missingScope);\r\n  }\r\n  /* eslint-enable no-console */\r\n\r\n  // Manage class names\r\n  const modifierClassNames = [];\r\n  modifierClassNames.push(typeClassName);\r\n  modifierClassNames.push(scopeClassName);\r\n  const containerStyleNames = ['container', ...modifierClassNames]\r\n    .map((name) => styles[name])\r\n    .join(' ');\r\n\r\n  // Manage disappearance\r\n  // FAQ: Design does not want fade, but we still use <Fade> to manage dismissal\r\n  // TODO: Consider replacing <Fade> with a replication of `unmountOnExit: true`\r\n  const shouldFade = false;\r\n  const fadeProps = {\r\n    ...Fade.defaultProps,\r\n    unmountOnExit: true,\r\n    baseClass: shouldFade ? Fade.defaultProps.baseClass : '',\r\n    timeout: shouldFade ? Fade.defaultProps.timeout : 0,\r\n  };\r\n\r\n  return (\r\n    <Fade\r\n      // Avoid manually syncing Reactstrap <Fade>'s default props\r\n      // eslint-disable-next-line react/jsx-props-no-spreading\r\n      {...fadeProps}\r\n      tag={tagName}\r\n      className={`${className} ${containerStyleNames}`}\r\n      role={role}\r\n      in={isVisible}\r\n    >\r\n      <Icon\r\n        className={`${styles['icon']} ${styles['type-icon']}`}\r\n        name={iconName}\r\n      >\r\n        {iconText}\r\n      </Icon>\r\n      <span className={styles.text} data-testid=\"text\">\r\n        {children}\r\n      </span>\r\n      {canDismiss && hasDismissSupport ? (\r\n        <button\r\n          type=\"button\"\r\n          className={styles['close-button']}\r\n          aria-label=\"Close\"\r\n          onClick={onDismiss}\r\n        >\r\n          <Icon\r\n            className={`${styles.icon} ${styles['close-icon']}`}\r\n            name=\"close\"\r\n          />\r\n        </button>\r\n      ) : null}\r\n    </Fade>\r\n  );\r\n};\r\nMessage.propTypes = {\r\n  /** Whether an action can be dismissed (requires scope equals `section`) */\r\n  canDismiss: PropTypes.bool,\r\n  /** Message text (as child node) */\r\n  /* FAQ: We can support any values, even a component */\r\n  children: PropTypes.node.isRequired, // This checks for any render-able value\r\n  /** Additional className for the root element */\r\n  className: PropTypes.string,\r\n  /** Whether message is visible (pair with `onDismiss`) */\r\n  isVisible: PropTypes.bool,\r\n  /** Action on message dismissal (pair with `isVisible`) */\r\n  onDismiss: PropTypes.func,\r\n  /** How to place the message within the layout */\r\n  scope: PropTypes.oneOf(SCOPES), // RFE: Require scope; change all instances\r\n  /** Message type or severity */\r\n  type: PropTypes.oneOf(TYPES).isRequired,\r\n};\r\nMessage.defaultProps = {\r\n  className: '',\r\n  canDismiss: false,\r\n  isVisible: true,\r\n  onDismiss: () => {},\r\n  scope: '', // RFE: Require scope; remove this line\r\n};\r\n\r\nexport default Message;\r\n","import Message from './Message';\r\n\r\nexport default Message;\r\n","import React from 'react';\r\nimport Message from '../Message';\r\n\r\n/**\r\n * Show an event-based message to the user\r\n * @todo Document examples\r\n * @example\r\n * // Blah blah\r\n * <Sample jsx>\r\n */\r\nconst InlineMessage = (props) => {\r\n  // Override default props\r\n  const messageProps = {\r\n    ...Message.defaultProps,\r\n    ...props,\r\n    canDismiss: false,\r\n    scope: 'inline',\r\n  };\r\n\r\n  // Avoid manually syncing <Message>'s props\r\n  // eslint-disable-next-line react/jsx-props-no-spreading\r\n  return <Message {...messageProps} />;\r\n};\r\nInlineMessage.propTypes = Message.propTypes;\r\nInlineMessage.defaultProps = Message.defaultProps;\r\n\r\nexport default InlineMessage;\r\n","import InlineMessage from './InlineMessage';\r\n\r\nexport default InlineMessage;\r\n","import React, { useCallback, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Message from '../Message';\r\n\r\n/**\r\n * Show an event-based message to the user\r\n * @todo Document examples\r\n * @example\r\n * // Blah blah\r\n * <Sample jsx>\r\n */\r\nconst SectionMessage = (props) => {\r\n  const [isVisible, setIsVisible] = useState(true);\r\n\r\n  // Manage visibility\r\n  const onDismiss = useCallback(() => {\r\n    setIsVisible(!isVisible);\r\n  }, [isVisible]);\r\n\r\n  // Override default props\r\n  const messageProps = {\r\n    ...Message.defaultProps,\r\n    ...props,\r\n    isVisible,\r\n    onDismiss,\r\n    scope: 'section',\r\n  };\r\n\r\n  // Avoid manually syncing <Message>'s props\r\n  // eslint-disable-next-line react/jsx-props-no-spreading\r\n  return <Message {...messageProps} />;\r\n};\r\nSectionMessage.propTypes = {\r\n  ...Message.propTypes,\r\n  isVisible: PropTypes.bool,\r\n  onDismiss: PropTypes.func,\r\n};\r\nSectionMessage.defaultProps = Message.defaultProps;\r\n\r\nexport default SectionMessage;\r\n","import SectionMessage from './SectionMessage';\r\n\r\nexport default SectionMessage;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nimport styles from './DescriptionList.module.scss';\r\n\r\nexport const DIRECTION_CLASS_MAP = {\r\n  vertical: 'is-vert',\r\n  horizontal: 'is-horz',\r\n};\r\nexport const DEFAULT_DIRECTION = 'vertical';\r\nexport const DIRECTIONS = ['', ...Object.keys(DIRECTION_CLASS_MAP)];\r\n\r\nexport const DENSITY_CLASS_MAP = {\r\n  compact: 'is-narrow',\r\n  default: 'is-wide',\r\n};\r\nexport const DEFAULT_DENSITY = 'default';\r\nexport const DENSITIES = ['', ...Object.keys(DENSITY_CLASS_MAP)];\r\n\r\nconst DescriptionListArray = ({ value }) => {\r\n  if (value.length === 0) {\r\n    return (\r\n      <dd className={styles.value}>\r\n        <i>None</i>\r\n      </dd>\r\n    );\r\n  }\r\n  return (\r\n    <dl>\r\n      {value.map((val, index) => (\r\n        <div key={uuidv4()} className={styles['array-entry']}>\r\n          <dt className={styles.key}>\r\n            <i>{index}</i>\r\n          </dt>\r\n          <dd className={styles.value} data-testid=\"value\">\r\n            <DescriptionListValue value={val} />\r\n          </dd>\r\n        </div>\r\n      ))}\r\n    </dl>\r\n  );\r\n};\r\n\r\nconst DescriptionListValue = ({ value }) => {\r\n  if (value === undefined) {\r\n    return <i>Undefined</i>;\r\n  }\r\n  if (Array.isArray(value)) {\r\n    return <DescriptionListArray value={value} />;\r\n  }\r\n  if (value instanceof Set) {\r\n    return <DescriptionListArray value={Array.from(value)} />;\r\n  }\r\n  if (typeof value === 'object') {\r\n    return <DescriptionList data={value} />;\r\n  }\r\n  if (typeof value === 'string') {\r\n    return <>{value}</>;\r\n  }\r\n  return <>{JSON.stringify(value)}</>;\r\n};\r\n\r\nconst DescriptionList = ({ className, data, density, direction }) => {\r\n  const modifierClasses = [];\r\n  modifierClasses.push(DENSITY_CLASS_MAP[density || DEFAULT_DENSITY]);\r\n  modifierClasses.push(DIRECTION_CLASS_MAP[direction || DEFAULT_DIRECTION]);\r\n  const containerStyleNames = ['container', ...modifierClasses]\r\n    .map((name) => styles[name])\r\n    .join(' ');\r\n  const entries = Object.entries(data);\r\n  if (entries.length === 0) {\r\n    return (\r\n      <div>\r\n        <i>Empty object</i>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <dl className={`${className} ${containerStyleNames}`} data-testid=\"list\">\r\n      {entries.map(([key, value]) => (\r\n        <React.Fragment key={key}>\r\n          <dt className={styles.key} data-testid=\"key\">\r\n            {key}\r\n          </dt>\r\n          <dd className={styles.value} data-testid=\"value\">\r\n            <DescriptionListValue value={value} />\r\n          </dd>\r\n        </React.Fragment>\r\n      ))}\r\n    </dl>\r\n  );\r\n};\r\nDescriptionList.propTypes = {\r\n  /** Additional className for the root element */\r\n  className: PropTypes.string,\r\n  /** Selector type */\r\n  /* FAQ: We can support any values, even a component */\r\n  // eslint-disable-next-line react/forbid-prop-types\r\n  data: PropTypes.object.isRequired,\r\n  /** Layout density */\r\n  density: PropTypes.oneOf(DENSITIES),\r\n  /** Layout direction */\r\n  direction: PropTypes.oneOf(DIRECTIONS),\r\n};\r\nDescriptionList.defaultProps = {\r\n  className: '',\r\n  density: DEFAULT_DENSITY,\r\n  direction: DEFAULT_DIRECTION,\r\n};\r\n\r\nexport default DescriptionList;\r\n","import DescriptionList from './DescriptionList';\r\n\r\nexport default DescriptionList;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Input as BootstrapInput } from 'reactstrap';\r\n\r\nimport styles from './DropdownSelector.module.css';\r\n\r\nexport const TYPES = ['', 'single', 'multiple'];\r\nexport const DEFAULT_TYPE = 'single';\r\n\r\n// RFE: Support `options` object prop and require either `options` or `children` prop:\r\n//      - https://stackoverflow.com/a/49682510/11817077\r\n//      - https://stackoverflow.com/a/52661344/11817077\r\n//      - https://www.npmjs.com/package/react-either-property\r\n//      - \"customProp\" at https://reactjs.org/docs/typechecking-with-proptypes.html#proptypes\r\n\r\nconst DropdownSelector = ({ type, onChange, ...props }) => {\r\n  const canSelectMany = type === 'multiple';\r\n\r\n  return (\r\n    <BootstrapInput\r\n      // FAQ: This is a one-off, so it does not belong in `.eslintrc`\r\n      // eslint-disable-next-line react/jsx-props-no-spreading\r\n      {...props}\r\n      onChange={onChange}\r\n      type=\"select\"\r\n      className={styles.container}\r\n      multiple={canSelectMany}\r\n      data-testid=\"selector\"\r\n      // The ARIA role for a `<select>` is implicit (and depends on `<select>` attributes)\r\n      // SEE: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select#Technical_summary\r\n    />\r\n  );\r\n};\r\nDropdownSelector.propTypes = {\r\n  /** Selector type */\r\n  type: PropTypes.oneOf(TYPES),\r\n  /** Selector type */\r\n  onChange: PropTypes.func,\r\n  /** Options (as children, like Reactstrap) */\r\n  // FAQ: Limiting and documenting this has become a rabbit hole; help welcome  Wes B\r\n  // children: PropTypes.any.isRequired\r\n};\r\nDropdownSelector.defaultProps = {\r\n  type: DEFAULT_TYPE,\r\n  onChange: () => {},\r\n};\r\n\r\nexport default DropdownSelector;\r\n","import DropdownSelector from './DropdownSelector';\r\n\r\nexport default DropdownSelector;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Alert } from 'reactstrap';\r\n\r\n/**\r\n * Whether to show a welcome message\r\n * @param {String} messageName - The name of the message to check\r\n */\r\nexport function useShouldShowMessage(messageName) {\r\n  const welcomeMessages = {};\r\n  return welcomeMessages && welcomeMessages[messageName];\r\n}\r\n\r\n/**\r\n * A message which, when dismissed, will not appear again unless browser storage is cleared\r\n *\r\n * _This message is designed for user introduction to sections, but can be abstracted further into a `<DismissableMessage>` or abstracted less such that a message need not be passed in._\r\n *\r\n * @example\r\n * // message with custom text, class, and identifier\r\n * <WelcomeMessage\r\n *   className=\"external-message-class\"\r\n *   messageName={identifierForMessageLikeRouteName}\r\n * >\r\n *   Introductory text (defined externally).\r\n * </WelcomeMessage>\r\n */\r\nfunction WelcomeMessage({ children, className, messageName }) {\r\n  const shouldShow = useShouldShowMessage(messageName);\r\n  const welcomeMessages = {};\r\n\r\n  function onDismiss(name) {\r\n    const newMessagesState = {\r\n      ...welcomeMessages,\r\n      [name]: false,\r\n    };\r\n    return newMessagesState;\r\n  }\r\n\r\n  return (\r\n    <Alert\r\n      isOpen={shouldShow}\r\n      toggle={() => onDismiss(messageName)}\r\n      color=\"secondary\"\r\n      className={className}\r\n    >\r\n      {children}\r\n    </Alert>\r\n  );\r\n}\r\nWelcomeMessage.propTypes = {\r\n  /** Message as text or element(s) */\r\n  children: PropTypes.node.isRequired,\r\n  /** Additional className for the root element */\r\n  className: PropTypes.string,\r\n  /** A unique identifier for the message */\r\n  messageName: PropTypes.string.isRequired,\r\n};\r\nWelcomeMessage.defaultProps = {\r\n  className: '',\r\n};\r\n\r\nexport default WelcomeMessage;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Pill.module.scss';\r\n\r\nfunction Pill({ children, type, className, shouldTruncate }) {\r\n  let pillStyleName = `root is-${type}`;\r\n\r\n  if (shouldTruncate) pillStyleName += ' should-truncate';\r\n\r\n  return (\r\n    <span className={`${styles[pillStyleName]} ${className}`}>{children}</span>\r\n  );\r\n}\r\n\r\nPill.propTypes = {\r\n  children: PropTypes.string.isRequired,\r\n  type: PropTypes.string,\r\n  className: PropTypes.string,\r\n  shouldTruncate: PropTypes.bool,\r\n};\r\n\r\nPill.defaultProps = {\r\n  type: 'normal',\r\n  className: '',\r\n  shouldTruncate: true,\r\n};\r\n\r\nexport default Pill;\r\n","import Pill from './Pill';\r\n\r\nexport default Pill;\r\n","import React, { useCallback, useState } from 'react';\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\r\nimport PropTypes from 'prop-types';\r\nimport { Button } from 'reactstrap';\r\nimport Icon from '../Icon';\r\nimport styles from './TextCopyField.module.scss';\r\n\r\nconst TextCopyField = ({ value, placeholder }) => {\r\n  const transitionDuration = 0.15; // second(s)\r\n  const stateDuration = 1; // second(s)\r\n  const stateTimeout = transitionDuration + stateDuration; // second(s)\r\n\r\n  const [isCopied, setIsCopied] = useState(false);\r\n\r\n  const onCopy = useCallback(() => {\r\n    setIsCopied(true);\r\n\r\n    const timeout = setTimeout(() => {\r\n      setIsCopied(false);\r\n      clearTimeout(timeout);\r\n    }, stateTimeout * 1000);\r\n  }, [setIsCopied, stateTimeout]);\r\n  const isEmpty = !value || value.length === 0;\r\n  const onChange = (event) => {\r\n    // Swallow keyboard events on the Input control, but\r\n    // still allow selecting the text. readOnly property of\r\n    // Input is not adequate for this purpose because it\r\n    // prevents text selection\r\n    event.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <div className=\"input-group\">\r\n      <div className=\"input-group-prepend\">\r\n        <CopyToClipboard text={value}>\r\n          <Button\r\n            className={`${styles['copy-button']} ${\r\n              isCopied ? styles['is-copied'] : ''\r\n            }`}\r\n            // RFE: Avoid manual JS  CSS sync of transition duration by using:\r\n            //      - `data-attribute` and `attr()` (pending browser support)\r\n            //      - PostCSS and JSON variables (pending greater need for this)\r\n            style={{ '--transition-duration': `${transitionDuration}s` }}\r\n            onClick={onCopy}\r\n            disabled={isEmpty}\r\n            type=\"button\"\r\n          >\r\n            <Icon\r\n              name={isCopied ? 'approved-reverse' : 'link'}\r\n              className={styles['button__icon']}\r\n            />\r\n            <span className={styles['button__text']}>Copy</span>\r\n          </Button>\r\n        </CopyToClipboard>\r\n      </div>\r\n      <input\r\n        type=\"text\"\r\n        onChange={onChange}\r\n        value={value}\r\n        className={`form-control ${styles.input}`}\r\n        placeholder={placeholder}\r\n        data-testid=\"input\"\r\n        readOnly\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nTextCopyField.propTypes = {\r\n  value: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n};\r\n\r\nTextCopyField.defaultProps = {\r\n  value: '',\r\n  placeholder: '',\r\n};\r\n\r\nexport default TextCopyField;\r\n","import React, { useState, useCallback } from 'react';\r\nimport { useResizeDetector } from 'react-resize-detector';\r\nimport PropTypes from 'prop-types';\r\nimport { Button } from 'reactstrap';\r\nimport styles from './ReadMore.module.scss';\r\n\r\nconst ReadMore = ({ className, children }) => {\r\n  const [expanded, setExpanded] = useState(false);\r\n\r\n  const toggleCallback = useCallback(() => {\r\n    setExpanded(!expanded);\r\n  }, [expanded, setExpanded]);\r\n\r\n  const { height, ref } = useResizeDetector();\r\n\r\n  const hasOverflow =\r\n    ref && ref.current ? ref.current.scrollHeight > height : false;\r\n\r\n  return (\r\n    <>\r\n      {\r\n        <div\r\n          className={`${\r\n            expanded ? styles.expanded : styles.clamped\r\n          } ${className}`}\r\n          ref={ref}\r\n        >\r\n          {children}\r\n        </div>\r\n      }\r\n      {(hasOverflow || expanded) && (\r\n        <Button color=\"link\" onClick={toggleCallback}>\r\n          {expanded ? 'Read Less' : 'Read More'}\r\n        </Button>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nReadMore.propTypes = {\r\n  className: PropTypes.string,\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nReadMore.defaultProps = {\r\n  className: '',\r\n};\r\n\r\nexport default ReadMore;\r\n","import ReadMore from './ReadMore';\r\n\r\nexport default ReadMore;\r\n","import React from 'react';\r\nimport { Button } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Paginator.module.scss';\r\n\r\nconst PaginatorPage = ({ number, callback, current }) => {\r\n  return (\r\n    <div className={styles['page-root']}>\r\n      <Button\r\n        className={`${styles.page} ${number === current ? styles.current : ''}`}\r\n        onClick={() => callback(number)}\r\n      >\r\n        {number}\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nPaginatorPage.propTypes = {\r\n  number: PropTypes.number.isRequired,\r\n  callback: PropTypes.func.isRequired,\r\n  current: PropTypes.number.isRequired,\r\n};\r\n\r\nconst Paginator = ({ pages, current, callback, spread }) => {\r\n  let start, end;\r\n  if (pages === 1) {\r\n    end = 0;\r\n    start = 1;\r\n  } else if (pages > 2 && pages <= spread) {\r\n    start = 2;\r\n    end = pages - 1;\r\n  } else if (pages > spread && current <= 4) {\r\n    start = 2;\r\n    end = spread - 1;\r\n  } else if (pages > spread && current > pages - (spread - 2)) {\r\n    start = pages - (spread - 2);\r\n    end = pages - 1;\r\n  } else {\r\n    const delta = Math.floor((spread - 2) / 2);\r\n    start = current - delta;\r\n    end = current + delta;\r\n  }\r\n  const middle = end - start + 1;\r\n  const middlePages =\r\n    middle > 0\r\n      ? Array(middle)\r\n          .fill()\r\n          .map((_, index) => start + index)\r\n      : [];\r\n  return (\r\n    <div className={styles.root}>\r\n      <Button\r\n        color=\"link\"\r\n        className={styles.root}\r\n        onClick={() => callback(current - 1)} // eslint-disable-line\r\n        disabled={current === 1}\r\n      >\r\n        <span>&lt; Previous</span>\r\n      </Button>\r\n      <PaginatorPage number={1} callback={callback} current={current} />\r\n      {middlePages[0] > 2 && <span>...</span>}\r\n      {middlePages.map((number) => {\r\n        return (\r\n          <PaginatorPage\r\n            number={number}\r\n            key={number}\r\n            current={current}\r\n            callback={callback}\r\n          />\r\n        );\r\n      })}\r\n      {middlePages[middlePages.length - 1] < pages - 1 && <span>...</span>}\r\n      {pages > 1 && (\r\n        <PaginatorPage number={pages} callback={callback} current={current} />\r\n      )}\r\n      <Button\r\n        color=\"link\"\r\n        className={styles.endcap}\r\n        onClick={() => callback(current + 1)} // eslint-disable-line\r\n        disabled={current === pages}\r\n      >\r\n        <span>Next &gt;</span>\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nPaginator.propTypes = {\r\n  pages: PropTypes.number.isRequired,\r\n  current: PropTypes.number.isRequired,\r\n  callback: PropTypes.func.isRequired,\r\n  spread: PropTypes.number, // Number of page buttons to show\r\n};\r\n\r\nPaginator.defaultProps = {\r\n  spread: 11,\r\n};\r\n\r\nexport default Paginator;\r\n","import { Route, Redirect, RouteProps } from 'react-router-dom';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\n\r\n// A wrapper for <Route> that redirects to the login\r\n// screen if you're not yet authenticated.\r\nfunction ProtectedRoute({ children, ...rest }: RouteProps) {\r\n  const { accessToken } = useTapisConfig();\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }: RouteProps) =>\r\n        accessToken ? (\r\n          children\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: '/login',\r\n              state: { from: location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default ProtectedRoute;\r\n","import ProtectedRoute from './ProtectedRoute';\r\n\r\nexport default ProtectedRoute;\r\n","import React, { useCallback, useState } from 'react';\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\r\nimport PropTypes from 'prop-types';\r\nimport { Button } from 'reactstrap';\r\nimport Icon from '../Icon';\r\nimport styles from './CopyButton.module.scss';\r\n\r\nconst CopyButton = ({ value, className }) => {\r\n  const transitionDuration = 0.15; // second(s)\r\n  const stateDuration = 1; // second(s)\r\n  const stateTimeout = transitionDuration + stateDuration; // second(s)\r\n\r\n  const [isCopied, setIsCopied] = useState(false);\r\n\r\n  const onCopy = useCallback(() => {\r\n    setIsCopied(true);\r\n\r\n    const timeout = setTimeout(() => {\r\n      setIsCopied(false);\r\n      clearTimeout(timeout);\r\n    }, stateTimeout * 1000);\r\n  }, [setIsCopied, stateTimeout]);\r\n  const isEmpty = !value || value.length === 0;\r\n\r\n  return (\r\n    <CopyToClipboard text={value}>\r\n      <Button\r\n        className={`${styles['copy-button']} ${\r\n          isCopied ? styles['is-copied'] : ''\r\n        } ${className}`}\r\n        // RFE: Avoid manual JS  CSS sync of transition duration by using:\r\n        //      - `data-attribute` and `attr()` (pending browser support)\r\n        //      - PostCSS and JSON variables (pending greater need for this)\r\n        style={{ '--transition-duration': `${transitionDuration}s` }}\r\n        onClick={onCopy}\r\n        disabled={isEmpty}\r\n        type=\"button\"\r\n        size=\"sm\"\r\n      >\r\n        <Icon\r\n          name={isCopied ? 'approved-reverse' : 'copy'}\r\n          className={styles['button__icon']}\r\n        />\r\n        <span className={styles['button__text']}>Copy</span>\r\n      </Button>\r\n    </CopyToClipboard>\r\n  );\r\n};\r\n\r\nCopyButton.propTypes = {\r\n  value: PropTypes.string,\r\n  className: PropTypes.string,\r\n};\r\n\r\nCopyButton.defaultProps = {\r\n  value: '',\r\n  className: '',\r\n};\r\n\r\nexport default CopyButton;\r\n","import CopyButton from './CopyButton';\r\n\r\nexport default CopyButton;\r\n","import React from 'react';\r\nimport { FormGroup, Label, FormText, Badge } from 'reactstrap';\r\nimport styles from './FieldWrapperFormik.module.css';\r\nimport { Field, useField } from 'formik';\r\nexport type FieldWrapperProps = {\r\n  name: string;\r\n  label: string;\r\n  required: boolean;\r\n  description: string;\r\n  isHidden?: boolean;\r\n  as: React.ComponentType<any>;\r\n};\r\nconst FieldWrapper: React.FC<FieldWrapperProps> = ({\r\n  name,\r\n  label,\r\n  required,\r\n  description,\r\n  isHidden = false,\r\n  as: Component,\r\n}) => {\r\n  const [, meta] = useField(name);\r\n  return (\r\n    <FormGroup>\r\n      <span className={isHidden ? styles['hidden'] : ''}>\r\n        <Label\r\n          className=\"form-field__label\"\r\n          size=\"sm\"\r\n          style={{ display: 'flex', alignItems: 'center' }}\r\n          htmlFor={name}\r\n        >\r\n          {label}\r\n          {required && !isHidden ? (\r\n            <Badge color=\"danger\" style={{ marginLeft: '10px' }}>\r\n              Required\r\n            </Badge>\r\n          ) : null}\r\n        </Label>\r\n        <Field name={name} as={Component} id={name} />\r\n        {meta.error && (\r\n          <FormText className={styles['form-field__help']} color=\"danger\">\r\n            {meta.error}\r\n          </FormText>\r\n        )}\r\n        {description && !meta.error && (\r\n          <FormText className={styles['form-field__help']} color=\"muted\">\r\n            {description}\r\n          </FormText>\r\n        )}\r\n      </span>\r\n    </FormGroup>\r\n  );\r\n};\r\n\r\nexport default FieldWrapper;\r\n","import React from 'react';\r\nimport FieldWrapper from '../FieldWrapperFormik';\r\nimport { Input } from 'reactstrap';\r\nimport { FieldInputProps } from 'formik';\r\nimport { FormikInputProps } from '.';\r\n\r\nconst FormikInput: React.FC<FormikInputProps> = ({\r\n  name,\r\n  label,\r\n  required,\r\n  description,\r\n  ...props\r\n}: FormikInputProps) => (\r\n  <FieldWrapper\r\n    name={name}\r\n    label={label}\r\n    required={required}\r\n    description={description}\r\n    isHidden={props.type && props.type === 'hidden'}\r\n    as={(formikProps: FieldInputProps<any>) => (\r\n      <Input bsSize=\"sm\" {...props} {...formikProps} />\r\n    )}\r\n  />\r\n);\r\n\r\nexport default React.memo(FormikInput);\r\n","import { FormikContextType, getIn, isObject, isInteger } from 'formik';\r\nimport _ from 'lodash';\r\n\r\n/**\r\n * Adaptation of setFieldValue wrapper from https://github.com/jaredpalmer/formik/issues/2332#issuecomment-819571154\r\n *\r\n * There is a bug in the setIn function of Formik that deletes form keys that have undefined values rather than\r\n * setting the field value to undefined. This is inconsistent with other types of Formik behavior, such as\r\n * empty text Inputs resulting in form keys with undefined values\r\n *\r\n * @param formikContext\r\n * @param field\r\n * @param value\r\n * @param shouldValidate\r\n */\r\nexport function setFieldValue(\r\n  formikContext: FormikContextType<unknown>,\r\n  field: string,\r\n  value: any,\r\n  shouldValidate?: boolean\r\n): void {\r\n  const { setValues, validateForm, validateOnChange, setFieldValue, values } =\r\n    formikContext;\r\n  // Override default behavior by forcing undefined to be set on the state\r\n  if (value === undefined) {\r\n    const setInValues = setIn(values, field, undefined);\r\n    setValues(setInValues);\r\n\r\n    const willValidate =\r\n      shouldValidate === undefined ? validateOnChange : shouldValidate;\r\n    if (willValidate) {\r\n      validateForm(setInValues);\r\n    }\r\n  } else {\r\n    // Use default behavior for normal values\r\n    setFieldValue(field, value, shouldValidate);\r\n  }\r\n}\r\n\r\n/**\r\n * A copy of Formik's setIn function, except it assigns undefined instead of deleting the property if the value\r\n * being set is undefined.\r\n * https://github.com/jaredpalmer/formik/issues/2332\r\n */\r\nfunction setIn(obj: any, path: string, value: any): any {\r\n  const res: any = _.clone(obj); // This keeps inheritance when obj is a class\r\n  let resVal: any = res;\r\n  let i = 0;\r\n  const pathArray = _.toPath(path);\r\n\r\n  for (; i < pathArray.length - 1; i++) {\r\n    const currentPath: string = pathArray[i];\r\n    const currentObj: any = getIn(obj, pathArray.slice(0, i + 1));\r\n\r\n    if (currentObj && (isObject(currentObj) || Array.isArray(currentObj))) {\r\n      resVal = resVal[currentPath] = _.clone(currentObj);\r\n    } else {\r\n      const nextPath: string = pathArray[i + 1];\r\n      resVal = resVal[currentPath] =\r\n        isInteger(nextPath) && Number(nextPath) >= 0 ? [] : {};\r\n    }\r\n  }\r\n\r\n  // Return original object if new value is the same as current\r\n  if ((i === 0 ? obj : resVal)[pathArray[i]] === value) {\r\n    return obj;\r\n  }\r\n\r\n  if (value === undefined) {\r\n    resVal[pathArray[i]] = undefined;\r\n  } else {\r\n    resVal[pathArray[i]] = value;\r\n  }\r\n\r\n  // If the path array has a single element, the loop did not run.\r\n  // Deleting on `resVal` had no effect in this scenario, so we delete on the result instead.\r\n  if (i === 0 && value === undefined) {\r\n    res[pathArray[i]] = undefined;\r\n  }\r\n\r\n  return res;\r\n}\r\n","import { ChangeEvent } from 'react';\r\nimport FieldWrapper from '../FieldWrapperFormik';\r\nimport { Input } from 'reactstrap';\r\nimport { FieldInputProps, useFormikContext } from 'formik';\r\nimport { FormikInputProps } from '.';\r\nimport { setFieldValue } from './formikPatch';\r\n\r\nconst FormikSelect: React.FC<React.PropsWithChildren<FormikInputProps>> = ({\r\n  name,\r\n  label,\r\n  required,\r\n  description,\r\n  children,\r\n  ...props\r\n}: FormikInputProps) => {\r\n  const formikContext = useFormikContext();\r\n  return (\r\n    <FieldWrapper\r\n      name={name}\r\n      label={label}\r\n      required={required}\r\n      description={description}\r\n      as={(formikProps: FieldInputProps<any>) => {\r\n        const { onChange: formikOnChange, ...otherFormikProps } = formikProps;\r\n        const onChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n          // Use patched formik setFieldValue\r\n          // An option with no children and value set to undefined will preduce an empty string as the target value\r\n          // ex: <option value={undefined} label=\"Please select a value\" />\r\n          setFieldValue(\r\n            formikContext,\r\n            name,\r\n            event.target.value === '' ? undefined : event.target.value\r\n          );\r\n        };\r\n        return (\r\n          <Input\r\n            bsSize=\"sm\"\r\n            type=\"select\"\r\n            onChange={onChange}\r\n            {...props}\r\n            {...otherFormikProps}\r\n          >\r\n            {children}\r\n          </Input>\r\n        );\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default FormikSelect;\r\n","import { FieldInputProps, Field } from 'formik';\r\nimport { FormikInputProps } from '.';\r\nimport { Input, FormText, FormGroup, Label } from 'reactstrap';\r\nimport styles from './FormikCheck.module.scss';\r\n\r\nconst FormikCheck: React.FC<FormikInputProps> = ({\r\n  name,\r\n  label,\r\n  required,\r\n  description,\r\n  ...props\r\n}: FormikInputProps) => {\r\n  return (\r\n    <FormGroup check>\r\n      <Label check className={`form-field__label ${styles.nospace}`} size=\"sm\">\r\n        <Field\r\n          name={name}\r\n          as={(formikProps: FieldInputProps<any>) => (\r\n            <Input\r\n              bsSize={props['bsSize'] ?? 'sm'}\r\n              type=\"checkbox\"\r\n              {...props}\r\n              {...formikProps}\r\n              checked={formikProps.value}\r\n            />\r\n          )}\r\n        />\r\n        {label}\r\n      </Label>\r\n      <FormText className={`form-field__help ${styles.nospace}`} color=\"muted\">\r\n        {description}\r\n      </FormText>\r\n    </FormGroup>\r\n  );\r\n};\r\n\r\nexport default FormikCheck;\r\n","type BaseApiClass = {\r\n  new (...args: any[]): any;\r\n};\r\n\r\ntype ApiModule = {\r\n  Configuration: {\r\n    new (...args: any[]): any;\r\n  };\r\n};\r\n\r\nconst apiGenerator = <T extends unknown>(\r\n  module: ApiModule,\r\n  api: BaseApiClass,\r\n  basePath: string,\r\n  jwt: string | null\r\n): T => {\r\n  const headers: any = {};\r\n  if (jwt) {\r\n    headers['X-Tapis-Token'] = jwt;\r\n  }\r\n\r\n  // Generate a configuration object for the module with the\r\n  // API URL and the authorization header\r\n  const configuration = new module.Configuration({\r\n    basePath,\r\n    headers,\r\n  });\r\n\r\n  // Create an instance of the API\r\n  const result: T = new api(configuration);\r\n  return result;\r\n};\r\n\r\nexport default apiGenerator;\r\n","const errorDecoder = async <T>(func: () => Promise<T>) => {\r\n  try {\r\n    // Call the specified function name, and expect that specific return type\r\n    const result: T = await func();\r\n    return result;\r\n  } catch (error) {\r\n    // If an exception occurred, try to decode the json response from it and\r\n    // rethrow it\r\n    if ((error as any).json) {\r\n      const decoded = await (error as any).json();\r\n      throw decoded;\r\n    } else {\r\n      throw error;\r\n    }\r\n  }\r\n};\r\n\r\nexport default errorDecoder;\r\n","import { Files } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst list = (\r\n  params: Files.ListFilesRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Files.FileOperationsApi = apiGenerator<Files.FileOperationsApi>(\r\n    Files,\r\n    Files.FileOperationsApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Files.FileListingResponse>(() => api.listFiles(params));\r\n};\r\n\r\nexport default list;\r\n","import { Files } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst mkdir = (\r\n  systemId: string,\r\n  path: string,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Files.FileOperationsApi = apiGenerator<Files.FileOperationsApi>(\r\n    Files,\r\n    Files.FileOperationsApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Files.FileStringResponse>(() =>\r\n    api.mkdir({ systemId, mkdirRequest: { path } })\r\n  );\r\n};\r\n\r\nexport default mkdir;\r\n","import { Files } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst moveCopy = (\r\n  systemId: string,\r\n  path: string,\r\n  newPath: string,\r\n  operation: Files.MoveCopyRequestOperationEnum,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Files.FileOperationsApi = apiGenerator<Files.FileOperationsApi>(\r\n    Files,\r\n    Files.FileOperationsApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Files.FileStringResponse>(() =>\r\n    api.moveCopy({ systemId, path, moveCopyRequest: { operation, newPath } })\r\n  );\r\n};\r\n\r\nexport default moveCopy;\r\n","import { Files } from '@tapis/tapis-typescript';\r\nimport { errorDecoder } from 'tapis-api/utils';\r\nimport axios from 'axios';\r\n\r\nconst insert = (\r\n  systemId: string,\r\n  path: string,\r\n  file: File,\r\n  basePath: string,\r\n  jwt: string,\r\n  progressCallback?: (progress: number, file: File) => void\r\n): Promise<Files.FileStringResponse> => {\r\n  const url = `${basePath}/v3/files/ops/${systemId}/${path}${file.name}`;\r\n  const formData = new FormData();\r\n  formData.append('file', file);\r\n\r\n  const config = {\r\n    headers: {\r\n      'content-type': 'multipart/form-data',\r\n      'X-Tapis-Token': jwt,\r\n    },\r\n    onUploadProgress: (progressEvent: any) => {\r\n      if (progressCallback) {\r\n        let progress: number = Math.round(\r\n          (progressEvent.loaded * 100) / progressEvent.total\r\n        );\r\n        progressCallback(progress, file);\r\n      }\r\n    },\r\n  };\r\n\r\n  return errorDecoder<Files.FileStringResponse>(() =>\r\n    axios.post(url, formData, config)\r\n  );\r\n};\r\n\r\nexport default insert;\r\n","import { Files } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst stat = (\r\n  params: Files.GetStatInfoRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Files.FileOperationsApi = apiGenerator<Files.FileOperationsApi>(\r\n    Files,\r\n    Files.FileOperationsApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Files.FileStatInfoResponse>(() =>\r\n    api.getStatInfo(params)\r\n  );\r\n};\r\n\r\nexport default stat;\r\n","import { Files } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst permissions = (\r\n  params: Files.GetPermissionsRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Files.PermissionsApi = apiGenerator<Files.PermissionsApi>(\r\n    Files,\r\n    Files.PermissionsApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Files.FilePermissionResponse>(() =>\r\n    api.getPermissions(params)\r\n  );\r\n};\r\n\r\nexport default permissions;\r\n","import { Files } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst nativeOp = (\r\n  systemId: string,\r\n  path: string,\r\n  recursive: boolean,\r\n  operation: Files.NativeLinuxOpRequestOperationEnum,\r\n  argument: string,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Files.FileOperationsApi = apiGenerator<Files.FileOperationsApi>(\r\n    Files,\r\n    Files.FileOperationsApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  const params: Files.RunLinuxNativeOpRequest = {\r\n    systemId,\r\n    path,\r\n    recursive,\r\n    nativeLinuxOpRequest: {\r\n      operation,\r\n      argument,\r\n    },\r\n  };\r\n  return errorDecoder<Files.NativeLinuxOpResultResponse>(() =>\r\n    api.runLinuxNativeOp(params)\r\n  );\r\n};\r\n\r\nexport default nativeOp;\r\n","import { Files } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst deleteFile = (\r\n  systemId: string,\r\n  path: string,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Files.FileOperationsApi = apiGenerator<Files.FileOperationsApi>(\r\n    Files,\r\n    Files.FileOperationsApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Files.FileStringResponse>(() =>\r\n    api._delete({ systemId, path })\r\n  );\r\n};\r\n\r\nexport default deleteFile;\r\n","import { errorDecoder } from 'tapis-api/utils';\r\nimport StreamSaver from 'streamsaver';\r\n\r\nconst downloadStream = (\r\n  systemId: string,\r\n  path: string,\r\n  destination: string,\r\n  zip: boolean,\r\n  onStart: null | ((response: Response) => void),\r\n  basePath: string,\r\n  jwt: string\r\n): Promise<Response> => {\r\n  const fileStream = StreamSaver.createWriteStream(destination);\r\n  const url = `${basePath}/v3/files/content/${systemId}/${path}${\r\n    zip ? '?zip=true' : ''\r\n  }`;\r\n\r\n  const config = {\r\n    headers: {\r\n      'X-Tapis-Token': jwt,\r\n    },\r\n  };\r\n\r\n  return errorDecoder<Response>(() =>\r\n    fetch(url, config).then((response) => {\r\n      onStart && onStart(response);\r\n      if (!response.body) {\r\n        throw new Error('Download response had no body!');\r\n      }\r\n      const readableStream = response.body;\r\n\r\n      // more optimized\r\n      if (window.WritableStream && readableStream?.pipeTo) {\r\n        return readableStream.pipeTo(fileStream);\r\n        //.then(() => console.log('done writing'));\r\n      }\r\n\r\n      (window as any).writer = fileStream.getWriter();\r\n\r\n      const reader = response.body!.getReader();\r\n      const pump = () =>\r\n        reader\r\n          .read()\r\n          .then((res) =>\r\n            res.done\r\n              ? (window as any).writer.close()\r\n              : (window as any).writer.write(res.value).then(pump)\r\n          );\r\n\r\n      return pump();\r\n    })\r\n  );\r\n};\r\n\r\nexport default downloadStream;\r\n","export type ResultPages<T> = { result?: T[] }[];\r\n\r\nexport const concatResults = <T>(pages: ResultPages<T>): T[] =>\r\n  pages.reduce(\r\n    (accumulator: T[], current) => accumulator.concat(current.result ?? []),\r\n    []\r\n  );\r\n\r\nexport const tapisNextPageParam = <T extends { result?: Array<any> }>(\r\n  lastPage: T,\r\n  allPages: T[],\r\n  params: { limit?: number }\r\n) => {\r\n  if ((lastPage.result?.length ?? 0) < params.limit!) return undefined;\r\n  return { ...params, offset: allPages.length * params.limit! };\r\n};\r\n","const QueryKeys = {\r\n  list: 'files/list',\r\n  mkdir: 'files/mkdir',\r\n  move: 'files/move',\r\n  copy: 'files/copy',\r\n  insert: 'files/insert',\r\n  insertAxios: 'files/insertAxios',\r\n  nativeOp: 'files/nativeOp',\r\n  permissions: 'files/permissions',\r\n  stat: 'files/stat',\r\n  delete: 'files/delete',\r\n  download: 'files/download',\r\n};\r\n\r\nexport default QueryKeys;\r\n","import { useInfiniteQuery, UseInfiniteQueryOptions } from 'react-query';\r\nimport { list } from 'tapis-api/files';\r\nimport { Files } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport {\r\n  concatResults,\r\n  tapisNextPageParam,\r\n} from 'tapis-hooks/utils/infiniteQuery';\r\nimport QueryKeys from './queryKeys';\r\n\r\n// Does not use defaultParams because systemId and path are required\r\nconst useList = (\r\n  params: Files.ListFilesRequest,\r\n  options: UseInfiniteQueryOptions<Files.FileListingResponse, Error> = {}\r\n) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n\r\n  // Set default limit to 100, as per TAPIS OpenAPI spec\r\n  params.limit = params.limit ?? 100;\r\n\r\n  const result = useInfiniteQuery<Files.FileListingResponse, Error>(\r\n    [QueryKeys.list, params.systemId, params.path, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    ({ pageParam = params }) =>\r\n      list(pageParam, basePath, accessToken?.access_token ?? ''),\r\n    {\r\n      ...options,\r\n      // getNextPageParam function computes offset, with guarantee that\r\n      // params.limit is set to default of 100\r\n      getNextPageParam: (lastPage, allPages) =>\r\n        tapisNextPageParam<Files.FileListingResponse>(\r\n          lastPage,\r\n          allPages,\r\n          params\r\n        ),\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n\r\n  // If there are result pages, concatenate the results\r\n  const concatenatedResults = result.data?.pages\r\n    ? concatResults<Files.FileInfo>(result.data.pages)\r\n    : null;\r\n\r\n  return {\r\n    ...result,\r\n    concatenatedResults,\r\n  };\r\n};\r\n\r\nexport default useList;\r\n","import { useMutation, MutateOptions } from 'react-query';\r\nimport { Files } from '@tapis/tapis-typescript';\r\nimport { mkdir } from 'tapis-api/files';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\ntype MkdirHookParams = {\r\n  systemId: string;\r\n  path: string;\r\n};\r\n\r\nconst useMkdir = () => {\r\n  const { basePath, accessToken } = useTapisConfig();\r\n  const jwt = accessToken?.access_token || '';\r\n\r\n  // The useMutation react-query hook is used to call operations that make server-side changes\r\n  // (Other hooks would be used for data retrieval)\r\n  //\r\n  // In this case, mkdir helper is called to perform the operation\r\n  const { mutate, isLoading, isError, isSuccess, data, error, reset } =\r\n    useMutation<Files.FileStringResponse, Error, MkdirHookParams>(\r\n      [QueryKeys.mkdir, basePath, jwt],\r\n      ({ systemId, path }) => mkdir(systemId, path, basePath, jwt)\r\n    );\r\n\r\n  // Return hook object with loading states and login function\r\n  return {\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    data,\r\n    error,\r\n    reset,\r\n    mkdir: (\r\n      systemId: string,\r\n      path: string,\r\n      // react-query options to allow callbacks such as onSuccess\r\n      options?: MutateOptions<Files.FileStringResponse, Error, MkdirHookParams>\r\n    ) => {\r\n      // Call mutate to trigger a single post-like API operation\r\n      return mutate({ systemId, path }, options);\r\n    },\r\n  };\r\n};\r\n\r\nexport default useMkdir;\r\n","import { MoveCopyHookParams } from '.';\r\nimport { useMutation, MutateOptions } from 'react-query';\r\nimport { Files } from '@tapis/tapis-typescript';\r\nimport { moveCopy } from 'tapis-api/files';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nconst useMove = () => {\r\n  const { basePath, accessToken } = useTapisConfig();\r\n  const jwt = accessToken?.access_token || '';\r\n\r\n  // The useMutation react-query hook is used to call operations that make server-side changes\r\n  // (Other hooks would be used for data retrieval)\r\n  //\r\n  // In this case, move helper is called to perform the operation\r\n  const {\r\n    mutate,\r\n    mutateAsync,\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    data,\r\n    error,\r\n    reset,\r\n  } = useMutation<Files.FileStringResponse, Error, MoveCopyHookParams>(\r\n    [QueryKeys.move, basePath, jwt],\r\n    ({ systemId, path, newPath }) =>\r\n      moveCopy(\r\n        systemId,\r\n        path,\r\n        newPath,\r\n        Files.MoveCopyRequestOperationEnum.Move,\r\n        basePath,\r\n        jwt\r\n      )\r\n  );\r\n\r\n  // Return hook object with loading states and login function\r\n  return {\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    data,\r\n    error,\r\n    reset,\r\n    move: (\r\n      params: MoveCopyHookParams,\r\n      // react-query options to allow callbacks such as onSuccess\r\n      options?: MutateOptions<\r\n        Files.FileStringResponse,\r\n        Error,\r\n        MoveCopyHookParams\r\n      >\r\n    ) => {\r\n      // Call mutate to trigger a single post-like API operation\r\n      return mutate(params, options);\r\n    },\r\n    moveAsync: (\r\n      params: MoveCopyHookParams,\r\n      options?: MutateOptions<\r\n        Files.FileStringResponse,\r\n        Error,\r\n        MoveCopyHookParams\r\n      >\r\n    ) => mutateAsync(params, options),\r\n  };\r\n};\r\n\r\nexport default useMove;\r\n","import { MoveCopyHookParams } from '.';\r\nimport { useMutation, MutateOptions } from 'react-query';\r\nimport { Files } from '@tapis/tapis-typescript';\r\nimport { moveCopy } from 'tapis-api/files';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nconst useCopy = () => {\r\n  const { basePath, accessToken } = useTapisConfig();\r\n  const jwt = accessToken?.access_token || '';\r\n\r\n  // The useMutation react-query hook is used to call operations that make server-side changes\r\n  // (Other hooks would be used for data retrieval)\r\n  //\r\n  // In this case, move helper is called to perform the operation\r\n  const {\r\n    mutate,\r\n    mutateAsync,\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    data,\r\n    error,\r\n    reset,\r\n  } = useMutation<Files.FileStringResponse, Error, MoveCopyHookParams>(\r\n    [QueryKeys.move, basePath, jwt],\r\n    ({ systemId, path, newPath }) =>\r\n      moveCopy(\r\n        systemId,\r\n        path,\r\n        newPath,\r\n        Files.MoveCopyRequestOperationEnum.Copy,\r\n        basePath,\r\n        jwt\r\n      )\r\n  );\r\n\r\n  // Return hook object with loading states and login function\r\n  return {\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    data,\r\n    error,\r\n    reset,\r\n    copy: (\r\n      params: MoveCopyHookParams,\r\n      // react-query options to allow callbacks such as onSuccess\r\n      options?: MutateOptions<\r\n        Files.FileStringResponse,\r\n        Error,\r\n        MoveCopyHookParams\r\n      >\r\n    ) => mutate(params, options),\r\n    copyAsync: (\r\n      params: MoveCopyHookParams,\r\n      options?: MutateOptions<\r\n        Files.FileStringResponse,\r\n        Error,\r\n        MoveCopyHookParams\r\n      >\r\n    ) => mutateAsync(params, options),\r\n  };\r\n};\r\n\r\nexport default useCopy;\r\n","import { useMutation, MutateOptions } from 'react-query';\r\nimport { Files } from '@tapis/tapis-typescript';\r\nimport { insertAxios as insert } from 'tapis-api/files';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nexport type InsertHookParams = {\r\n  systemId: string;\r\n  path: string;\r\n  file: File;\r\n  progressCallback?: (progress: number, file: File) => void;\r\n};\r\n\r\nconst useUpload = () => {\r\n  const { basePath, accessToken } = useTapisConfig();\r\n  const jwt = accessToken?.access_token || '';\r\n\r\n  // The useMutation react-query hook is used to call operations that make server-side changes\r\n  // (Other hooks would be used for data retrieval)\r\n  //\r\n  // In this case, upload helper is called to perform the operation\r\n  const {\r\n    mutate,\r\n    mutateAsync,\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    data,\r\n    error,\r\n    reset,\r\n  } = useMutation<Files.FileStringResponse, Error, InsertHookParams>(\r\n    [QueryKeys.insertAxios, basePath, jwt],\r\n    ({ systemId, path, file, progressCallback }) =>\r\n      insert(systemId, path, file, basePath, jwt, progressCallback)\r\n  );\r\n\r\n  // Return hook object with loading states and login function\r\n  return {\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    data,\r\n    error,\r\n    reset,\r\n    uploadFile: (\r\n      params: InsertHookParams,\r\n      // react-query options to allow callbacks such as onSuccess\r\n      options?: MutateOptions<Files.FileStringResponse, Error, InsertHookParams>\r\n    ) => {\r\n      // Call mutate to trigger a single post-like API operation\r\n      return mutate(params, options);\r\n    },\r\n    uploadAsync: (\r\n      params: InsertHookParams,\r\n      options?: MutateOptions<Files.FileStringResponse, Error, InsertHookParams>\r\n    ) => mutateAsync(params, options),\r\n  };\r\n};\r\n\r\nexport default useUpload;\r\n","import { useQuery } from 'react-query';\r\nimport { stat } from 'tapis-api/files';\r\nimport { Files } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nconst useStat = (params: Files.GetStatInfoRequest) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n  const result = useQuery<Files.FileStatInfoResponse, Error>(\r\n    [QueryKeys.stat, params, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    () => stat(params, basePath, accessToken?.access_token ?? ''),\r\n    {\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n  return result;\r\n};\r\n\r\nexport default useStat;\r\n","import { useQuery } from 'react-query';\r\nimport { permissions } from 'tapis-api/files';\r\nimport { Files } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nconst usePermissions = (params: Files.GetPermissionsRequest) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n  const result = useQuery<Files.FilePermissionResponse, Error>(\r\n    [QueryKeys.permissions, params, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    () => permissions(params, basePath, accessToken?.access_token ?? ''),\r\n    {\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n  return result;\r\n};\r\n\r\nexport default usePermissions;\r\n","import { useMutation, MutateOptions } from 'react-query';\r\nimport { Files } from '@tapis/tapis-typescript';\r\nimport { nativeOp } from 'tapis-api/files';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport { NativeOpParams } from '.';\r\nimport QueryKeys from './queryKeys';\r\n\r\nconst useNativeOp = () => {\r\n  const { basePath, accessToken } = useTapisConfig();\r\n  const jwt = accessToken?.access_token || '';\r\n\r\n  // The useMutation react-query hook is used to call operations that make server-side changes\r\n  // (Other hooks would be used for data retrieval)\r\n  //\r\n  // In this case, move helper is called to perform the operation\r\n  const {\r\n    mutate,\r\n    mutateAsync,\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    data,\r\n    error,\r\n    reset,\r\n  } = useMutation<Files.NativeLinuxOpResultResponse, Error, NativeOpParams>(\r\n    [QueryKeys.nativeOp, basePath, jwt],\r\n    ({ systemId, path, recursive, operation, argument }) =>\r\n      nativeOp(\r\n        systemId,\r\n        path,\r\n        recursive ? true : false,\r\n        operation,\r\n        argument ?? '',\r\n        basePath,\r\n        jwt\r\n      )\r\n  );\r\n\r\n  // Return hook object with loading states and login function\r\n  return {\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    data,\r\n    error,\r\n    reset,\r\n    nativeOp: (\r\n      params: NativeOpParams,\r\n      // react-query options to allow callbacks such as onSuccess\r\n      options?: MutateOptions<\r\n        Files.NativeLinuxOpResultResponse,\r\n        Error,\r\n        NativeOpParams\r\n      >\r\n    ) => {\r\n      // Call mutate to trigger a single post-like API operation\r\n      return mutate(params, options);\r\n    },\r\n    nativeOpAsync: (\r\n      params: NativeOpParams,\r\n      options?: MutateOptions<\r\n        Files.NativeLinuxOpResultResponse,\r\n        Error,\r\n        NativeOpParams\r\n      >\r\n    ) => mutateAsync(params, options),\r\n  };\r\n};\r\n\r\nexport default useNativeOp;\r\n","import { useMutation, MutateOptions } from 'react-query';\r\nimport { Files } from '@tapis/tapis-typescript';\r\nimport { deleteFile } from 'tapis-api/files';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nexport type DeleteHookParams = {\r\n  systemId: string;\r\n  path: string;\r\n};\r\n\r\nconst useDelete = () => {\r\n  const { basePath, accessToken } = useTapisConfig();\r\n  const jwt = accessToken?.access_token || '';\r\n\r\n  // The useMutation react-query hook is used to call operations that make server-side changes\r\n  // (Other hooks would be used for data retrieval)\r\n  //\r\n  // In this case, _delete helper is called to perform the operation\r\n  const {\r\n    mutate,\r\n    mutateAsync,\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    data,\r\n    error,\r\n    reset,\r\n  } = useMutation<Files.FileStringResponse, Error, DeleteHookParams>(\r\n    [QueryKeys.delete, basePath, jwt],\r\n    ({ systemId, path }) => deleteFile(systemId, path, basePath, jwt)\r\n  );\r\n\r\n  // Return hook object with loading states and login function\r\n  return {\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    data,\r\n    error,\r\n    reset,\r\n    deleteFile: (\r\n      params: DeleteHookParams,\r\n      // react-query options to allow callbacks such as onSuccess\r\n      options?: MutateOptions<Files.FileStringResponse, Error, DeleteHookParams>\r\n    ) => {\r\n      // Call mutate to trigger a single post-like API operation\r\n      return mutate(params, options);\r\n    },\r\n    deleteFileAsync: (\r\n      params: DeleteHookParams,\r\n      options?: MutateOptions<Files.FileStringResponse, Error, DeleteHookParams>\r\n    ) => mutateAsync(params, options),\r\n  };\r\n};\r\n\r\nexport default useDelete;\r\n","import { useMutation, MutateOptions } from 'react-query';\r\nimport { downloadStream } from 'tapis-api/files';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\nimport { DownloadStreamParams } from '.';\r\n\r\nconst useDownload = () => {\r\n  const { basePath, accessToken } = useTapisConfig();\r\n  const jwt = accessToken?.access_token || '';\r\n\r\n  // The useMutation react-query hook is used to call operations that make server-side changes\r\n  // (Other hooks would be used for data retrieval)\r\n  //\r\n  // In this case, move helper is called to perform the operation\r\n  const {\r\n    mutate,\r\n    mutateAsync,\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    data,\r\n    error,\r\n    reset,\r\n  } = useMutation<Response, Error, DownloadStreamParams>(\r\n    [QueryKeys.download, basePath, jwt],\r\n    ({ systemId, path, destination, zip = false, onStart = null }) =>\r\n      downloadStream(systemId, path, destination, zip, onStart, basePath, jwt)\r\n  );\r\n\r\n  // Return hook object with loading states and login function\r\n  return {\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    data,\r\n    error,\r\n    reset,\r\n    download: (\r\n      params: DownloadStreamParams,\r\n      // react-query options to allow callbacks such as onSuccess\r\n      options?: MutateOptions<Response, Error, DownloadStreamParams>\r\n    ) => {\r\n      // Call mutate to trigger a single post-like API operation\r\n      return mutate(params, options);\r\n    },\r\n    downloadAsync: (\r\n      params: DownloadStreamParams,\r\n      options?: MutateOptions<Response, Error, DownloadStreamParams>\r\n    ) => mutateAsync(params, options),\r\n  };\r\n};\r\n\r\nexport default useDownload;\r\n","import { default as QueryWrapper } from './QueryWrapper';\r\n\r\nexport default QueryWrapper;\r\n","import React from 'react';\r\nimport { LoadingSpinner, Message } from 'tapis-ui/_common';\r\n\r\ntype QueryWrapperProps = React.PropsWithChildren<{\r\n  isLoading: boolean;\r\n  error: Error | null;\r\n  className?: string;\r\n}>;\r\n\r\nconst QueryWrapper: React.FC<QueryWrapperProps> = ({\r\n  isLoading,\r\n  error,\r\n  children,\r\n  className = '',\r\n}) => {\r\n  if (isLoading) {\r\n    return (\r\n      <div className={className}>\r\n        <LoadingSpinner />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className={className}>\r\n        <Message canDismiss={false} type=\"error\" scope=\"inline\">\r\n          {(error as any).message ?? error}\r\n        </Message>\r\n      </div>\r\n    );\r\n  }\r\n  return <div className={className}>{children}</div>;\r\n};\r\n\r\nexport default QueryWrapper;\r\n","import SubmitWrapper from './SubmitWrapper';\r\n\r\nexport default SubmitWrapper;\r\n","import React from 'react';\r\nimport { LoadingSpinner, Message } from 'tapis-ui/_common';\r\nimport styles from './SubmitWrapper.module.scss';\r\n\r\ntype SubmitWrapperProps = React.PropsWithChildren<{\r\n  isLoading: boolean;\r\n  success: string | undefined;\r\n  error: Error | null;\r\n  className?: string;\r\n  reverse?: boolean;\r\n}>;\r\n\r\nconst SubmitWrapper: React.FC<SubmitWrapperProps> = ({\r\n  isLoading,\r\n  error,\r\n  success,\r\n  children,\r\n  className = '',\r\n  reverse = false,\r\n}) => {\r\n  return (\r\n    <div\r\n      className={`${className} ${styles.wrapper} ${reverse && styles.reverse}`}\r\n    >\r\n      {children}\r\n      {isLoading && (\r\n        <LoadingSpinner\r\n          className={styles['loading-spinner']}\r\n          placement=\"inline\"\r\n        />\r\n      )}\r\n      {error ? (\r\n        <Message canDismiss={false} type=\"error\" scope=\"inline\">\r\n          {(error as any)?.message ?? error}\r\n        </Message>\r\n      ) : (\r\n        success && (\r\n          <Message canDismiss={false} type=\"success\" scope=\"inline\">\r\n            {success}\r\n          </Message>\r\n        )\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubmitWrapper;\r\n","import React, { useState, useContext, useCallback, useEffect } from 'react';\r\nimport StepWizard, { StepWizardChildProps } from 'react-step-wizard';\r\nimport { Button } from 'reactstrap';\r\nimport { WizardStep } from '.';\r\nimport { Formik, Form, useFormikContext } from 'formik';\r\nimport styles from './Wizard.module.scss';\r\n\r\nexport type WizardContextType = Partial<StepWizardChildProps>;\r\n\r\nconst WizardContext: React.Context<WizardContextType> =\r\n  React.createContext<WizardContextType>({});\r\n\r\nexport const useWizard = () => {\r\n  const props = useContext(WizardContext);\r\n  return props;\r\n};\r\n\r\nexport const WizardNavigation: React.FC = () => {\r\n  const { currentStep, previousStep, totalSteps, nextStep, goToStep } =\r\n    useWizard();\r\n  const { validateForm, handleSubmit } = useFormikContext();\r\n  const onContinue = useCallback(async () => {\r\n    try {\r\n      const errors = await validateForm();\r\n      if (!Object.keys(errors).length) {\r\n        handleSubmit && handleSubmit();\r\n        nextStep && nextStep();\r\n      }\r\n    } catch {}\r\n  }, [validateForm, nextStep, handleSubmit]);\r\n  const onSkip = useCallback(async () => {\r\n    try {\r\n      const errors = await validateForm();\r\n      if (!Object.keys(errors).length && goToStep && !!totalSteps) {\r\n        // Skip to End button doesn't appear to trigger handleSubmit,\r\n        // so it must be called explicitly\r\n        handleSubmit();\r\n        goToStep(totalSteps);\r\n      }\r\n    } catch {}\r\n  }, [validateForm, handleSubmit, goToStep, totalSteps]);\r\n  return (\r\n    <div className={styles.controls}>\r\n      {!!currentStep && currentStep > 1 && (\r\n        <Button onClick={previousStep}>Back</Button>\r\n      )}\r\n      {!!currentStep && !!totalSteps && currentStep < totalSteps && (\r\n        <>\r\n          <Button type=\"submit\" color=\"primary\" onClick={onContinue}>\r\n            Continue\r\n          </Button>\r\n          <Button type=\"submit\" color=\"secondary\" onClick={onSkip}>\r\n            Skip to End\r\n          </Button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\ntype WizardControlProps<T> = {\r\n  steps: Array<WizardStep<T>>;\r\n} & Partial<StepWizardChildProps>;\r\n\r\nfunction WizardSummary<T>({\r\n  steps,\r\n  ...stepWizardProps\r\n}: WizardControlProps<T>) {\r\n  const { goToNamedStep } = stepWizardProps;\r\n  const editCallback = useCallback(\r\n    (stepId: string) => goToNamedStep && goToNamedStep(stepId),\r\n    [goToNamedStep]\r\n  );\r\n  return (\r\n    <div className={styles.summary}>\r\n      <h3>Summary</h3>\r\n      {steps.map((step) => (\r\n        <div\r\n          className={styles['step-summary']}\r\n          key={`wizard-summary-${step.id}`}\r\n        >\r\n          <div className={styles.name}>\r\n            <b>{step.name}</b>\r\n            <Button\r\n              color=\"link\"\r\n              onClick={() => editCallback(step.id)}\r\n              className={styles.edit}\r\n            >\r\n              edit\r\n            </Button>\r\n          </div>\r\n          <div className={styles.content}>{step.summary}</div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\ntype StepContainerProps<T> = {\r\n  step: WizardStep<T>;\r\n  formSubmit: (values: Partial<T>) => void;\r\n} & Partial<StepWizardChildProps>;\r\n\r\nfunction StepContainer<T>({ step, formSubmit }: StepContainerProps<T>) {\r\n  const { validationSchema, initialValues, validate } = step;\r\n  return (\r\n    <Formik\r\n      validationSchema={validationSchema}\r\n      initialValues={initialValues}\r\n      validate={validate}\r\n      onSubmit={formSubmit}\r\n      enableReinitialize={true}\r\n    >\r\n      <Form>\r\n        <div className={styles.step}>\r\n          {step.render}\r\n          <WizardNavigation />\r\n        </div>\r\n      </Form>\r\n    </Formik>\r\n  );\r\n}\r\n\r\ntype WizardProps<T> = {\r\n  steps: Array<WizardStep<T>>;\r\n  memo?: any;\r\n  formSubmit: (values: Partial<T>) => void;\r\n};\r\n\r\nfunction Wizard<T>({ steps, memo, formSubmit }: WizardProps<T>) {\r\n  const [stepWizardProps, setStepWizardProps] = useState<\r\n    Partial<StepWizardChildProps>\r\n  >({});\r\n\r\n  const instanceCallback = useCallback(\r\n    (props: Partial<StepWizardChildProps>) => {\r\n      setStepWizardProps({\r\n        currentStep: 1,\r\n        totalSteps: steps.length,\r\n        ...props,\r\n      });\r\n    },\r\n    [setStepWizardProps, steps]\r\n  );\r\n\r\n  const stepChangeCallback = useCallback(\r\n    ({ activeStep }: { previousStep: number; activeStep: number }) => {\r\n      setStepWizardProps({\r\n        ...stepWizardProps,\r\n        currentStep: activeStep,\r\n      });\r\n    },\r\n    [setStepWizardProps, stepWizardProps]\r\n  );\r\n\r\n  const { goToStep } = stepWizardProps;\r\n\r\n  useEffect(\r\n    () => {\r\n      goToStep && goToStep(1);\r\n    },\r\n    /* eslint-disable-next-line */\r\n    [memo]\r\n  );\r\n\r\n  return (\r\n    <WizardContext.Provider value={stepWizardProps}>\r\n      <div className={styles.container}>\r\n        <StepWizard\r\n          instance={instanceCallback}\r\n          className={styles.steps}\r\n          onStepChange={stepChangeCallback}\r\n          transitions={{}}\r\n        >\r\n          {steps.map((step) => (\r\n            <StepContainer<T>\r\n              step={step}\r\n              key={`wizard-step-${step.id}`}\r\n              stepName={step.id}\r\n              formSubmit={formSubmit}\r\n            />\r\n          ))}\r\n        </StepWizard>\r\n        <WizardSummary steps={steps} {...stepWizardProps} />\r\n      </div>\r\n    </WizardContext.Provider>\r\n  );\r\n}\r\n\r\nexport default Wizard;\r\n","import React from 'react';\r\nimport Wizard from './Wizard';\r\n\r\nexport type WizardStep<T> = {\r\n  id: string;\r\n  name: string;\r\n  render: React.ReactNode;\r\n  summary: React.ReactNode;\r\n  validationSchema: any;\r\n  initialValues: Partial<T>;\r\n  validate?: (values: Partial<T>) => void;\r\n};\r\n\r\nexport { useWizard, WizardNavigation } from './Wizard';\r\nexport default Wizard;\r\n","/**\r\n * Create a string representation of a file/folder size using internal standard\r\n * @param {number} bytes - The size of an entity\r\n * @returns {string}\r\n */\r\nfunction createSizeString(bytes: number): string {\r\n  const units = ['bytes', 'kB', 'MB', 'GB', 'TB', 'PB'];\r\n  const number = bytes === 0 ? 0 : Math.floor(Math.log(bytes) / Math.log(1024));\r\n  const bytesString = (bytes / 1024 ** Math.floor(number)).toFixed(1);\r\n\r\n  return `${bytesString} ${units[number]}`;\r\n}\r\n\r\nexport default createSizeString;\r\n","/**\r\n * Create a string representation of date using internal standard\r\n * @param {Date} dateTime - A date object\r\n * @returns {string}\r\n */\r\nexport function formatDate(dateTime: Date) {\r\n  return dateTime.toLocaleDateString('en-US', {\r\n    day: '2-digit',\r\n    month: '2-digit',\r\n    year: 'numeric',\r\n  });\r\n}\r\n\r\n/**\r\n * Create a string representation of time using internal standard\r\n * @param {Date} dateTime - A date object\r\n * @returns {string}\r\n */\r\nexport function formatTime(dateTime: Date) {\r\n  return dateTime.toLocaleTimeString('en-US', {\r\n    hour12: false,\r\n    hour: '2-digit',\r\n    minute: '2-digit',\r\n  });\r\n}\r\n\r\n/**\r\n * Create a string representation of date and time using internal standard\r\n * @param {Date} dateTime - A date object\r\n * @returns {string}\r\n */\r\nexport function formatDateTime(dateTime: Date) {\r\n  return `${formatDate(dateTime)} ${formatTime(dateTime)}`;\r\n}\r\n\r\n/**\r\n * A standard-format date string or UNIX timestamp\r\n * @typedef {string|number} DateTimeValue\r\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/Date\r\n */\r\n/**\r\n * Create a string representation of date/time using internal standard\r\n * @param {DateTimeValue} dateTimeValue - A single value date-time representation\r\n * @returns {string}\r\n */\r\nexport function formatDateTimeFromValue(dateTimeValue: Date) {\r\n  const date = new Date(dateTimeValue);\r\n\r\n  return formatDateTime(date);\r\n}\r\n","import { Apps, Jobs, Systems } from '@tapis/tapis-typescript';\r\n\r\ntype DefaultSystem = {\r\n  source?: 'app';\r\n  systemId?: string;\r\n};\r\n\r\n/**\r\n * Computes the default execution system ID that will be used\r\n *\r\n * @param app\r\n * @returns\r\n */\r\nexport const computeDefaultSystem = (app: Apps.TapisApp): DefaultSystem => {\r\n  if (app.jobAttributes?.execSystemId) {\r\n    return {\r\n      source: 'app',\r\n      systemId: app.jobAttributes?.execSystemId,\r\n    };\r\n  }\r\n  return {\r\n    source: undefined,\r\n    systemId: undefined,\r\n  };\r\n};\r\n\r\ntype DefaultQueue = {\r\n  source?: 'app' | 'system' | 'app system';\r\n  queue?: string;\r\n};\r\n\r\n/**\r\n * Computes the logical queue that will be used, if the job does not\r\n * specify one\r\n *\r\n * @param job\r\n * @param app\r\n * @param systems\r\n * @returns\r\n */\r\nexport const computeDefaultQueue = (\r\n  job: Partial<Jobs.ReqSubmitJob>,\r\n  app: Apps.TapisApp,\r\n  systems: Array<Systems.TapisSystem>\r\n): DefaultQueue => {\r\n  // If the app specifies the logical queue, use that\r\n  if (app.jobAttributes?.execSystemLogicalQueue) {\r\n    return {\r\n      source: 'app',\r\n      queue: app.jobAttributes?.execSystemLogicalQueue,\r\n    };\r\n  }\r\n\r\n  // If the job specifies a system, look for its default logical queue\r\n  if (job.execSystemId) {\r\n    const selectedSystem = systems.find(\r\n      (system) => system.id === job.execSystemId\r\n    );\r\n    if (selectedSystem?.batchDefaultLogicalQueue) {\r\n      return {\r\n        source: 'system',\r\n        queue: selectedSystem.batchDefaultLogicalQueue,\r\n      };\r\n    }\r\n  }\r\n\r\n  // If the app specifies a system, look for its default logical queue\r\n  if (app.jobAttributes?.execSystemId) {\r\n    const appSystem = systems.find(\r\n      (system) => system.id === app.jobAttributes?.execSystemId\r\n    );\r\n    if (appSystem?.batchDefaultLogicalQueue) {\r\n      return {\r\n        source: 'app system',\r\n        queue: appSystem.batchDefaultLogicalQueue,\r\n      };\r\n    }\r\n  }\r\n\r\n  // Return a result that has no computed default logical queue\r\n  return {\r\n    source: undefined,\r\n    queue: undefined,\r\n  };\r\n};\r\n\r\ntype DefaultJobType = {\r\n  source: 'app' | 'app system' | 'system' | 'tapis';\r\n  jobType: Apps.JobTypeEnum;\r\n};\r\n\r\n/**\r\n * Determines the default jobType if one is not specified in the jobType field in a job\r\n * using the algorithm specified at:\r\n *\r\n * https://tapis.readthedocs.io/en/latest/technical/jobs.html#job-type\r\n *\r\n * @param job\r\n * @param app\r\n * @param systems\r\n * @returns\r\n */\r\nexport const computeDefaultJobType = (\r\n  job: Partial<Jobs.ReqSubmitJob>,\r\n  app: Apps.TapisApp,\r\n  systems: Array<Systems.TapisSystem>\r\n): DefaultJobType => {\r\n  if (app.jobType) {\r\n    return {\r\n      source: 'app',\r\n      jobType: app.jobType!,\r\n    };\r\n  }\r\n  if (job?.execSystemId) {\r\n    const selectedSystem = systems.find(\r\n      (system) => system.id === job.execSystemId\r\n    );\r\n    if (selectedSystem?.canRunBatch) {\r\n      return {\r\n        source: 'system',\r\n        jobType: Apps.JobTypeEnum.Batch,\r\n      };\r\n    }\r\n  }\r\n  if (app.jobAttributes?.execSystemId) {\r\n    const appSystem = systems.find(\r\n      (system) => system.id === app.jobAttributes?.execSystemId\r\n    );\r\n    if (appSystem?.canRunBatch) {\r\n      return {\r\n        source: 'app system',\r\n        jobType: Apps.JobTypeEnum.Batch,\r\n      };\r\n    }\r\n  }\r\n  return {\r\n    source: 'tapis',\r\n    jobType: Apps.JobTypeEnum.Fork,\r\n  };\r\n};\r\n\r\nexport enum ValidateExecSystemResult {\r\n  Complete = 'COMPLETE',\r\n  ErrorNoExecSystem = 'ERROR_NO_EXEC_SYSTEM',\r\n  ErrorExecSystemNotFound = 'ERROR_EXEC_SYSTEM_NOT_FOUND',\r\n  ErrorExecSystemNoQueues = 'ERROR_EXEC_SYSTEM_NO_QUEUES',\r\n  ErrorNoQueue = 'ERROR_NO_QUEUE',\r\n  ErrorQueueNotFound = 'ERROR_QUEUE_NOT_FOUND',\r\n}\r\n\r\nexport const validateExecSystem = (\r\n  job: Partial<Jobs.ReqSubmitJob>,\r\n  app: Apps.TapisApp,\r\n  systems: Array<Systems.TapisSystem>\r\n): ValidateExecSystemResult => {\r\n  const defaultSystem = computeDefaultSystem(app);\r\n\r\n  // Check that an exec system can be computed\r\n  if (!job.execSystemId && !defaultSystem?.systemId) {\r\n    return ValidateExecSystemResult.ErrorNoExecSystem;\r\n  }\r\n\r\n  const computedSystem = systems.find(\r\n    (system) => system.id === (job.execSystemId ?? defaultSystem?.systemId)\r\n  );\r\n  if (!computedSystem) {\r\n    return ValidateExecSystemResult.ErrorExecSystemNotFound;\r\n  }\r\n\r\n  // If the job will be a FORK job, skip queue validation\r\n  const computedJobType = computeDefaultJobType(job, app, systems);\r\n  if (\r\n    job.jobType !== Apps.JobTypeEnum.Batch &&\r\n    computedJobType.jobType === Apps.JobTypeEnum.Fork\r\n  ) {\r\n    return ValidateExecSystemResult.Complete;\r\n  }\r\n\r\n  // If the job will be a BATCH job, make sure that the selected execution system\r\n  // has queues\r\n  if (!computedSystem.batchLogicalQueues?.length) {\r\n    return ValidateExecSystemResult.ErrorExecSystemNoQueues;\r\n  }\r\n\r\n  const defaultQueue = computeDefaultQueue(job, app, systems);\r\n\r\n  // If the job type will be a BATCH job, ensure that a queue is specified\r\n  // If no queue exists, there must be a fallback to the app or system default\r\n  if (!job.execSystemLogicalQueue && !defaultQueue.queue) {\r\n    return ValidateExecSystemResult.ErrorNoQueue;\r\n  }\r\n\r\n  // Check to see that the logical queue selected exists on the selected system\r\n  const selectedSystem = systems.find(\r\n    (system) => system.id === (job.execSystemId ?? defaultSystem?.systemId)\r\n  );\r\n  if (\r\n    !selectedSystem?.batchLogicalQueues?.some(\r\n      (queue) =>\r\n        queue.name === (job.execSystemLogicalQueue ?? defaultQueue.queue)\r\n    )\r\n  ) {\r\n    return ValidateExecSystemResult.ErrorQueueNotFound;\r\n  }\r\n\r\n  return ValidateExecSystemResult.Complete;\r\n};\r\n","import React, { useCallback, useState, useMemo } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { useList } from 'tapis-hooks/files';\r\nimport { Files } from '@tapis/tapis-typescript';\r\nimport { Icon, InfiniteScrollTable } from 'tapis-ui/_common';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\nimport { Row, Column, CellProps } from 'react-table';\r\nimport sizeFormat from 'utils/sizeFormat';\r\nimport { Button } from 'reactstrap';\r\nimport { formatDateTimeFromValue } from 'utils/timeFormat';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {\r\n  faCheckSquare,\r\n  faSquare as filledSquare,\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { faSquare } from '@fortawesome/free-regular-svg-icons';\r\nimport styles from './FileListing.module.scss';\r\n\r\nexport type OnSelectCallback = (files: Array<Files.FileInfo>) => any;\r\nexport type OnNavigateCallback = (file: Files.FileInfo) => any;\r\n\r\ninterface FileListingDirProps {\r\n  file: Files.FileInfo;\r\n  onNavigate?: OnNavigateCallback;\r\n  location?: string;\r\n}\r\n\r\nconst FileListingDir: React.FC<FileListingDirProps> = ({\r\n  file,\r\n  onNavigate = undefined,\r\n  location = undefined,\r\n}) => {\r\n  if (location) {\r\n    return (\r\n      <NavLink to={`${location}${file.name ?? ''}/`} className={styles.dir}>\r\n        {file.name}/\r\n      </NavLink>\r\n    );\r\n  }\r\n  if (onNavigate) {\r\n    return (\r\n      <Button\r\n        color=\"link\"\r\n        className={styles.link}\r\n        onClick={(e) => {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n          onNavigate(file);\r\n        }}\r\n        data-testid={`btn-link-${file.name}`}\r\n      >\r\n        {file.name}/\r\n      </Button>\r\n    );\r\n  }\r\n  return <span>{file.name}/</span>;\r\n};\r\n\r\ntype FileListingCheckboxCell = {\r\n  selected: boolean;\r\n};\r\n\r\n/* eslint-disable-next-line */\r\nexport const FileListingCheckboxCell: React.FC<FileListingCheckboxCell> =\r\n  React.memo(({ selected }) => {\r\n    return (\r\n      <span className=\"fa-layers fa-fw\">\r\n        <FontAwesomeIcon icon={filledSquare} color=\"white\" />\r\n        <FontAwesomeIcon\r\n          icon={selected ? faCheckSquare : faSquare}\r\n          color=\"#9D85EF\"\r\n        />\r\n        <FontAwesomeIcon icon={faSquare} color=\"#707070\" />\r\n      </span>\r\n    );\r\n  });\r\n\r\ninterface FileListingItemProps {\r\n  file: Files.FileInfo;\r\n  onNavigate?: OnNavigateCallback;\r\n  location?: string;\r\n}\r\n\r\nconst FileListingName: React.FC<FileListingItemProps> = ({\r\n  file,\r\n  onNavigate = undefined,\r\n  location = undefined,\r\n}) => {\r\n  if (file.type === 'file') {\r\n    return <>{file.name}</>;\r\n  }\r\n  return (\r\n    <FileListingDir file={file} onNavigate={onNavigate} location={location} />\r\n  );\r\n};\r\n\r\nexport type SelectMode = {\r\n  mode: 'none' | 'single' | 'multi';\r\n  // If undefined, allowed selectable file types will be treated as [ \"file\", \"dir\" ]\r\n  types?: Array<'dir' | 'file'>;\r\n};\r\n\r\ntype FileListingTableProps = {\r\n  files: Array<Files.FileInfo>;\r\n  prependColumns?: Array<Column>;\r\n  appendColumns?: Array<Column>;\r\n  getRowProps?: (row: Row) => any;\r\n  onInfiniteScroll?: () => any;\r\n  isLoading?: boolean;\r\n  onNavigate?: OnNavigateCallback;\r\n  location?: string;\r\n  className?: string;\r\n  selectMode?: SelectMode;\r\n  fields?: Array<'size' | 'lastModified'>;\r\n};\r\n\r\nexport const FileListingTable: React.FC<FileListingTableProps> = React.memo(\r\n  ({\r\n    files,\r\n    prependColumns = [],\r\n    appendColumns = [],\r\n    getRowProps,\r\n    onInfiniteScroll,\r\n    isLoading,\r\n    onNavigate,\r\n    location,\r\n    className,\r\n    selectMode,\r\n    fields,\r\n  }) => {\r\n    const styleName =\r\n      selectMode?.mode !== 'none' ? 'file-list-select' : 'file-list';\r\n\r\n    const tableColumns: Array<Column> = [\r\n      ...prependColumns,\r\n      {\r\n        Header: '',\r\n        accessor: 'type',\r\n        Cell: (el) => <Icon name={el.value === 'file' ? 'file' : 'folder'} />,\r\n      },\r\n      {\r\n        Header: 'Name',\r\n        Cell: (el) => (\r\n          <FileListingName\r\n            file={el.row.original}\r\n            onNavigate={onNavigate}\r\n            location={location}\r\n          />\r\n        ),\r\n      },\r\n    ];\r\n\r\n    if (fields?.some((field) => field === 'size')) {\r\n      tableColumns.push({\r\n        Header: 'Size',\r\n        accessor: 'size',\r\n        Cell: (el) => <span>{sizeFormat(el.value)}</span>,\r\n      });\r\n    }\r\n\r\n    if (fields?.some((field) => field === 'lastModified')) {\r\n      tableColumns.push({\r\n        Header: 'Last Modified',\r\n        accessor: 'lastModified',\r\n        Cell: (el) => (\r\n          <span>{formatDateTimeFromValue(new Date(el.value))}</span>\r\n        ),\r\n      });\r\n    }\r\n\r\n    tableColumns.push(...appendColumns);\r\n\r\n    return (\r\n      <InfiniteScrollTable\r\n        className={`${className} ${styles[styleName]}`}\r\n        tableColumns={tableColumns}\r\n        tableData={files}\r\n        onInfiniteScroll={onInfiniteScroll}\r\n        isLoading={isLoading}\r\n        noDataText=\"No files found\"\r\n        getRowProps={getRowProps}\r\n      />\r\n    );\r\n  }\r\n);\r\n\r\ntype FileSelectHeaderProps = {\r\n  onSelectAll: () => void;\r\n  onUnselectAll: () => void;\r\n  selectedFileDict: SelectFileDictType;\r\n};\r\n\r\ntype SelectFileDictType = { [path: string]: boolean };\r\n\r\nconst FileSelectHeader: React.FC<FileSelectHeaderProps> = ({\r\n  onSelectAll,\r\n  onUnselectAll,\r\n  selectedFileDict,\r\n}) => {\r\n  const [checked, setChecked] = useState(false);\r\n  const allSelected = Object.values(selectedFileDict).some(\r\n    (value) => value === false\r\n  );\r\n  const onClick = useCallback(() => {\r\n    if (checked && !allSelected) {\r\n      setChecked(false);\r\n      onUnselectAll();\r\n    } else {\r\n      setChecked(true);\r\n      onSelectAll();\r\n    }\r\n  }, [checked, setChecked, onSelectAll, onUnselectAll, allSelected]);\r\n\r\n  return (\r\n    <span\r\n      className={styles['select-all']}\r\n      onClick={onClick}\r\n      data-testid=\"select-all\"\r\n    >\r\n      <FileListingCheckboxCell selected={checked && !allSelected} />\r\n    </span>\r\n  );\r\n};\r\n\r\ninterface FileListingProps {\r\n  systemId: string;\r\n  path: string;\r\n  onSelect?: OnSelectCallback;\r\n  onUnselect?: OnSelectCallback;\r\n  onNavigate?: OnNavigateCallback;\r\n  location?: string;\r\n  className?: string;\r\n  fields?: Array<'size' | 'lastModified'>;\r\n  selectedFiles?: Array<Files.FileInfo>;\r\n  selectMode?: SelectMode;\r\n}\r\n\r\nconst FileListing: React.FC<FileListingProps> = ({\r\n  systemId,\r\n  path,\r\n  onSelect = undefined,\r\n  onUnselect = undefined,\r\n  onNavigate = undefined,\r\n  location = undefined,\r\n  className,\r\n  fields = ['size', 'lastModified'],\r\n  selectedFiles = [],\r\n  selectMode,\r\n}) => {\r\n  const {\r\n    hasNextPage,\r\n    isLoading,\r\n    error,\r\n    fetchNextPage,\r\n    concatenatedResults,\r\n    isFetchingNextPage,\r\n  } = useList({ systemId, path });\r\n\r\n  const infiniteScrollCallback = useCallback(() => {\r\n    if (hasNextPage) {\r\n      fetchNextPage();\r\n    }\r\n  }, [hasNextPage, fetchNextPage]);\r\n\r\n  const files: Array<Files.FileInfo> = useMemo(\r\n    () => concatenatedResults ?? [],\r\n    [concatenatedResults]\r\n  );\r\n\r\n  const selectedFileDict: SelectFileDictType = React.useMemo(() => {\r\n    const result: SelectFileDictType = {};\r\n    const selectedDict: SelectFileDictType = {};\r\n    selectedFiles.forEach((file) => {\r\n      selectedDict[file.path ?? ''] = true;\r\n    });\r\n    concatenatedResults?.forEach((file) => {\r\n      result[file.path ?? ''] = selectedDict[file.path ?? ''] ?? false;\r\n    });\r\n    return result;\r\n  }, [selectedFiles, concatenatedResults]);\r\n\r\n  const prependColumns = selectMode?.types?.length\r\n    ? [\r\n        {\r\n          Header: (\r\n            <FileSelectHeader\r\n              onSelectAll={() =>\r\n                onSelect && onSelect(concatenatedResults ?? [])\r\n              }\r\n              onUnselectAll={() =>\r\n                onUnselect && onUnselect(concatenatedResults ?? [])\r\n              }\r\n              selectedFileDict={selectedFileDict}\r\n            />\r\n          ),\r\n          id: 'multiselect',\r\n          Cell: (el: React.PropsWithChildren<CellProps<{}, any>>) => (\r\n            <FileListingCheckboxCell\r\n              selected={\r\n                selectedFileDict[(el.row.original as Files.FileInfo).path ?? '']\r\n              }\r\n            />\r\n          ),\r\n        },\r\n      ]\r\n    : [];\r\n\r\n  const fileSelectCallback = useCallback(\r\n    (file: Files.FileInfo) => {\r\n      if (!selectMode?.types?.some((allowed) => allowed === file.type)) {\r\n        return;\r\n      }\r\n      if (selectedFileDict[file.path ?? ''] && onUnselect) {\r\n        onUnselect([file]);\r\n      } else {\r\n        onSelect && onSelect([file]);\r\n      }\r\n    },\r\n    [selectMode, onUnselect, selectedFileDict, onSelect]\r\n  );\r\n\r\n  // Maps rows to row properties, such as classNames\r\n  const getRowProps = (row: Row) => {\r\n    const file: Files.FileInfo = row.original as Files.FileInfo;\r\n    return {\r\n      onClick: () => fileSelectCallback(file),\r\n      'data-testid': file.name,\r\n      className: selectedFileDict[file.path ?? ''] ? styles.selected : '',\r\n    };\r\n  };\r\n\r\n  return (\r\n    <QueryWrapper isLoading={isLoading} error={error} className={className}>\r\n      <FileListingTable\r\n        files={files}\r\n        prependColumns={prependColumns}\r\n        onInfiniteScroll={infiniteScrollCallback}\r\n        isLoading={isFetchingNextPage}\r\n        getRowProps={getRowProps}\r\n        location={location}\r\n        onNavigate={onNavigate}\r\n        fields={fields}\r\n        selectMode={selectMode}\r\n      />\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\nexport default FileListing;\r\n","import FileStat from './FileStat';\r\nexport default FileStat;\r\n","import React from 'react';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\nimport { useStat } from 'tapis-hooks/files';\r\nimport { DescriptionList } from 'tapis-ui/_common';\r\n\r\ntype FileStatProps = {\r\n  systemId: string;\r\n  path: string;\r\n  className?: string;\r\n};\r\n\r\nconst FileStat: React.FC<FileStatProps> = ({\r\n  systemId,\r\n  path,\r\n  className = '',\r\n}) => {\r\n  const { data, isLoading, error } = useStat({ systemId, path });\r\n\r\n  const stat = data?.result;\r\n\r\n  return (\r\n    <QueryWrapper isLoading={isLoading} error={error} className={className}>\r\n      <h3>{systemId}</h3>\r\n      <h5>{path}</h5>\r\n      {stat && <DescriptionList data={stat} />}\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\nexport default FileStat;\r\n","import FileOperation from './FileOperation';\r\nexport default FileOperation;\r\n","import React, { useCallback, useEffect } from 'react';\r\nimport { useNativeOp } from 'tapis-hooks/files';\r\nimport { Files } from '@tapis/tapis-typescript';\r\nimport { Button } from 'reactstrap';\r\nimport { Form, Formik } from 'formik';\r\nimport {\r\n  FormikInput,\r\n  FormikSelect,\r\n  FormikCheck,\r\n} from 'tapis-ui/_common/FieldWrapperFormik';\r\nimport { SubmitWrapper } from 'tapis-ui/_wrappers';\r\nimport { focusManager } from 'react-query';\r\nimport * as Yup from 'yup';\r\n\r\ntype FileOperationProps = {\r\n  systemId: string;\r\n  path: string;\r\n  className?: string;\r\n};\r\n\r\nconst FileOperation: React.FC<FileOperationProps> = ({\r\n  systemId,\r\n  path,\r\n  className = '',\r\n}) => {\r\n  const onSuccess = useCallback(() => {\r\n    focusManager.setFocused(true);\r\n  }, []);\r\n\r\n  const { nativeOp, isLoading, error, isSuccess, reset } = useNativeOp();\r\n\r\n  useEffect(() => {\r\n    reset();\r\n  }, [reset]);\r\n\r\n  const validationSchema = Yup.object({\r\n    recursive: Yup.boolean(),\r\n    operation: Yup.string().required('An operation is required'),\r\n    argument: Yup.string(),\r\n  });\r\n\r\n  const initialValues = {\r\n    recursive: false,\r\n    operation: Files.NativeLinuxOpRequestOperationEnum.Chmod,\r\n    argument: '',\r\n  };\r\n\r\n  const onSubmit = useCallback(\r\n    ({\r\n      recursive,\r\n      operation,\r\n      argument,\r\n    }: {\r\n      recursive: boolean;\r\n      operation: Files.NativeLinuxOpRequestOperationEnum;\r\n      argument: string;\r\n    }) => {\r\n      nativeOp(\r\n        { systemId, path, recursive, operation, argument },\r\n        { onSuccess }\r\n      );\r\n    },\r\n    [nativeOp, onSuccess, systemId, path]\r\n  );\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={initialValues}\r\n      validationSchema={validationSchema}\r\n      onSubmit={onSubmit}\r\n    >\r\n      <Form className={className}>\r\n        <FormikSelect\r\n          name=\"operation\"\r\n          label=\"Linux Operation\"\r\n          required={true}\r\n          description=\"Native operation to execute\"\r\n          aria-label=\"Operation\"\r\n        >\r\n          <option value={Files.NativeLinuxOpRequestOperationEnum.Chmod}>\r\n            CHMOD\r\n          </option>\r\n          <option value={Files.NativeLinuxOpRequestOperationEnum.Chown}>\r\n            CHOWN\r\n          </option>\r\n          <option value={Files.NativeLinuxOpRequestOperationEnum.Chgrp}>\r\n            CHGRP\r\n          </option>\r\n        </FormikSelect>\r\n        <FormikInput\r\n          name=\"argument\"\r\n          label=\"Arguments\"\r\n          required={false}\r\n          description=\"Arguments for the native file operation\"\r\n          aria-label=\"Arguments\"\r\n        />\r\n        <FormikCheck\r\n          name=\"recursive\"\r\n          label=\"Recursive\"\r\n          required={false}\r\n          description=\"Run operation recursively\"\r\n          aria-label=\"Recursive\"\r\n        />\r\n        <SubmitWrapper\r\n          isLoading={isLoading}\r\n          error={error}\r\n          success={isSuccess ? `Successfully submitted operation` : ''}\r\n        >\r\n          <Button\r\n            color=\"primary\"\r\n            disabled={isLoading || isSuccess}\r\n            aria-label=\"Submit\"\r\n            type=\"submit\"\r\n          >\r\n            Run Operation\r\n          </Button>\r\n        </SubmitWrapper>\r\n      </Form>\r\n    </Formik>\r\n  );\r\n};\r\n\r\nexport default FileOperation;\r\n","import { Files } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nexport const create = (\r\n  transferTaskRequest: Files.TransferTaskRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Files.TransfersApi = apiGenerator<Files.TransfersApi>(\r\n    Files,\r\n    Files.TransfersApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Files.TransferTaskResponse>(() =>\r\n    api.createTransferTask({ transferTaskRequest })\r\n  );\r\n};\r\n\r\nexport default create;\r\n","import { Files } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nexport const list = (\r\n  params: Files.GetRecentTransferTasksRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Files.TransfersApi = apiGenerator<Files.TransfersApi>(\r\n    Files,\r\n    Files.TransfersApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Files.TransferTaskListResponse>(() =>\r\n    api.getRecentTransferTasks(params)\r\n  );\r\n};\r\n\r\nexport default list;\r\n","import { Files } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nexport const cancel = (\r\n  transferTaskId: string,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Files.TransfersApi = apiGenerator<Files.TransfersApi>(\r\n    Files,\r\n    Files.TransfersApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Files.StringResponse>(() =>\r\n    api.cancelTransferTask({ transferTaskId })\r\n  );\r\n};\r\n\r\nexport default cancel;\r\n","import { Files } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nexport const details = (\r\n  transferTaskId: string,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Files.TransfersApi = apiGenerator<Files.TransfersApi>(\r\n    Files,\r\n    Files.TransfersApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Files.TransferTaskResponse>(() =>\r\n    api.getTransferTaskDetails({ transferTaskId })\r\n  );\r\n};\r\n\r\nexport default details;\r\n","const QueryKeys = {\r\n  create: 'files/transfers/create',\r\n  detail: 'files/transfers/detail',\r\n  list: 'files/transfers/list',\r\n  cancel: 'files/transfers/cancel',\r\n};\r\n\r\nexport default QueryKeys;\r\n","import { useMutation, MutateOptions } from 'react-query';\r\nimport { Files } from '@tapis/tapis-typescript';\r\nimport { create } from 'tapis-api/files/transfers';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nconst useCreate = () => {\r\n  const { basePath, accessToken } = useTapisConfig();\r\n  const jwt = accessToken?.access_token || '';\r\n\r\n  // The useMutation react-query hook is used to call operations that make server-side changes\r\n  // (Other hooks would be used for data retrieval)\r\n  //\r\n  // In this case, move helper is called to perform the operation\r\n  const {\r\n    mutate,\r\n    mutateAsync,\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    data,\r\n    error,\r\n    reset,\r\n  } = useMutation<Files.TransferTaskResponse, Error, Files.TransferTaskRequest>(\r\n    [QueryKeys.create, basePath, jwt],\r\n    (request) => create(request, basePath, jwt)\r\n  );\r\n\r\n  // Return hook object with loading states and login function\r\n  return {\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    data,\r\n    error,\r\n    reset,\r\n    create: (\r\n      request: Files.TransferTaskRequest,\r\n      // react-query options to allow callbacks such as onSuccess\r\n      options?: MutateOptions<\r\n        Files.TransferTaskResponse,\r\n        Error,\r\n        Files.TransferTaskRequest\r\n      >\r\n    ) => {\r\n      // Call mutate to trigger a single post-like API operation\r\n      return mutate(request, options);\r\n    },\r\n    moveAsync: (\r\n      request: Files.TransferTaskRequest,\r\n      options?: MutateOptions<\r\n        Files.TransferTaskResponse,\r\n        Error,\r\n        Files.TransferTaskRequest\r\n      >\r\n    ) => mutateAsync(request, options),\r\n  };\r\n};\r\n\r\nexport default useCreate;\r\n","import { useQuery } from 'react-query';\r\nimport { details } from 'tapis-api/files/transfers';\r\nimport { Files } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nconst useDetails = (transferTaskId: string) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n  const result = useQuery<Files.TransferTaskResponse, Error>(\r\n    [QueryKeys.detail, transferTaskId, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    () => details(transferTaskId, basePath, accessToken?.access_token ?? ''),\r\n    {\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n  return result;\r\n};\r\n\r\nexport default useDetails;\r\n","import { useInfiniteQuery } from 'react-query';\r\nimport { list } from 'tapis-api/files/transfers';\r\nimport { Files } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport {\r\n  concatResults,\r\n  tapisNextPageParam,\r\n} from 'tapis-hooks/utils/infiniteQuery';\r\nimport QueryKeys from './queryKeys';\r\n\r\n// Does not use defaultParams because systemId and path are required\r\nconst useList = (params: Files.GetRecentTransferTasksRequest) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n\r\n  // Set default limit to 100, as per TAPIS OpenAPI spec\r\n  params.limit = params.limit ?? 100;\r\n\r\n  const result = useInfiniteQuery<Files.TransferTaskListResponse, Error>(\r\n    [QueryKeys.list, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    ({ pageParam = params }) =>\r\n      list(pageParam, basePath, accessToken?.access_token ?? ''),\r\n    {\r\n      // getNextPageParam function computes offset, with guarantee that\r\n      // params.limit is set to default of 100\r\n      getNextPageParam: (lastPage, allPages) =>\r\n        tapisNextPageParam<Files.TransferTaskListResponse>(\r\n          lastPage,\r\n          allPages,\r\n          params\r\n        ),\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n\r\n  // If there are result pages, concatenate the results\r\n  const concatenatedResults = result.data?.pages\r\n    ? concatResults<Files.TransferTask>(result.data.pages)\r\n    : null;\r\n\r\n  return {\r\n    ...result,\r\n    concatenatedResults,\r\n  };\r\n};\r\n\r\nexport default useList;\r\n","import { useMutation, MutateOptions } from 'react-query';\r\nimport { Files } from '@tapis/tapis-typescript';\r\nimport { cancel } from 'tapis-api/files/transfers';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nconst useMove = () => {\r\n  const { basePath, accessToken } = useTapisConfig();\r\n  const jwt = accessToken?.access_token || '';\r\n\r\n  // The useMutation react-query hook is used to call operations that make server-side changes\r\n  // (Other hooks would be used for data retrieval)\r\n  //\r\n  // In this case, move helper is called to perform the operation\r\n  const {\r\n    mutate,\r\n    mutateAsync,\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    data,\r\n    error,\r\n    reset,\r\n  } = useMutation<Files.FileStringResponse, Error, string>(\r\n    [QueryKeys.cancel, basePath, jwt],\r\n    (transferTaskId) => cancel(transferTaskId, basePath, jwt)\r\n  );\r\n\r\n  // Return hook object with loading states and login function\r\n  return {\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    data,\r\n    error,\r\n    reset,\r\n    cancel: (\r\n      transferTaskId: string,\r\n      // react-query options to allow callbacks such as onSuccess\r\n      options?: MutateOptions<Files.StringResponse, Error, string>\r\n    ) => {\r\n      // Call mutate to trigger a single post-like API operation\r\n      return mutate(transferTaskId, options);\r\n    },\r\n    cancelAsync: (\r\n      transferTaskId: string,\r\n      options?: MutateOptions<Files.FileStringResponse, Error, string>\r\n    ) => mutateAsync(transferTaskId, options),\r\n  };\r\n};\r\n\r\nexport default useMove;\r\n","import TransferListing from './TransferListing';\r\n\r\nexport default TransferListing;\r\n","import React, { useState, useCallback } from 'react';\r\nimport { Files } from '@tapis/tapis-typescript';\r\nimport { useList } from 'tapis-hooks/files/transfers';\r\nimport { Column, Row } from 'react-table';\r\nimport { Icon, InfiniteScrollTable } from 'tapis-ui/_common';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\nimport styles from './TransferListing.module.scss';\r\n\r\ntype TransferListingProps = {\r\n  onSelect?: (transfer: Files.TransferTask) => void;\r\n  className?: string;\r\n};\r\n\r\nconst TransferListing: React.FC<TransferListingProps> = ({\r\n  onSelect,\r\n  className,\r\n}) => {\r\n  const { concatenatedResults, isLoading, error, hasNextPage, fetchNextPage } =\r\n    useList({});\r\n\r\n  const infiniteScrollCallback = useCallback(() => {\r\n    if (hasNextPage) {\r\n      fetchNextPage();\r\n    }\r\n  }, [hasNextPage, fetchNextPage]);\r\n\r\n  const [selectedTransfer, setSelectedTransfer] =\r\n    useState<Files.TransferTask | null>(null);\r\n\r\n  const selectWrapper = useCallback(\r\n    (transfer: Files.TransferTask) => {\r\n      if (onSelect) {\r\n        setSelectedTransfer(transfer);\r\n        onSelect(transfer);\r\n      }\r\n    },\r\n    [setSelectedTransfer, onSelect]\r\n  );\r\n  const systems: Array<Files.TransferTask> = concatenatedResults ?? [];\r\n\r\n  const tableColumns: Array<Column> = [\r\n    {\r\n      Header: '',\r\n      id: 'icon',\r\n      Cell: (el) => <Icon name=\"globe\" />,\r\n    },\r\n    {\r\n      Header: 'Transfer',\r\n      id: 'name',\r\n      Cell: (el) => {\r\n        const transfer: Files.TransferTask = el.row\r\n          .original as Files.TransferTask;\r\n        return (\r\n          <span>\r\n            {transfer.tag ?? transfer.uuid ?? 'Unidentified transfer'}\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      Header: 'Status',\r\n      id: 'status',\r\n      accessor: 'status',\r\n      Cell: (el) => <span>{el.value}</span>,\r\n    },\r\n  ];\r\n\r\n  // Maps rows to row properties, such as classNames\r\n  const getRowProps = (row: Row) => {\r\n    const transfer = row.original as Files.TransferTask;\r\n    return {\r\n      className: `${\r\n        selectedTransfer?.id === transfer.id ? styles.selected : ''\r\n      } ${onSelect ? styles.selectable : ''}`,\r\n      onClick: () => selectWrapper(transfer),\r\n      'data-testid': transfer.id,\r\n    };\r\n  };\r\n\r\n  return (\r\n    <QueryWrapper isLoading={isLoading} error={error} className={className}>\r\n      <InfiniteScrollTable\r\n        className={styles['transfer-list']}\r\n        tableColumns={tableColumns}\r\n        tableData={systems}\r\n        isLoading={isLoading}\r\n        noDataText=\"No transfers found\"\r\n        getRowProps={getRowProps}\r\n        onInfiniteScroll={infiniteScrollCallback}\r\n      />\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\nexport default TransferListing;\r\n","import React from 'react';\r\nimport { useDetails } from 'tapis-hooks/files/transfers';\r\nimport { Files } from '@tapis/tapis-typescript';\r\nimport { DescriptionList } from 'tapis-ui/_common';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\n\r\nconst SystemDetail: React.FC<{ transferTaskId: string; className?: string }> =\r\n  ({ transferTaskId, className = '' }) => {\r\n    const { data, isLoading, error } = useDetails(transferTaskId);\r\n    const task: Files.TransferTask | undefined = data?.result;\r\n    return (\r\n      <QueryWrapper isLoading={isLoading} error={error} className={className}>\r\n        <h3>{task?.tag ?? task?.id}</h3>\r\n        {task && <DescriptionList data={task} />}\r\n      </QueryWrapper>\r\n    );\r\n  };\r\n\r\nexport default SystemDetail;\r\n","import TransferCancel from './TransferCancel';\r\n\r\nexport default TransferCancel;\r\n","import React, { useCallback, useEffect } from 'react';\r\nimport { useCancel, useDetails } from 'tapis-hooks/files/transfers';\r\nimport { Files } from '@tapis/tapis-typescript';\r\nimport { Button } from 'reactstrap';\r\nimport { SubmitWrapper, QueryWrapper } from 'tapis-ui/_wrappers';\r\nimport { focusManager } from 'react-query';\r\n\r\ntype TransferCancelProps = {\r\n  transferTaskId: string;\r\n  className?: string;\r\n};\r\n\r\nconst FileOperation: React.FC<TransferCancelProps> = ({\r\n  transferTaskId,\r\n  className = '',\r\n}) => {\r\n  const {\r\n    data,\r\n    isLoading: detailsIsLoading,\r\n    error: detailsError,\r\n  } = useDetails(transferTaskId);\r\n\r\n  const transfer: Files.TransferTask | undefined = data?.result;\r\n  const cancelableStatuses = [\r\n    Files.TransferTaskStatusEnum.Accepted,\r\n    Files.TransferTaskStatusEnum.InProgress,\r\n    Files.TransferTaskStatusEnum.Paused,\r\n    Files.TransferTaskStatusEnum.Staged,\r\n    Files.TransferTaskStatusEnum.Staging,\r\n  ];\r\n  const cancelable = cancelableStatuses.some(\r\n    (status) => status === transfer?.status\r\n  );\r\n\r\n  const { cancel, isLoading, error, isSuccess, reset } = useCancel();\r\n\r\n  const onClick = useCallback(() => {\r\n    cancel(transferTaskId);\r\n    focusManager.setFocused(true);\r\n  }, [cancel, transferTaskId]);\r\n\r\n  useEffect(() => {\r\n    reset();\r\n  }, [reset]);\r\n\r\n  return (\r\n    <QueryWrapper\r\n      isLoading={detailsIsLoading}\r\n      error={detailsError}\r\n      className={className}\r\n    >\r\n      <div>\r\n        Transfer task {transferTaskId} is {transfer?.status}\r\n      </div>\r\n      <SubmitWrapper\r\n        isLoading={isLoading}\r\n        error={error}\r\n        success={isSuccess ? `Successfully canceled transfer` : ''}\r\n        reverse\r\n      >\r\n        <Button\r\n          color=\"warning\"\r\n          disabled={!cancelable || isLoading || isSuccess}\r\n          aria-label=\"Cancel\"\r\n          type=\"submit\"\r\n          onClick={onClick}\r\n        >\r\n          Cancel Transfer\r\n        </Button>\r\n      </SubmitWrapper>\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\nexport default FileOperation;\r\n","import TransferCreate from './TransferCreate';\r\n\r\nexport default TransferCreate;\r\n","import React, { useCallback, useEffect } from 'react';\r\nimport { useCreate } from 'tapis-hooks/files/transfers';\r\nimport { Files } from '@tapis/tapis-typescript';\r\nimport { Button } from 'reactstrap';\r\nimport { SubmitWrapper } from 'tapis-ui/_wrappers';\r\nimport { focusManager } from 'react-query';\r\nimport { Form, Formik } from 'formik';\r\nimport { FormikInput } from 'tapis-ui/_common';\r\nimport * as Yup from 'yup';\r\n\r\ntype TransferCreateProps = {\r\n  files: Array<Files.FileInfo>;\r\n  sourceSystemId: string;\r\n  destinationSystemId: string;\r\n  destinationPath: string;\r\n  className?: string;\r\n};\r\n\r\nconst TransferCreate: React.FC<TransferCreateProps> = ({\r\n  files,\r\n  sourceSystemId,\r\n  destinationSystemId,\r\n  destinationPath,\r\n  className = '',\r\n}) => {\r\n  const { create, data, isLoading, error, isSuccess, reset } = useCreate();\r\n\r\n  const onSubmit = useCallback(\r\n    ({ tag }: { tag: string }) => {\r\n      const destinationURI = `tapis://${destinationSystemId}${destinationPath}`;\r\n      const elements: Array<Files.TransferTaskRequestElement> = files.map(\r\n        (file) => ({\r\n          destinationURI,\r\n          sourceURI: `tapis://${sourceSystemId}${file.path}`,\r\n        })\r\n      );\r\n      const tagName = tag.length > 0 ? tag : undefined;\r\n      create(\r\n        { elements, tag: tagName },\r\n        { onSuccess: () => focusManager.setFocused(true) }\r\n      );\r\n    },\r\n    [sourceSystemId, destinationSystemId, destinationPath, files, create]\r\n  );\r\n\r\n  useEffect(() => {\r\n    reset();\r\n  }, [reset]);\r\n\r\n  const validationSchema = Yup.object({\r\n    tag: Yup.string().required('a tag for this transfer is required'),\r\n  });\r\n\r\n  const initialValues = {\r\n    tag: '',\r\n  };\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={initialValues}\r\n      validationSchema={validationSchema}\r\n      onSubmit={onSubmit}\r\n    >\r\n      <Form>\r\n        <FormikInput\r\n          name=\"tag\"\r\n          label=\"Tag\"\r\n          required={false}\r\n          description=\"A tag name for this file transfer\"\r\n        />\r\n        <SubmitWrapper\r\n          isLoading={isLoading}\r\n          error={error}\r\n          success={\r\n            isSuccess\r\n              ? `Successfully submitted transfer ${\r\n                  data?.result?.tag ?? data?.result?.uuid ?? ''\r\n                }`\r\n              : ''\r\n          }\r\n          reverse\r\n        >\r\n          <Button\r\n            color=\"primary\"\r\n            disabled={isLoading || isSuccess}\r\n            aria-label=\"Submit\"\r\n            type=\"submit\"\r\n          >\r\n            Submit\r\n          </Button>\r\n        </SubmitWrapper>\r\n      </Form>\r\n    </Formik>\r\n  );\r\n};\r\n\r\nexport default TransferCreate;\r\n","import { BreadcrumbType } from 'tapis-ui/_common/Breadcrumbs/Breadcrumbs';\r\nimport { normalize } from 'path';\r\n\r\nconst breadcrumbsFromPathname = (pathname: string) => {\r\n  const items: Array<BreadcrumbType> = [];\r\n  const pathParts = pathname.split('/');\r\n  pathParts.forEach((_, index) => {\r\n    let to = normalize('/' + pathParts.slice(0, index + 1).join('/') + '/');\r\n    if (pathParts[index].length) {\r\n      items.push({ to, text: pathParts[index] });\r\n    }\r\n  });\r\n  return items;\r\n};\r\n\r\nexport default breadcrumbsFromPathname;\r\n","import { Systems } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst list = (\r\n  params: Systems.GetSystemsRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Systems.SystemsApi = apiGenerator<Systems.SystemsApi>(\r\n    Systems,\r\n    Systems.SystemsApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Systems.RespSystems>(() => api.getSystems(params));\r\n};\r\n\r\nexport default list;\r\n","import { Systems } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst details = (\r\n  params: Systems.GetSystemRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Systems.SystemsApi = apiGenerator<Systems.SystemsApi>(\r\n    Systems,\r\n    Systems.SystemsApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Systems.RespSystem>(() => api.getSystem(params));\r\n};\r\n\r\nexport default details;\r\n","import { Systems } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst listSchedulerProfiles = (basePath: string, jwt: string) => {\r\n  const api: Systems.SchedulerProfilesApi =\r\n    apiGenerator<Systems.SchedulerProfilesApi>(\r\n      Systems,\r\n      Systems.SchedulerProfilesApi,\r\n      basePath,\r\n      jwt\r\n    );\r\n  return errorDecoder<Systems.RespSchedulerProfiles>(() =>\r\n    api.getSchedulerProfiles()\r\n  );\r\n};\r\n\r\nexport default listSchedulerProfiles;\r\n","const QueryKeys = {\r\n  list: 'systems/list',\r\n  details: 'systems/details',\r\n  listSchedulerProfiles: 'systems/listScehdulerProfiles',\r\n};\r\n\r\nexport default QueryKeys;\r\n","import { useQuery, QueryObserverOptions } from 'react-query';\r\nimport { list } from 'tapis-api/systems';\r\nimport { Systems } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nexport const defaultParams: Systems.GetSystemsRequest = {};\r\n\r\nconst useList = (\r\n  params: Systems.GetSystemsRequest = defaultParams,\r\n  options: QueryObserverOptions<Systems.RespSystems, Error> = {}\r\n) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n  const result = useQuery<Systems.RespSystems, Error>(\r\n    [QueryKeys.list, params, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    () => list(params, basePath, accessToken?.access_token || ''),\r\n    {\r\n      ...options,\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n  return result;\r\n};\r\n\r\nexport default useList;\r\n","import { useQuery, QueryObserverOptions } from 'react-query';\r\nimport { details } from 'tapis-api/systems';\r\nimport { Systems } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nconst useDetails = (\r\n  params: Systems.GetSystemRequest,\r\n  options: QueryObserverOptions<Systems.RespSystem, Error> = {}\r\n) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n  const result = useQuery<Systems.RespSystem, Error>(\r\n    [QueryKeys.details, params, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    () => details(params, basePath, accessToken?.access_token ?? ''),\r\n    {\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n  return result;\r\n};\r\n\r\nexport default useDetails;\r\n","import { useQuery, QueryObserverOptions } from 'react-query';\r\nimport { listSchedulerProfiles } from 'tapis-api/systems';\r\nimport { Systems } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nconst useSchedulerProfiles = (\r\n  options: QueryObserverOptions<Systems.RespSchedulerProfiles, Error> = {}\r\n) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n  const result = useQuery<Systems.RespSchedulerProfiles, Error>(\r\n    [QueryKeys.listSchedulerProfiles, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    () => listSchedulerProfiles(basePath, accessToken?.access_token || ''),\r\n    {\r\n      ...options,\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n  return result;\r\n};\r\n\r\nexport default useSchedulerProfiles;\r\n","import React from 'react';\r\nimport { useDetails } from 'tapis-hooks/systems';\r\nimport { Systems } from '@tapis/tapis-typescript';\r\nimport { DescriptionList, Tabs, JSONDisplay } from 'tapis-ui/_common';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\n\r\nconst SystemDetail: React.FC<{ systemId: string }> = ({ systemId }) => {\r\n  const { data, isLoading, error } = useDetails({\r\n    systemId,\r\n    select: 'allAttributes',\r\n  });\r\n  const system: Systems.TapisSystem | undefined = data?.result;\r\n  return (\r\n    <QueryWrapper isLoading={isLoading} error={error}>\r\n      <h3>{system?.id}</h3>\r\n      {system && (\r\n        <Tabs\r\n          tabs={{\r\n            Details: <DescriptionList data={system} />,\r\n            JSON: <JSONDisplay json={system} />,\r\n          }}\r\n        />\r\n      )}\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\nexport default SystemDetail;\r\n","import React, { useState, useCallback } from 'react';\r\nimport { Systems } from '@tapis/tapis-typescript';\r\nimport { useList } from 'tapis-hooks/systems';\r\nimport { Column, Row } from 'react-table';\r\nimport { Icon, InfiniteScrollTable } from 'tapis-ui/_common';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\nimport { Button } from 'reactstrap';\r\nimport styles from './SystemListing.module.scss';\r\n\r\ntype SystemListItemProps = {\r\n  system: Systems.TapisSystem;\r\n  onNavigate?: (system: Systems.TapisSystem) => void;\r\n};\r\n\r\nconst SystemListingItem: React.FC<SystemListItemProps> = ({\r\n  system,\r\n  onNavigate,\r\n}) => {\r\n  if (onNavigate) {\r\n    return (\r\n      <Button\r\n        color=\"link\"\r\n        className={styles.link}\r\n        onClick={(e) => {\r\n          e.preventDefault();\r\n          onNavigate(system);\r\n        }}\r\n        data-testid={`href-${system.id}`}\r\n      >\r\n        {system.id}\r\n      </Button>\r\n    );\r\n  }\r\n  return <span>{system.id}</span>;\r\n};\r\n\r\ntype SystemListingProps = {\r\n  onSelect?: (system: Systems.TapisSystem) => void;\r\n  onNavigate?: (system: Systems.TapisSystem) => void;\r\n  className?: string;\r\n};\r\n\r\nconst SystemListing: React.FC<SystemListingProps> = ({\r\n  onSelect,\r\n  onNavigate,\r\n  className,\r\n}) => {\r\n  const { data, isLoading, error } = useList();\r\n  const [selectedSystem, setSelectedSystem] =\r\n    useState<Systems.TapisSystem | null>(null);\r\n  const selectWrapper = useCallback(\r\n    (system: Systems.TapisSystem) => {\r\n      if (onSelect) {\r\n        setSelectedSystem(system);\r\n        onSelect(system);\r\n      }\r\n    },\r\n    [setSelectedSystem, onSelect]\r\n  );\r\n  const systems: Array<Systems.TapisSystem> = data?.result ?? [];\r\n\r\n  const tableColumns: Array<Column> = [\r\n    {\r\n      Header: '',\r\n      id: 'icon',\r\n      Cell: (el) => <Icon name=\"data-files\" />,\r\n    },\r\n    {\r\n      Header: 'System',\r\n      id: 'name',\r\n      Cell: (el) => (\r\n        <SystemListingItem\r\n          system={el.row.original as Systems.TapisSystem}\r\n          onNavigate={onNavigate}\r\n        />\r\n      ),\r\n    },\r\n  ];\r\n\r\n  // Maps rows to row properties, such as classNames\r\n  const getRowProps = (row: Row) => {\r\n    const system = row.original as Systems.TapisSystem;\r\n    return {\r\n      className: selectedSystem?.id === system.id ? styles.selected : '',\r\n      onClick: () => selectWrapper(system),\r\n      'data-testid': system.id,\r\n    };\r\n  };\r\n\r\n  return (\r\n    <QueryWrapper isLoading={isLoading} error={error} className={className}>\r\n      <InfiniteScrollTable\r\n        className={styles['system-list']}\r\n        tableColumns={tableColumns}\r\n        tableData={systems}\r\n        isLoading={isLoading}\r\n        noDataText=\"No systems found\"\r\n        getRowProps={getRowProps}\r\n      />\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\nexport default SystemListing;\r\n","import SystemListing from './SystemListing';\r\n\r\nexport default SystemListing;\r\n","import { useCallback, useState, useEffect } from 'react';\r\nimport { Breadcrumbs } from 'tapis-ui/_common';\r\nimport { Systems } from '@tapis/tapis-typescript';\r\nimport { BreadcrumbType } from 'tapis-ui/_common/Breadcrumbs/Breadcrumbs';\r\nimport breadcrumbsFromPathname from 'tapis-ui/_common/Breadcrumbs/breadcrumbsFromPathname';\r\nimport FileListing from 'tapis-ui/components/files/FileListing';\r\nimport {\r\n  OnNavigateCallback,\r\n  OnSelectCallback,\r\n  SelectMode,\r\n} from 'tapis-ui/components/files/FileListing/FileListing';\r\nimport { SystemListing } from 'tapis-ui/components/systems';\r\nimport { normalize } from 'path';\r\nimport styles from './FileExplorer.module.scss';\r\nimport { Files } from '@tapis/tapis-typescript';\r\n\r\ntype FileExplorerProps = {\r\n  systemId?: string;\r\n  path?: string;\r\n  className?: string;\r\n  allowSystemChange?: boolean;\r\n  onNavigate?: (systemId: string | null, path: string | null) => void;\r\n  onSelect?: OnSelectCallback;\r\n  onUnselect?: OnSelectCallback;\r\n  fields?: Array<'size' | 'lastModified'>;\r\n  selectedFiles?: Array<Files.FileInfo>;\r\n  selectMode?: SelectMode;\r\n};\r\n\r\nconst FileExplorer: React.FC<FileExplorerProps> = ({\r\n  systemId,\r\n  path,\r\n  className,\r\n  allowSystemChange,\r\n  onNavigate,\r\n  onSelect,\r\n  onUnselect,\r\n  fields = ['size'],\r\n  selectedFiles,\r\n  selectMode,\r\n}) => {\r\n  const [currentSystem, setCurrentSystem] = useState(systemId);\r\n  const [currentPath, setCurrentPath] = useState(path);\r\n  const [targetBreadcrumbs, setTargetBreadcrumbs] = useState<\r\n    Array<BreadcrumbType>\r\n  >([]);\r\n\r\n  const onFileNavigate = useCallback<OnNavigateCallback>(\r\n    (file) => {\r\n      const newPath = normalize(`${currentPath}/${file.name!}`);\r\n      setCurrentPath(newPath);\r\n      onNavigate && onNavigate(currentSystem ?? null, newPath);\r\n    },\r\n    [setCurrentPath, currentPath, onNavigate, currentSystem]\r\n  );\r\n\r\n  const onSystemNavigate = useCallback(\r\n    (system: Systems.TapisSystem | null) => {\r\n      if (!system) {\r\n        onNavigate && onNavigate(null, null);\r\n      }\r\n      setCurrentSystem(system?.id);\r\n      setCurrentPath('/');\r\n      onNavigate && onNavigate(system?.id ?? null, '/');\r\n    },\r\n    [setCurrentPath, setCurrentSystem, onNavigate]\r\n  );\r\n\r\n  const onBreadcrumbNavigate = useCallback(\r\n    (to: string) => {\r\n      setCurrentPath(to);\r\n      onNavigate && onNavigate(currentSystem ?? null, to);\r\n    },\r\n    [setCurrentPath, currentSystem, onNavigate]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const breadcrumbs: Array<BreadcrumbType> = breadcrumbsFromPathname(\r\n      currentPath ?? ''\r\n    );\r\n    const newCrumbs: Array<BreadcrumbType> = breadcrumbs.map((breadcrumb) => ({\r\n      ...breadcrumb,\r\n      onClick: onBreadcrumbNavigate,\r\n    }));\r\n    newCrumbs.unshift({\r\n      text: currentSystem ?? '',\r\n      to: '/',\r\n      onClick: onBreadcrumbNavigate,\r\n    });\r\n    setTargetBreadcrumbs(newCrumbs);\r\n  }, [\r\n    setTargetBreadcrumbs,\r\n    currentPath,\r\n    setCurrentPath,\r\n    currentSystem,\r\n    onBreadcrumbNavigate,\r\n  ]);\r\n\r\n  const breadcrumbs: Array<BreadcrumbType> = [];\r\n  if (allowSystemChange) {\r\n    breadcrumbs.push({\r\n      text: 'Files',\r\n      to: '/',\r\n      onClick: () => onSystemNavigate(null),\r\n    });\r\n  }\r\n\r\n  if (currentSystem) {\r\n    breadcrumbs.push(...targetBreadcrumbs);\r\n  }\r\n\r\n  return (\r\n    <div className={className}>\r\n      <Breadcrumbs breadcrumbs={breadcrumbs} />\r\n      <div>\r\n        {currentSystem ? (\r\n          <FileListing\r\n            className={`${styles['nav-list']}`}\r\n            systemId={currentSystem}\r\n            path={currentPath ?? '/'}\r\n            onNavigate={onFileNavigate}\r\n            onSelect={onSelect}\r\n            onUnselect={onUnselect}\r\n            selectedFiles={selectedFiles}\r\n            fields={fields}\r\n            selectMode={selectMode}\r\n          />\r\n        ) : (\r\n          <SystemListing\r\n            className={`${styles['nav-list']}`}\r\n            onNavigate={onSystemNavigate}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileExplorer;\r\n","import FileExplorer from './FileExplorer';\r\n\r\nexport default FileExplorer;\r\n","import FileSelectModal from './FileSelectModal';\r\n\r\nexport default FileSelectModal;\r\n","import { useCallback, useState, useMemo } from 'react';\r\nimport { Files } from '@tapis/tapis-typescript';\r\nimport { GenericModal } from 'tapis-ui/_common';\r\nimport { FileExplorer } from 'tapis-ui/components/files';\r\nimport { SelectMode } from 'tapis-ui/components/files/FileListing/FileListing';\r\nimport { Button } from 'reactstrap';\r\n\r\ntype FileSelectModalProps = {\r\n  systemId?: string;\r\n  path?: string;\r\n  allowSystemChange?: boolean;\r\n  onSelect?: (systemId: string | null, files: Array<Files.FileInfo>) => void;\r\n  selectMode?: SelectMode;\r\n  toggle: () => void;\r\n  initialSelection?: Array<Files.FileInfo>;\r\n};\r\n\r\nconst FileSelectModal: React.FC<FileSelectModalProps> = ({\r\n  systemId,\r\n  path,\r\n  allowSystemChange,\r\n  onSelect,\r\n  toggle,\r\n  selectMode = { mode: 'single', types: ['file', 'dir'] },\r\n  initialSelection,\r\n}) => {\r\n  const [selectedFiles, setSelectedFiles] = useState<Array<Files.FileInfo>>(\r\n    initialSelection ?? []\r\n  );\r\n  const [selectedSystem, setSelectedSystem] = useState<string | null>(\r\n    systemId ?? null\r\n  );\r\n  const [currentPath, setCurrentPath] = useState<string>(path ?? '/');\r\n\r\n  // Is the FileSelectModal set up to allow single directory selection?\r\n  const dirSelectMode = useMemo(() => {\r\n    return (\r\n      selectMode?.mode === 'single' &&\r\n      selectMode?.types?.length === 1 &&\r\n      selectMode?.types?.some((mode) => mode === 'dir')\r\n    );\r\n  }, [selectMode]);\r\n\r\n  const fileExplorerSelectCallback = useCallback(\r\n    (files: Array<Files.FileInfo>) => {\r\n      if (selectMode?.mode === 'multi') {\r\n        setSelectedFiles([...selectedFiles, ...files]);\r\n      } else {\r\n        setSelectedFiles(files);\r\n      }\r\n    },\r\n    [setSelectedFiles, selectedFiles, selectMode]\r\n  );\r\n\r\n  const fileExplorerUnselectCallback = useCallback(\r\n    (files: Array<Files.FileInfo>) => {\r\n      if (selectMode?.mode === 'multi') {\r\n        setSelectedFiles(\r\n          selectedFiles.filter(\r\n            (selected) =>\r\n              !files.some((unselected) => unselected.path === selected.path)\r\n          )\r\n        );\r\n      } else {\r\n        setSelectedFiles([]);\r\n      }\r\n    },\r\n    [setSelectedFiles, selectedFiles, selectMode]\r\n  );\r\n\r\n  const fileExplorerNavigateCallback = useCallback(\r\n    (systemId: string | null, path: string | null) => {\r\n      setSelectedSystem(systemId);\r\n      setSelectedFiles([]);\r\n      setCurrentPath(path ?? '/');\r\n    },\r\n    [setSelectedSystem, setSelectedFiles, setCurrentPath]\r\n  );\r\n\r\n  const selectButtonCallback = useCallback(() => {\r\n    if (toggle) {\r\n      toggle();\r\n    }\r\n    if (onSelect) {\r\n      if (!!selectedFiles.length) {\r\n        onSelect(selectedSystem, selectedFiles);\r\n      } else if (dirSelectMode) {\r\n        onSelect(selectedSystem, [\r\n          { name: currentPath.split('/').slice(-1)[0], path: currentPath },\r\n        ]);\r\n      }\r\n    }\r\n  }, [\r\n    toggle,\r\n    onSelect,\r\n    selectedSystem,\r\n    selectedFiles,\r\n    currentPath,\r\n    dirSelectMode,\r\n  ]);\r\n\r\n  const body = (\r\n    <FileExplorer\r\n      allowSystemChange={allowSystemChange}\r\n      systemId={systemId}\r\n      path={currentPath}\r\n      selectMode={selectMode}\r\n      onSelect={fileExplorerSelectCallback}\r\n      onUnselect={fileExplorerUnselectCallback}\r\n      onNavigate={fileExplorerNavigateCallback}\r\n      fields={['size', 'lastModified']}\r\n      selectedFiles={selectedFiles}\r\n    />\r\n  );\r\n\r\n  const footer = (\r\n    <Button\r\n      disabled={selectedFiles.length === 0 && !dirSelectMode}\r\n      color=\"primary\"\r\n      onClick={selectButtonCallback}\r\n      data-testid=\"modalSelect\"\r\n    >\r\n      Select{' '}\r\n      {`${\r\n        selectMode?.mode === 'multi'\r\n          ? `(${selectedFiles.length})`\r\n          : dirSelectMode\r\n          ? `${!!selectedFiles.length ? selectedFiles[0].name : currentPath}`\r\n          : `${!!selectedFiles.length ? selectedFiles[0].name : ''}`\r\n      }`}\r\n    </Button>\r\n  );\r\n\r\n  let title = 'Select files';\r\n  const selectionNames =\r\n    selectMode?.types?.map((selectType) => {\r\n      if (selectMode.mode === 'single') {\r\n        if (selectType === 'dir') {\r\n          return 'directory';\r\n        }\r\n        return 'file';\r\n      }\r\n      if (selectMode.mode === 'multi') {\r\n        if (selectType === 'dir') {\r\n          return 'directories';\r\n        }\r\n        return 'files';\r\n      }\r\n      return 'files';\r\n    }) ?? [];\r\n  if (!!selectionNames.length) {\r\n    title = `Select ${selectMode?.mode === 'multi' ? 'one or more' : 'a'} ${\r\n      selectionNames[0]\r\n    } ${selectionNames.length > 1 ? ` or ${selectionNames[1]}` : ''}`;\r\n  }\r\n\r\n  return (\r\n    <GenericModal\r\n      toggle={toggle}\r\n      title={title}\r\n      size=\"lg\"\r\n      body={body}\r\n      footer={footer}\r\n    />\r\n  );\r\n};\r\n\r\nexport default FileSelectModal;\r\n","import React, { useCallback, useMemo } from 'react';\r\nimport FieldWrapper from '../FieldWrapperFormik';\r\nimport { Input, InputGroup, InputGroupAddon, Button } from 'reactstrap';\r\nimport { FieldInputProps, useField } from 'formik';\r\nimport { FormikInputProps } from '.';\r\nimport { Files } from '@tapis/tapis-typescript';\r\nimport { FileSelectModal } from 'tapis-ui/components/files';\r\nimport { InputProps } from 'reactstrap';\r\nimport { useModal } from 'tapis-ui/_common/GenericModal';\r\nimport { SelectMode } from 'tapis-ui/components/files/FileListing/FileListing';\r\n\r\nconst pathToFile = (path?: string): Files.FileInfo | undefined => {\r\n  if (path) {\r\n    return {\r\n      name: path.split('/').slice(-1)[0],\r\n      path,\r\n    };\r\n  }\r\n  return undefined;\r\n};\r\n\r\nconst pathParent = (path?: string): string => {\r\n  const parentDir = path?.split('/').slice(0, -1).join('/');\r\n  return !!parentDir && !!parentDir.length ? parentDir : '/';\r\n};\r\n\r\nexport const parseTapisURI = (\r\n  uri?: string\r\n): { systemId: string; file: Files.FileInfo; parent: string } | undefined => {\r\n  const regex = /tapis:\\/\\/([\\w.\\-_]+)\\/(.+)/;\r\n  const match = uri?.match(regex);\r\n  if (match) {\r\n    const systemId = match[1];\r\n    const filePath = `/${match[2]}`;\r\n    return {\r\n      systemId,\r\n      file: pathToFile(filePath)!,\r\n      parent: pathParent(filePath),\r\n    };\r\n  }\r\n  return undefined;\r\n};\r\n\r\ntype FormikTapisFileInputProps = {\r\n  append?: React.ReactNode;\r\n  allowSystemChange?: boolean;\r\n  systemId?: string;\r\n  path?: string;\r\n  mode?: 'single' | 'none' | 'multi';\r\n  files?: boolean;\r\n  dirs?: boolean;\r\n} & InputProps &\r\n  FieldInputProps<any>;\r\n\r\nexport const FormikTapisFileInput: React.FC<FormikTapisFileInputProps> = ({\r\n  append,\r\n  allowSystemChange = true,\r\n  disabled,\r\n  systemId,\r\n  path,\r\n  mode = 'single',\r\n  files = true,\r\n  dirs = true,\r\n  ...props\r\n}) => {\r\n  const { name } = props;\r\n  const [field, , helpers] = useField(name);\r\n  const { setValue } = helpers;\r\n  const { value } = field;\r\n  const { modal, open, close } = useModal();\r\n  const onSelect = useCallback(\r\n    (systemId: string | null, files: Array<Files.FileInfo>) => {\r\n      if (allowSystemChange) {\r\n        setValue(`tapis://${systemId ?? ''}${files[0].path}`);\r\n      } else {\r\n        setValue(`${files[0].path}`);\r\n      }\r\n    },\r\n    [setValue, allowSystemChange]\r\n  );\r\n  const {\r\n    systemId: parsedSystemId,\r\n    file,\r\n    parent,\r\n  } = useMemo(() => {\r\n    const result = parseTapisURI(value) ?? {\r\n      systemId: systemId,\r\n      file: value ? pathToFile(value) : pathToFile(path),\r\n      parent: value ? pathParent(value) : pathParent(path),\r\n    };\r\n    return result;\r\n  }, [value, systemId, path]);\r\n  const selectMode = useMemo((): SelectMode => {\r\n    const types = [] as Array<'file' | 'dir'>;\r\n    if (files) {\r\n      types.push('file');\r\n    }\r\n    if (dirs) {\r\n      types.push('dir');\r\n    }\r\n    return {\r\n      mode,\r\n      types,\r\n    };\r\n  }, [mode, files, dirs]);\r\n\r\n  return (\r\n    <>\r\n      <InputGroup>\r\n        <InputGroupAddon addonType=\"prepend\">\r\n          <Button size=\"sm\" onClick={open} disabled={disabled}>\r\n            Browse\r\n          </Button>\r\n        </InputGroupAddon>\r\n        <Input disabled={disabled} {...props} bsSize=\"sm\" />\r\n        {!!append && (\r\n          <InputGroupAddon addonType=\"append\">{append}</InputGroupAddon>\r\n        )}\r\n      </InputGroup>\r\n      {modal && (\r\n        <FileSelectModal\r\n          toggle={close}\r\n          onSelect={onSelect}\r\n          systemId={parsedSystemId ?? systemId}\r\n          selectMode={selectMode}\r\n          path={parent}\r\n          initialSelection={file ? [file] : undefined}\r\n          allowSystemChange\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\ntype FormikTapisFileProps = {\r\n  allowSystemChange?: boolean;\r\n  systemId?: string;\r\n  path?: string;\r\n  mode?: 'single' | 'none' | 'multi';\r\n  files?: boolean;\r\n  dirs?: boolean;\r\n} & FormikInputProps;\r\n\r\nconst FormikTapisFile: React.FC<FormikTapisFileProps> = ({\r\n  name,\r\n  label,\r\n  required,\r\n  description,\r\n  systemId,\r\n  path,\r\n  mode,\r\n  files,\r\n  dirs,\r\n  ...props\r\n}: FormikInputProps) => {\r\n  return (\r\n    <FieldWrapper\r\n      name={name}\r\n      label={label}\r\n      required={required}\r\n      description={description}\r\n      as={(formikProps: FieldInputProps<any>) => (\r\n        <FormikTapisFileInput\r\n          {...props}\r\n          {...formikProps}\r\n          bsSize=\"sm\"\r\n          systemId={systemId}\r\n          path={path}\r\n          mode={mode}\r\n          files={files}\r\n          dirs={dirs}\r\n        />\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\nexport default React.memo(FormikTapisFile);\r\n","import { default as FieldWrapper } from './FieldWrapper';\r\nexport type { FieldWrapperProps } from './FieldWrapper';\r\n\r\nexport default FieldWrapper;\r\n","import React from 'react';\r\nimport { FormGroup, Label, FormText, Badge } from 'reactstrap';\r\nimport './FieldWrapper.scss';\r\n\r\nexport type FieldWrapperProps = {\r\n  label: string;\r\n  required: boolean;\r\n  description: string;\r\n  error?: string;\r\n  children?: React.ReactNode;\r\n};\r\nconst FieldWrapper: React.FC<FieldWrapperProps> = ({\r\n  label,\r\n  required,\r\n  description,\r\n  children,\r\n  error,\r\n}) => (\r\n  <FormGroup>\r\n    <Label\r\n      className=\"form-field__label\"\r\n      size=\"sm\"\r\n      style={{ display: 'flex', alignItems: 'center' }}\r\n    >\r\n      {label}{' '}\r\n      {required ? (\r\n        <Badge color=\"danger\" style={{ marginLeft: '10px' }}>\r\n          Required\r\n        </Badge>\r\n      ) : null}\r\n    </Label>\r\n    {children}\r\n    {error ? (\r\n      <div className=\"form-field__validation-error\">{error}</div>\r\n    ) : (\r\n      description && (\r\n        <FormText className=\"form-field__help\" color=\"muted\">\r\n          {description}\r\n        </FormText>\r\n      )\r\n    )}\r\n  </FormGroup>\r\n);\r\n\r\nexport default FieldWrapper;\r\n","import React from 'react';\r\nimport styles from './PageLayout.module.scss';\r\n\r\ninterface LayoutProps {\r\n  left?: React.ReactNode;\r\n  right?: React.ReactNode;\r\n  top?: React.ReactNode;\r\n  bottom?: React.ReactNode;\r\n  constrain?: boolean;\r\n}\r\nconst Layout: React.FC<LayoutProps> = ({\r\n  left,\r\n  right,\r\n  top,\r\n  bottom,\r\n  constrain,\r\n}) => (\r\n  <div\r\n    className={`${styles['layout-root']} ${constrain ? styles.constrain : ''}`}\r\n  >\r\n    {top}\r\n    <div\r\n      className={`${styles['layout-row']} ${constrain ? styles.constrain : ''}`}\r\n    >\r\n      {left}\r\n      {right}\r\n    </div>\r\n    {bottom}\r\n  </div>\r\n);\r\n\r\nexport default Layout;\r\n","import React from 'react';\r\nimport { SectionHeader as CommonSectionHeader } from 'tapis-ui/_common';\r\nimport styles from './LayoutSections.module.scss';\r\n\r\nexport const LayoutHeader: React.FC<\r\n  React.PropsWithChildren<{ type?: string }>\r\n> = ({ children, type }) => {\r\n  return (\r\n    <div className={type && styles[type]}>\r\n      <CommonSectionHeader>{children}</CommonSectionHeader>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const LayoutNavWrapper: React.FC<React.PropsWithChildren<{}>> = ({\r\n  children,\r\n}) => {\r\n  return <div className={styles.nav}>{children}</div>;\r\n};\r\n\r\nexport const LayoutBody: React.FC<\r\n  React.PropsWithChildren<{ constrain?: boolean }>\r\n> = ({ children, constrain }) => {\r\n  return (\r\n    <div className={`${styles.body} ${constrain ? styles.constrain : ''}`}>\r\n      <div className={styles.detail}>{children}</div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useCallback } from 'react';\r\nimport { Button, Badge } from 'reactstrap';\r\nimport { Collapse as BootstrapCollapse } from 'reactstrap';\r\nimport { Icon } from 'tapis-ui/_common';\r\nimport styles from './Collapse.module.scss';\r\n\r\ntype CollapseProperties = React.PropsWithChildren<{\r\n  title: string;\r\n  note?: string;\r\n  open?: boolean;\r\n  requiredText?: string;\r\n  isCollapsable?: boolean;\r\n  className?: string;\r\n}>;\r\n\r\nconst Collapse: React.FC<CollapseProperties> = ({\r\n  title,\r\n  note,\r\n  open,\r\n  requiredText,\r\n  className,\r\n  children,\r\n  isCollapsable = true,\r\n}) => {\r\n  const [isOpen, setIsOpen] = useState<boolean>(open ?? false);\r\n  const toggle = useCallback(() => {\r\n    setIsOpen(!isOpen);\r\n  }, [isOpen, setIsOpen]);\r\n\r\n  return (\r\n    <div className={className}>\r\n      <div className={styles.header}>\r\n        <div className={styles.title}>\r\n          {title}\r\n          {requiredText && (\r\n            <Badge\r\n              color=\"danger\"\r\n              style={{ marginLeft: '10px', marginBottom: '10px' }}\r\n            >\r\n              {requiredText}\r\n            </Badge>\r\n          )}\r\n        </div>\r\n        <div className={styles.controls}>\r\n          <div>{note ?? ''}</div>\r\n          {isCollapsable && (\r\n            <Button\r\n              color=\"link\"\r\n              className={styles.expand}\r\n              size=\"sm\"\r\n              onClick={toggle}\r\n            >\r\n              <Icon name={isOpen ? 'collapse' : 'expand'} />\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <BootstrapCollapse isOpen={isOpen || !isCollapsable}>\r\n        {children}\r\n      </BootstrapCollapse>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Collapse;\r\n","import { useMemo, useState, useCallback } from 'react';\r\nimport { Input, FormGroup, Label } from 'reactstrap';\r\nimport { CopyButton } from 'tapis-ui/_common';\r\nimport styles from './JSONDisplay.module.scss';\r\n\r\nconst simplifyObject = (obj: any) => {\r\n  const result = JSON.parse(JSON.stringify(obj));\r\n  Object.entries(result).forEach(([key, value]) => {\r\n    if (Array.isArray(value)) {\r\n      if ((value as Array<any>).length === 0) {\r\n        delete result[key];\r\n      }\r\n      return;\r\n    }\r\n    if (typeof value === 'object') {\r\n      const simplifiedValue = simplifyObject(value);\r\n      if (Object.entries(simplifiedValue).length === 0) {\r\n        delete result[key];\r\n      } else {\r\n        result[key] = simplifiedValue;\r\n      }\r\n      return;\r\n    }\r\n    if (value === undefined) {\r\n      delete result[key];\r\n    }\r\n  });\r\n  return result;\r\n};\r\n\r\nconst convertSets = (obj: any): any => {\r\n  if (obj === undefined) {\r\n    return undefined;\r\n  }\r\n  if (Array.isArray(obj)) {\r\n    return (obj as Array<any>).map((value) => convertSets(value));\r\n  }\r\n  if (obj instanceof Set) {\r\n    return Array.from(obj).map((value) => convertSets(value));\r\n  }\r\n  if (typeof obj === 'object') {\r\n    const result: any = {};\r\n    Object.entries(obj).forEach(([key, value]) => {\r\n      result[key] = convertSets(value);\r\n    });\r\n    return result;\r\n  }\r\n  return JSON.parse(JSON.stringify(obj));\r\n};\r\n\r\ntype JSONDisplayProps = {\r\n  json: any;\r\n  className?: string;\r\n};\r\n\r\nconst JSONDisplay: React.FC<JSONDisplayProps> = ({ json, className }) => {\r\n  const [simplified, setSimplified] = useState(false);\r\n  const onChange = useCallback(() => {\r\n    setSimplified(!simplified);\r\n  }, [setSimplified, simplified]);\r\n  const jsonString = useMemo(\r\n    () =>\r\n      JSON.stringify(\r\n        simplified ? simplifyObject(convertSets(json)) : convertSets(json),\r\n        null,\r\n        2\r\n      ),\r\n    [json, simplified]\r\n  );\r\n  return (\r\n    <div className={className}>\r\n      <div className={styles.controls}>\r\n        <FormGroup check>\r\n          <Label check size=\"sm\" className={`form-field__label`}>\r\n            <Input type=\"checkbox\" onChange={onChange} />\r\n            Simplified\r\n          </Label>\r\n        </FormGroup>\r\n        <CopyButton value={jsonString} />\r\n      </div>\r\n      <Input\r\n        type=\"textarea\"\r\n        value={jsonString}\r\n        className={styles.json}\r\n        rows=\"20\"\r\n        disabled={true}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default JSONDisplay;\r\n","import JSONDisplay from './JSONDisplay';\r\n\r\nexport default JSONDisplay;\r\n","import Tabs from './Tabs';\r\n\r\nexport default Tabs;\r\n","import React, { useState } from 'react';\r\nimport { TabContent, TabPane, Nav, NavItem, NavLink } from 'reactstrap';\r\nimport styles from './Tabs.module.scss';\r\n\r\ntype TabsProps = {\r\n  tabs: { [name: string]: React.ReactNode };\r\n  className?: string;\r\n};\r\n\r\nconst Tabs: React.FC<TabsProps> = ({ tabs, className = '' }) => {\r\n  const tabNames = Object.keys(tabs);\r\n  const [activeTab, setActiveTab] = useState(tabNames[0] ?? '');\r\n\r\n  const getTabClassname = (tabName: string) => {\r\n    return `${styles.tab} ${activeTab === tabName ? styles.active : ''}`;\r\n  };\r\n\r\n  return (\r\n    <div className={className}>\r\n      <Nav tabs>\r\n        {tabNames.map((tabName) => (\r\n          <NavItem className={getTabClassname(tabName)} key={`tab-${tabName}`}>\r\n            <NavLink\r\n              onClick={() => setActiveTab(tabName)}\r\n              data-testid={`tab-${tabName}`}\r\n            >\r\n              {tabName}\r\n            </NavLink>\r\n          </NavItem>\r\n        ))}\r\n      </Nav>\r\n      <TabContent activeTab={activeTab}>\r\n        {tabNames.map((tabName) => (\r\n          <TabPane\r\n            tabId={tabName}\r\n            key={`tabcontent-${tabName}`}\r\n            className={styles.pane}\r\n          >\r\n            {tabs[tabName]}\r\n          </TabPane>\r\n        ))}\r\n      </TabContent>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Tabs;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Icon } from 'tapis-ui/_common';\r\nimport styles from './Navbar.module.scss';\r\n\r\nexport const NavItem: React.FC<{ to: string; icon?: string }> = ({\r\n  to,\r\n  icon,\r\n  children,\r\n}) => (\r\n  <NavLink\r\n    to={to}\r\n    className={styles['nav-link']}\r\n    activeClassName={styles['active']}\r\n    exact={to === '/'}\r\n  >\r\n    <div className={styles['nav-content']}>\r\n      {icon && <Icon name={icon} />}\r\n      {/* we'll want to set name based on the app */}\r\n      <span className={styles['nav-text']}>{children}</span>\r\n    </div>\r\n  </NavLink>\r\n);\r\n\r\nconst Navbar: React.FC = ({ children }) => {\r\n  return <div className={`${styles['nav-list']}`}>{children}</div>;\r\n};\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport styles from './Sidebar.module.scss';\r\nimport { Navbar, NavItem } from 'tapis-ui/_wrappers/Navbar';\r\n\r\nconst Sidebar: React.FC = () => {\r\n  const { accessToken } = useTapisConfig();\r\n  return (\r\n    <div className={styles.root}>\r\n      <Navbar>\r\n        <NavItem to=\"/\" icon=\"dashboard\">\r\n          Dashboard\r\n        </NavItem>\r\n        {!accessToken && (\r\n          <NavItem to=\"/login\" icon=\"user\">\r\n            Login\r\n          </NavItem>\r\n        )}\r\n        {accessToken && (\r\n          <>\r\n            <NavItem to=\"/systems\" icon=\"data-files\">\r\n              Systems\r\n            </NavItem>\r\n            <NavItem to=\"/files\" icon=\"folder\">\r\n              Files\r\n            </NavItem>\r\n            <NavItem to=\"/apps\" icon=\"applications\">\r\n              Apps\r\n            </NavItem>\r\n            <NavItem to=\"/jobs\" icon=\"jobs\">\r\n              Jobs\r\n            </NavItem>\r\n            <NavItem to=\"/workflows\" icon=\"publications\">\r\n              Workflows\r\n            </NavItem>\r\n            <NavItem to=\"/streams\" icon=\"project\">\r\n              Streams\r\n            </NavItem>\r\n            <NavItem to=\"/logout\" icon=\"user\">\r\n              Logout\r\n            </NavItem>\r\n          </>\r\n        )}\r\n      </Navbar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import { Authenticator } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\n// This helper takes the username and password and assembles an API call\r\nconst login = (\r\n  username: string,\r\n  password: string,\r\n  basePath: string\r\n): Promise<Authenticator.RespCreateToken> => {\r\n  const reqCreateToken: Authenticator.ReqCreateToken = {\r\n    username,\r\n    password,\r\n    grant_type: 'password',\r\n  };\r\n  const request: Authenticator.CreateTokenRequest = {\r\n    reqCreateToken,\r\n  };\r\n\r\n  const api: Authenticator.TokensApi = apiGenerator<Authenticator.TokensApi>(\r\n    Authenticator,\r\n    Authenticator.TokensApi,\r\n    basePath,\r\n    null\r\n  );\r\n\r\n  return errorDecoder(() => api.createToken(request));\r\n};\r\n\r\nexport default login;\r\n","const QueryKeys = {\r\n  login: 'authenticator/login',\r\n};\r\n\r\nexport default QueryKeys;\r\n","import { useMutation } from 'react-query';\r\nimport { Authenticator } from '@tapis/tapis-typescript';\r\nimport { login } from 'tapis-api/authenticator';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\ntype LoginHookParams = {\r\n  username: string;\r\n  password: string;\r\n};\r\n\r\nconst useLogin = () => {\r\n  const { setAccessToken, basePath } = useTapisConfig();\r\n\r\n  // On successful login, save the token to the TapisContext state\r\n  const onSuccess = (response: Authenticator.RespCreateToken) => {\r\n    setAccessToken(response?.result?.access_token);\r\n  };\r\n\r\n  // The useMutation react-query hook is used to call operations that make server-side changes\r\n  // (Other hooks would be used for data retrieval)\r\n  //\r\n  // In this case, loginHelper is called to perform the operation, with an onSuccess callback\r\n  // passed as an option\r\n  const { mutate, isLoading, isError, isSuccess, error } = useMutation<\r\n    Authenticator.RespCreateToken,\r\n    Error,\r\n    LoginHookParams\r\n  >(\r\n    [QueryKeys.login, basePath],\r\n    ({ username, password }) => login(username, password, basePath),\r\n    { onSuccess }\r\n  );\r\n\r\n  // Return hook object with loading states and login function\r\n  return {\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    error,\r\n    login: (username: string, password: string) => {\r\n      // Call mutate to trigger a single post-like API operation\r\n      return mutate({ username, password });\r\n    },\r\n    logout: () => setAccessToken(null),\r\n  };\r\n};\r\n\r\nexport default useLogin;\r\n","import { Apps } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst list = (params: Apps.GetAppsRequest, basePath: string, jwt: string) => {\r\n  const api: Apps.ApplicationsApi = apiGenerator<Apps.ApplicationsApi>(\r\n    Apps,\r\n    Apps.ApplicationsApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Apps.RespApps>(() => api.getApps(params));\r\n};\r\n\r\nexport default list;\r\n","import { Apps } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst detail = (params: Apps.GetAppRequest, basePath: string, jwt: string) => {\r\n  const api: Apps.ApplicationsApi = apiGenerator<Apps.ApplicationsApi>(\r\n    Apps,\r\n    Apps.ApplicationsApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Apps.RespApp>(() => api.getApp(params));\r\n};\r\n\r\nexport default detail;\r\n","const QueryKeys = {\r\n  list: 'apps/list',\r\n};\r\n\r\nexport default QueryKeys;\r\n","import { useQuery, QueryObserverOptions } from 'react-query';\r\nimport { list } from 'tapis-api/apps';\r\nimport { Apps } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nexport const defaultParams: Apps.GetAppsRequest = {\r\n  select: 'jobAttributes,version',\r\n};\r\n\r\nconst useList = (\r\n  params: Apps.GetAppsRequest = defaultParams,\r\n  options: QueryObserverOptions<Apps.RespApps, Error> = {}\r\n) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n  const result = useQuery<Apps.RespApps, Error>(\r\n    [QueryKeys.list, params, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    () => list(params, basePath, accessToken?.access_token ?? ''),\r\n    {\r\n      ...options,\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n  return result;\r\n};\r\n\r\nexport default useList;\r\n","import { useQuery, QueryObserverOptions } from 'react-query';\r\nimport { detail } from 'tapis-api/apps';\r\nimport { Apps } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nconst useDetail = (\r\n  params: Apps.GetAppRequest,\r\n  options: QueryObserverOptions<Apps.RespApp, Error> = {}\r\n) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n  const result = useQuery<Apps.RespApp, Error>(\r\n    [QueryKeys.list, params, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    () => detail({ ...params }, basePath, accessToken?.access_token ?? ''),\r\n    {\r\n      ...options,\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n  return result;\r\n};\r\n\r\nexport default useDetail;\r\n","import AppsNav from './AppsNav';\r\nexport default AppsNav;\r\n","import React from 'react';\r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport { useList } from 'tapis-hooks/apps';\r\nimport { Apps } from '@tapis/tapis-typescript';\r\nimport { Navbar, NavItem } from 'tapis-ui/_wrappers/Navbar';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\n\r\nconst AppsNav: React.FC = () => {\r\n  const { data, isLoading, error } = useList(\r\n    {},\r\n    { refetchOnWindowFocus: false }\r\n  );\r\n  const { url } = useRouteMatch();\r\n  const appList: Array<Apps.TapisApp> = data?.result ?? [];\r\n\r\n  return (\r\n    <QueryWrapper isLoading={isLoading} error={error}>\r\n      <Navbar>\r\n        {appList.length ? (\r\n          appList.map((app) => (\r\n            <NavItem\r\n              to={`${url}/${app.id}/${app.version}`}\r\n              icon=\"applications\"\r\n              key={app.id}\r\n            >\r\n              {`${app.id} v${app.version}`}\r\n            </NavItem>\r\n          ))\r\n        ) : (\r\n          <i>No apps found</i>\r\n        )}\r\n      </Navbar>\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\nexport default AppsNav;\r\n","import { Jobs } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst list = (\r\n  params: Jobs.GetJobListRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Jobs.JobsApi = apiGenerator<Jobs.JobsApi>(\r\n    Jobs,\r\n    Jobs.JobsApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Jobs.RespGetJobList>(() => api.getJobList(params));\r\n};\r\n\r\nexport default list;\r\n","import { Jobs } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst details = (params: Jobs.GetJobRequest, basePath: string, jwt: string) => {\r\n  const api: Jobs.JobsApi = apiGenerator<Jobs.JobsApi>(\r\n    Jobs,\r\n    Jobs.JobsApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Jobs.RespGetJob>(() => api.getJob(params));\r\n};\r\n\r\nexport default details;\r\n","import { Jobs } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst submit = (\r\n  request: Jobs.ReqSubmitJob,\r\n  basePath: string,\r\n  jwt: string\r\n): Promise<Jobs.RespSubmitJob> => {\r\n  const api: Jobs.JobsApi = apiGenerator<Jobs.JobsApi>(\r\n    Jobs,\r\n    Jobs.JobsApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Jobs.RespSubmitJob>(() =>\r\n    api.submitJob({ reqSubmitJob: request })\r\n  );\r\n};\r\n\r\nexport default submit;\r\n","const QueryKeys = {\r\n  list: 'jobs/list',\r\n  details: 'jobs/details',\r\n  submit: 'jobs/submit',\r\n};\r\n\r\nexport default QueryKeys;\r\n","import { useQuery, QueryObserverOptions } from 'react-query';\r\nimport { list } from 'tapis-api/jobs';\r\nimport { Jobs } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nexport const defaultParams: Jobs.GetJobListRequest = {\r\n  orderBy: 'created(desc)',\r\n};\r\n\r\nconst useList = (\r\n  params: Jobs.GetJobListRequest = defaultParams,\r\n  options: QueryObserverOptions<Jobs.RespGetJobList, Error> = {}\r\n) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n  const result = useQuery<Jobs.RespGetJobList, Error>(\r\n    [QueryKeys.list, params, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    () => list(params, basePath, accessToken?.access_token ?? ''),\r\n    {\r\n      ...options,\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n  return result;\r\n};\r\n\r\nexport default useList;\r\n","import { useQuery, QueryObserverOptions } from 'react-query';\r\nimport { details } from 'tapis-api/jobs';\r\nimport { Jobs } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nconst useDetails = (\r\n  jobUuid: string,\r\n  options: QueryObserverOptions<Jobs.RespGetJob, Error> = {}\r\n) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n  const params: Jobs.GetJobRequest = { jobUuid };\r\n  const result = useQuery<Jobs.RespGetJob, Error>(\r\n    [QueryKeys.details, params, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    () => details(params, basePath, accessToken?.access_token ?? ''),\r\n    {\r\n      ...options,\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n  return result;\r\n};\r\n\r\nexport default useDetails;\r\n","import { useEffect } from 'react';\r\nimport { useMutation } from 'react-query';\r\nimport { Jobs } from '@tapis/tapis-typescript';\r\nimport { submit } from 'tapis-api/jobs';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nconst useSubmit = (appId: string, appVersion: string) => {\r\n  const { basePath, accessToken } = useTapisConfig();\r\n  const jwt = accessToken?.access_token || '';\r\n\r\n  // The useMutation react-query hook is used to call operations that make server-side changes\r\n  // (Other hooks would be used for data retrieval)\r\n  //\r\n  // In this case, submit helper is called to perform the operation\r\n  const { mutate, isLoading, isError, isSuccess, data, error, reset } =\r\n    useMutation<Jobs.RespSubmitJob, Error, Jobs.ReqSubmitJob>(\r\n      [QueryKeys.submit, appId, appVersion, basePath, jwt],\r\n      (request: Jobs.ReqSubmitJob) => submit(request, basePath, jwt)\r\n    );\r\n\r\n  // We want this hook to automatically reset if a different appId or appVersion\r\n  // is passed to it. This eliminates the need to reset it inside the TSX component\r\n  useEffect(() => reset(), [reset, appId, appVersion]);\r\n\r\n  // Return hook object with loading states and login function\r\n  return {\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    data,\r\n    error,\r\n    reset,\r\n    submit: (request: Jobs.ReqSubmitJob) => {\r\n      // Call mutate to trigger a single post-like API operation\r\n      return mutate(request);\r\n    },\r\n  };\r\n};\r\n\r\nexport default useSubmit;\r\n","import React from 'react';\r\nimport { useDetails } from 'tapis-hooks/jobs';\r\nimport { Jobs } from '@tapis/tapis-typescript';\r\nimport { DescriptionList } from 'tapis-ui/_common';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\n\r\nconst JobDetail: React.FC<{ jobUuid: string }> = ({ jobUuid }) => {\r\n  const { data, isLoading, error } = useDetails(jobUuid);\r\n  const job: Jobs.Job | undefined = data?.result;\r\n\r\n  return (\r\n    <QueryWrapper isLoading={isLoading} error={error}>\r\n      <h3>{job?.name}</h3>\r\n      <h5>{job?.uuid}</h5>\r\n      {job && <DescriptionList data={job} />}\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\nexport default JobDetail;\r\n","import { Apps, Jobs } from '@tapis/tapis-typescript';\r\n\r\nexport const getIncompleteAppInputs = (\r\n  app: Apps.TapisApp\r\n): Array<Apps.AppFileInput> => {\r\n  return (\r\n    app.jobAttributes?.fileInputs?.filter(\r\n      (fileInput) => !fileInput.sourceUrl\r\n    ) ?? []\r\n  );\r\n};\r\n\r\nexport const getIncompleteAppInputsOfType = (\r\n  app: Apps.TapisApp,\r\n  inputType: Apps.FileInputModeEnum\r\n): Array<Apps.AppFileInput> => {\r\n  return getIncompleteAppInputs(app).filter(\r\n    (fileInput) => fileInput.inputMode === inputType\r\n  );\r\n};\r\n\r\nexport const generateFileInputFromAppInput = (\r\n  input: Apps.AppFileInput\r\n): Jobs.JobFileInput => ({\r\n  name: input.name,\r\n  sourceUrl: input.sourceUrl,\r\n  targetPath: input.targetPath,\r\n  description: input.description,\r\n  autoMountLocal: input.autoMountLocal,\r\n});\r\n\r\nexport const generateRequiredFileInputsFromApp = (\r\n  app: Apps.TapisApp\r\n): Array<Jobs.JobFileInput> => {\r\n  const requiredInputs: Array<Apps.AppFileInput> =\r\n    app.jobAttributes?.fileInputs?.filter(\r\n      (fileInput) => fileInput.inputMode === Apps.FileInputModeEnum.Required\r\n    ) ?? [];\r\n  const fileInputs: Array<Jobs.JobFileInput> = requiredInputs.map(\r\n    (appFileInput) => {\r\n      return generateFileInputFromAppInput(appFileInput);\r\n    }\r\n  );\r\n  return fileInputs;\r\n};\r\n\r\nexport const getAppInputsIncludedByDefault = (\r\n  appFileInputs: Array<Apps.AppFileInput>,\r\n  jobFileInputs: Array<Jobs.JobFileInput>\r\n) => {\r\n  return appFileInputs.filter((appFileInput) => {\r\n    const includedInJob = jobFileInputs.some(\r\n      (jobFileInput) => jobFileInput.name === appFileInput.name\r\n    );\r\n    return (\r\n      appFileInput.inputMode === Apps.FileInputModeEnum.Required &&\r\n      !!appFileInput.sourceUrl &&\r\n      !includedInJob\r\n    );\r\n  });\r\n};\r\n\r\n/**\r\n * @param appFileInputs\r\n * @param jobFileInputs\r\n * @returns An array of jobFileInputs that are underspecified\r\n */\r\nexport const getIncompleteJobInputs = (\r\n  appFileInputs: Array<Apps.AppFileInput>,\r\n  jobFileInputs: Array<Jobs.JobFileInput>\r\n) => {\r\n  // Get job inputs that are REQUIRED in the app but do not specify sourceUrl\r\n  const incompleteRequiredAppInputs: Array<Apps.AppFileInput> =\r\n    appFileInputs.filter(\r\n      (appFileInput) =>\r\n        appFileInput.inputMode === Apps.FileInputModeEnum.Required &&\r\n        !appFileInput.sourceUrl\r\n    );\r\n  const incompleteRequiredJobInputs: Array<Jobs.JobFileInput> =\r\n    jobFileInputs.filter((jobFileInput) => {\r\n      // Is this jobFileInput part of required app inputs?\r\n      const requiredInApp = incompleteRequiredAppInputs.some(\r\n        (appInput) => appInput.name === jobFileInput.name\r\n      );\r\n      if (requiredInApp) {\r\n        return !jobFileInput.sourceUrl;\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n\r\n  // Get job inputs that are OPTIONAL in the app but do not specify sourceUrl\r\n  const incompleteOptionalAppInputs: Array<Apps.AppFileInput> =\r\n    appFileInputs.filter(\r\n      (appFileInput) =>\r\n        appFileInput.inputMode === Apps.FileInputModeEnum.Optional &&\r\n        !appFileInput.sourceUrl\r\n    );\r\n  const incompleteOptionalJobInputs: Array<Jobs.JobFileInput> =\r\n    jobFileInputs.filter((jobFileInput) => {\r\n      // Is this jobFileInput part of optional app inputs?\r\n      const optionalInApp = incompleteOptionalAppInputs.some(\r\n        (appInput) => appInput.name === jobFileInput.name\r\n      );\r\n      if (optionalInApp) {\r\n        return !jobFileInput.sourceUrl;\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n\r\n  // Get job inputs that are neither OPTIONAL or REQUIRED, but are incomplete\r\n  const incompleteUserInputs: Array<Jobs.JobFileInput> = jobFileInputs.filter(\r\n    (jobFileInput) => {\r\n      // Is this jobFileInput neither OPTIONAL or REQUIRED?\r\n      const userInput =\r\n        !incompleteRequiredAppInputs.some(\r\n          (appInput) => appInput.name === jobFileInput.name\r\n        ) &&\r\n        !incompleteOptionalAppInputs.some(\r\n          (appInput) => appInput.name === jobFileInput.name\r\n        );\r\n      if (userInput) {\r\n        return !jobFileInput.sourceUrl || !jobFileInput.targetPath;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n  );\r\n\r\n  return incompleteRequiredJobInputs\r\n    .concat(incompleteOptionalJobInputs)\r\n    .concat(incompleteUserInputs);\r\n};\r\n\r\nexport const fileInputsComplete = (\r\n  app: Apps.TapisApp,\r\n  fileInputs: Array<Jobs.JobFileInput>\r\n) => {\r\n  // Check to make sure job has filled in all REQUIRED app inputs that are missing sourceUrl\r\n  const incompleteRequiredInputs: Array<Apps.AppFileInput> =\r\n    getIncompleteAppInputsOfType(app, Apps.FileInputModeEnum.Required);\r\n  const hasIncompleteRequiredInput: boolean = incompleteRequiredInputs.some(\r\n    (requiredInput) => {\r\n      // Find JobFileInput with name matching the required input\r\n      const jobFileInput: Jobs.JobFileInput | undefined = fileInputs.find(\r\n        (jobFileInput) => jobFileInput.name === requiredInput.name\r\n      );\r\n      if (!jobFileInput) {\r\n        // Matching jobFileInput not found, therefore there is an incomplete required input\r\n        return true;\r\n      } else {\r\n        // Verify that this input has a sourceUrl specified\r\n        return !jobFileInput.sourceUrl;\r\n      }\r\n    }\r\n  );\r\n  if (hasIncompleteRequiredInput) {\r\n    return false;\r\n  }\r\n\r\n  // Check to see if an OPTIONAL input was included but not fully specified\r\n  const optionalAppInputs: Array<Apps.AppFileInput> = getIncompleteAppInputs(\r\n    app\r\n  ).filter((appFileInput) => !appFileInput.sourceUrl);\r\n  // get any optional app file input that was included in the job.\r\n  const optionalJobInputs: Array<Jobs.JobFileInput> =\r\n    fileInputs.filter((jobFileInput) =>\r\n      optionalAppInputs.some(\r\n        (optionalAppInput) => jobFileInput.name === optionalAppInput.name\r\n      )\r\n    ) ?? [];\r\n  const hasIncompleteOptionalInput: boolean =\r\n    !!optionalJobInputs.length &&\r\n    optionalJobInputs.some((jobInput) => !jobInput.sourceUrl);\r\n  if (hasIncompleteOptionalInput) {\r\n    return false;\r\n  }\r\n\r\n  // Check to see if any app inputs that did not exist\r\n  const namedInputs =\r\n    app.jobAttributes?.fileInputs?.map((input) => input.name) ?? [];\r\n  const otherInputs: Array<Jobs.JobFileInput> =\r\n    fileInputs.filter(\r\n      (jobInput) => !namedInputs.some((name) => name === jobInput.name)\r\n    ) ?? [];\r\n  if (\r\n    otherInputs.some(\r\n      (otherInput) => !otherInput.sourceUrl || !otherInput.targetPath\r\n    )\r\n  ) {\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n};\r\n","import { Apps, Jobs } from '@tapis/tapis-typescript';\r\n\r\nexport const getIncompleteAppInputArrays = (\r\n  app: Apps.TapisApp\r\n): Array<Apps.AppFileInputArray> => {\r\n  return (\r\n    app.jobAttributes?.fileInputArrays?.filter(\r\n      (fileInput) => !fileInput.sourceUrls\r\n    ) ?? []\r\n  );\r\n};\r\n\r\nexport const getIncompleteAppInputArraysOfType = (\r\n  app: Apps.TapisApp,\r\n  inputType: Apps.FileInputModeEnum\r\n): Array<Apps.AppFileInputArray> => {\r\n  return getIncompleteAppInputArrays(app).filter(\r\n    (fileInput) => fileInput.inputMode === inputType\r\n  );\r\n};\r\n\r\nexport const generateFileInputArrayFromAppInput = (\r\n  input: Apps.AppFileInputArray\r\n): Jobs.JobFileInputArray => ({\r\n  name: input.name,\r\n  sourceUrls: input.sourceUrls ?? [],\r\n  targetDir: input.targetDir,\r\n  description: input.description,\r\n});\r\n\r\nexport const generateRequiredFileInputArraysFromApp = (\r\n  app: Apps.TapisApp\r\n): Array<Jobs.JobFileInput> => {\r\n  const requiredInputArrays: Array<Apps.AppFileInputArray> =\r\n    app.jobAttributes?.fileInputArrays?.filter(\r\n      (fileInput) => fileInput.inputMode === Apps.FileInputModeEnum.Required\r\n    ) ?? [];\r\n  const fileInputs: Array<Jobs.JobFileInput> = requiredInputArrays.map(\r\n    (appFileInputArray) => {\r\n      return generateFileInputArrayFromAppInput(appFileInputArray);\r\n    }\r\n  );\r\n  return fileInputs;\r\n};\r\n\r\nexport const getAppInputArraysIncludedByDefault = (\r\n  appFileInputArrays: Array<Apps.AppFileInputArray>,\r\n  jobFileInputArrays: Array<Jobs.JobFileInputArray>\r\n) => {\r\n  return appFileInputArrays.filter((appFileInputArray) => {\r\n    const includedInJob = jobFileInputArrays.some(\r\n      (jobFileInputArray) => jobFileInputArray.name === appFileInputArray.name\r\n    );\r\n    return (\r\n      appFileInputArray.inputMode === Apps.FileInputModeEnum.Required &&\r\n      !!appFileInputArray.sourceUrls &&\r\n      !includedInJob\r\n    );\r\n  });\r\n};\r\n\r\n/**\r\n * @param appFileInputsArrays\r\n * @param jobFileInputsArrays\r\n * @returns An array of JobFileInputArrays that are underspecified\r\n */\r\nexport const getIncompleteJobInputArrays = (\r\n  appFileInputArrays: Array<Apps.AppFileInputArray>,\r\n  jobFileInputArrays: Array<Jobs.JobFileInputArray>\r\n): Array<Jobs.JobFileInputArray> => {\r\n  // Get job input arrays that are REQUIRED in the app but do not specify sourceUrl\r\n  const incompleteRequiredAppInputArrays: Array<Apps.AppFileInputArray> =\r\n    appFileInputArrays.filter(\r\n      (appFileInputArray) =>\r\n        appFileInputArray.inputMode === Apps.FileInputModeEnum.Required &&\r\n        !appFileInputArray.sourceUrls\r\n    );\r\n  const incompleteRequiredJobInputArrays: Array<Jobs.JobFileInputArray> =\r\n    jobFileInputArrays.filter((jobFileInputArray) => {\r\n      // Is this jobFileInputArray part of required app input arrays?\r\n      const requiredInApp = incompleteRequiredAppInputArrays.some(\r\n        (appInputArray) => appInputArray.name === jobFileInputArray.name\r\n      );\r\n      if (requiredInApp) {\r\n        return (\r\n          !jobFileInputArray.sourceUrls || !jobFileInputArray.sourceUrls.length\r\n        );\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n\r\n  // Get job input arrays that are OPTIONAL in the app but do not specify sourceUrl\r\n  const incompleteOptionalAppInputArrays: Array<Apps.AppFileInputArray> =\r\n    appFileInputArrays.filter(\r\n      (appFileInputArray) =>\r\n        appFileInputArray.inputMode === Apps.FileInputModeEnum.Optional &&\r\n        !appFileInputArray.sourceUrls\r\n    );\r\n  const incompleteOptionalJobInputArrays: Array<Jobs.JobFileInputArray> =\r\n    jobFileInputArrays.filter((jobFileInputArray) => {\r\n      // Is this jobFileInputArray part of optional app input arrays?\r\n      const optionalInApp = incompleteOptionalAppInputArrays.some(\r\n        (appInputArray) => appInputArray.name === jobFileInputArray.name\r\n      );\r\n      if (optionalInApp) {\r\n        return (\r\n          !jobFileInputArray.sourceUrls || !jobFileInputArray.sourceUrls.length\r\n        );\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n\r\n  // Get job input arrays that are neither OPTIONAL or REQUIRED, but are incomplete\r\n  const incompleteUserInputArrays: Array<Jobs.JobFileInputArray> =\r\n    jobFileInputArrays.filter((jobFileInputArray) => {\r\n      // Is this jobFileInputArray neither OPTIONAL or REQUIRED?\r\n      const userInput =\r\n        !incompleteRequiredAppInputArrays.some(\r\n          (appInputArray) => appInputArray.name === jobFileInputArray.name\r\n        ) &&\r\n        !incompleteOptionalAppInputArrays.some(\r\n          (appInputArray) => appInputArray.name === jobFileInputArray.name\r\n        );\r\n      if (userInput) {\r\n        return (\r\n          !jobFileInputArray.sourceUrls ||\r\n          !jobFileInputArray.sourceUrls.length ||\r\n          !jobFileInputArray.targetDir\r\n        );\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n\r\n  return incompleteRequiredJobInputArrays\r\n    .concat(incompleteOptionalJobInputArrays)\r\n    .concat(incompleteUserInputArrays);\r\n};\r\n\r\nexport const fileInputArraysComplete = (\r\n  app: Apps.TapisApp,\r\n  fileInputArrays: Array<Jobs.JobFileInputArray>\r\n): boolean => {\r\n  // Check to make sure job has filled in all REQUIRED app inputs that are missing sourceUrl\r\n  const incompleteRequiredInputs: Array<Apps.AppFileInputArray> =\r\n    getIncompleteAppInputArraysOfType(app, Apps.FileInputModeEnum.Required);\r\n  const hasIncompleteRequiredInput: boolean = incompleteRequiredInputs.some(\r\n    (requiredInputArray) => {\r\n      // Find JobFileInputArray with name matching the required input\r\n      const jobFileInputArray: Jobs.JobFileInputArray | undefined =\r\n        fileInputArrays.find(\r\n          (jobFileInputArray) =>\r\n            jobFileInputArray.name === requiredInputArray.name\r\n        );\r\n      if (!jobFileInputArray) {\r\n        // Matching jobFileInput not found, therefore there is an incomplete required input\r\n        return true;\r\n      } else {\r\n        // Verify that this input has a sourceUrl specified\r\n        return (\r\n          !jobFileInputArray.sourceUrls || !jobFileInputArray.sourceUrls.length\r\n        );\r\n      }\r\n    }\r\n  );\r\n  if (hasIncompleteRequiredInput) {\r\n    return false;\r\n  }\r\n\r\n  // Check to see if an OPTIONAL input was included but not fully specified\r\n  const optionalAppInputArrays: Array<Apps.AppFileInputArray> =\r\n    getIncompleteAppInputArrays(app).filter(\r\n      (appFileInput) => !appFileInput.sourceUrls\r\n    );\r\n  // get any optional app file input that was included in the job.\r\n  const optionalJobInputArrays: Array<Jobs.JobFileInputArray> =\r\n    fileInputArrays.filter((jobFileInputArray) =>\r\n      optionalAppInputArrays.some(\r\n        (optionalAppInputArray) =>\r\n          jobFileInputArray.name === optionalAppInputArray.name\r\n      )\r\n    ) ?? [];\r\n  const hasIncompleteOptionalInputArray: boolean =\r\n    !!optionalJobInputArrays.length &&\r\n    optionalJobInputArrays.some((jobInput) => !jobInput.sourceUrls);\r\n  if (hasIncompleteOptionalInputArray) {\r\n    return false;\r\n  }\r\n\r\n  // Check to see if any app inputs that did not exist\r\n  const namedInputs =\r\n    app.jobAttributes?.fileInputArrays?.map((input) => input.name) ?? [];\r\n  const otherInputArrays: Array<Jobs.JobFileInputArray> =\r\n    fileInputArrays.filter(\r\n      (jobInputArray) =>\r\n        !namedInputs.some((name) => name === jobInputArray.name)\r\n    ) ?? [];\r\n  if (\r\n    otherInputArrays.some(\r\n      (otherInputArray) =>\r\n        !otherInputArray.sourceUrls || !otherInputArray.targetDir\r\n    )\r\n  ) {\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n};\r\n","import { Apps, Jobs } from '@tapis/tapis-typescript';\r\n\r\nexport const generateJobArg = (argSpec: Apps.AppArgSpec): Jobs.JobArgSpec => {\r\n  return {\r\n    arg: argSpec.arg,\r\n    description: argSpec.description,\r\n    include: argSpec.inputMode !== Apps.ArgInputModeEnum.IncludeOnDemand,\r\n    name: argSpec.name,\r\n  };\r\n};\r\n\r\nexport const getArgMode = (\r\n  name: string,\r\n  argSpecs: Array<Apps.AppArgSpec>\r\n): Apps.ArgInputModeEnum | undefined => {\r\n  const spec: Apps.AppArgSpec | undefined = argSpecs.find(\r\n    (argSpec) => argSpec.name === name\r\n  );\r\n  if (!spec) {\r\n    return undefined;\r\n  }\r\n  return spec.inputMode;\r\n};\r\n\r\nexport const generateJobArgsFromSpec = (\r\n  argSpecs: Array<Apps.AppArgSpec>\r\n): Array<Jobs.JobArgSpec> => {\r\n  return argSpecs.map((argSpec) => generateJobArg(argSpec));\r\n};\r\n","import { Apps, Jobs, Systems } from '@tapis/tapis-typescript';\r\nimport { generateRequiredFileInputsFromApp } from 'tapis-api/utils/jobFileInputs';\r\nimport { generateRequiredFileInputArraysFromApp } from 'tapis-api/utils/jobFileInputArrays';\r\nimport { generateJobArgsFromSpec } from 'tapis-api/utils/jobArgs';\r\n\r\nconst generateJobDefaults = ({\r\n  app,\r\n  systems,\r\n}: {\r\n  app?: Apps.TapisApp;\r\n  systems: Array<Systems.TapisSystem>;\r\n}): Partial<Jobs.ReqSubmitJob> => {\r\n  if (!app) {\r\n    return {};\r\n  }\r\n\r\n  const defaultValues: Partial<Jobs.ReqSubmitJob> = {\r\n    name: `${app.id}-${app.version}`,\r\n    description: app.description,\r\n    appId: app.id,\r\n    appVersion: app.version,\r\n    archiveOnAppError: app.jobAttributes?.archiveOnAppError ?? true,\r\n    archiveSystemId: app.jobAttributes?.archiveSystemId,\r\n    archiveSystemDir: app.jobAttributes?.archiveSystemDir,\r\n    nodeCount: app.jobAttributes?.nodeCount,\r\n    coresPerNode: app.jobAttributes?.coresPerNode,\r\n    jobType: app.jobType,\r\n    memoryMB: app.jobAttributes?.memoryMB,\r\n    maxMinutes: app.jobAttributes?.maxMinutes,\r\n    isMpi: app.jobAttributes?.isMpi,\r\n    mpiCmd: app.jobAttributes?.mpiCmd,\r\n    cmdPrefix: app.jobAttributes?.cmdPrefix,\r\n    fileInputs: generateRequiredFileInputsFromApp(app),\r\n    fileInputArrays: generateRequiredFileInputArraysFromApp(app),\r\n    parameterSet: {\r\n      appArgs: generateJobArgsFromSpec(\r\n        app.jobAttributes?.parameterSet?.appArgs ?? []\r\n      ),\r\n      containerArgs: generateJobArgsFromSpec(\r\n        app.jobAttributes?.parameterSet?.containerArgs ?? []\r\n      ),\r\n      schedulerOptions: generateJobArgsFromSpec(\r\n        app.jobAttributes?.parameterSet?.schedulerOptions ?? []\r\n      ),\r\n      archiveFilter: app.jobAttributes?.parameterSet?.archiveFilter,\r\n      envVariables: app.jobAttributes?.parameterSet?.envVariables,\r\n    },\r\n  };\r\n  return defaultValues;\r\n};\r\n\r\nexport default generateJobDefaults;\r\n","import { Message } from 'tapis-ui/_common';\r\n\r\ntype JobStartSummaryProps = {\r\n  field?: string;\r\n  error?: string;\r\n};\r\n\r\nconst JobStartSummary: React.FC<JobStartSummaryProps> = ({ field, error }) => {\r\n  return (\r\n    <div>\r\n      {field ? (\r\n        <div>{field}</div>\r\n      ) : (\r\n        <Message type=\"error\" canDismiss={false} scope=\"inline\">\r\n          {error ?? ''}\r\n        </Message>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default JobStartSummary;\r\n","import React, { useReducer, useContext, useEffect } from 'react';\r\n\r\nexport type BuilderContextType<T> = {\r\n  data: Partial<T>;\r\n  add: (slice: Partial<T>) => void;\r\n  set: (slice: Partial<T>) => void;\r\n  clear: () => void;\r\n};\r\n\r\n/**\r\n * Creates a Provider and context hook for a given data type\r\n * that builds a structure from slices of the provided data type\r\n *\r\n * @returns A Provider and a context hook\r\n */\r\nconst withBuilder = <T extends unknown>() => {\r\n  const context = React.createContext<BuilderContextType<T>>({\r\n    data: {},\r\n    add: (slice: Partial<T>) => {},\r\n    set: (slice: Partial<T>) => {},\r\n    clear: () => {},\r\n  });\r\n\r\n  const useBuilderContext = () => useContext(context);\r\n  const Provider: React.FC<React.PropsWithChildren<{ value?: Partial<T> }>> = ({\r\n    children,\r\n    value,\r\n  }) => {\r\n    const reducer = (\r\n      state: Partial<T>,\r\n      payload: {\r\n        action: 'add' | 'set' | 'clear';\r\n        slice?: Partial<T>;\r\n      }\r\n    ) => {\r\n      const { action, slice } = payload;\r\n      switch (action) {\r\n        case 'add':\r\n          return { ...state, ...slice };\r\n        case 'set':\r\n          return { ...slice };\r\n        case 'clear':\r\n          return {};\r\n        default:\r\n          return { ...state };\r\n      }\r\n    };\r\n    const [data, dispatch] = useReducer(reducer, { ...value });\r\n\r\n    useEffect(() => {\r\n      dispatch({ action: 'set', slice: value });\r\n    }, [dispatch, value]);\r\n\r\n    const contextValue: BuilderContextType<T> = {\r\n      data,\r\n      add: (slice) => dispatch({ action: 'add', slice }),\r\n      set: (slice) => dispatch({ action: 'set', slice }),\r\n      clear: () => dispatch({ action: 'clear' }),\r\n    };\r\n    return <context.Provider value={contextValue}>{children}</context.Provider>;\r\n  };\r\n\r\n  return {\r\n    useBuilderContext,\r\n    Provider,\r\n  };\r\n};\r\n\r\nexport default withBuilder;\r\n","import React, { useContext } from 'react';\r\nimport { Jobs, Apps, Systems } from '@tapis/tapis-typescript';\r\nimport withBuilder from 'tapis-ui/utils/withBuilder';\r\n\r\ntype JobLauncherContextType = {\r\n  app: Apps.TapisApp;\r\n  systems: Array<Systems.TapisSystem>;\r\n  schedulerProfiles: Array<Systems.SchedulerProfile>;\r\n};\r\n\r\nconst JobLauncherContext = React.createContext<JobLauncherContextType>({\r\n  app: {},\r\n  systems: [],\r\n  schedulerProfiles: [],\r\n});\r\n\r\nconst { useBuilderContext, Provider } = withBuilder<Jobs.ReqSubmitJob>();\r\n\r\nexport const useJobLauncher = () => {\r\n  const { data, add, set, clear } = useBuilderContext();\r\n  const { app, systems, schedulerProfiles } = useContext(JobLauncherContext);\r\n  return {\r\n    job: data,\r\n    add,\r\n    set,\r\n    clear,\r\n    app,\r\n    systems,\r\n    schedulerProfiles,\r\n  };\r\n};\r\n\r\ntype JobLauncherProviderProps = {\r\n  value: {\r\n    defaultValues: Partial<Jobs.ReqSubmitJob>;\r\n    app: Apps.TapisApp;\r\n    systems: Array<Systems.TapisSystem>;\r\n    schedulerProfiles: Array<Systems.SchedulerProfile>;\r\n  };\r\n};\r\n\r\nexport const JobLauncherProvider: React.FC<\r\n  React.PropsWithChildren<JobLauncherProviderProps>\r\n> = ({ value, children }) => {\r\n  const { app, systems, defaultValues, schedulerProfiles } = value;\r\n  return (\r\n    <JobLauncherContext.Provider value={{ app, systems, schedulerProfiles }}>\r\n      {Provider({ value: defaultValues, children })}\r\n    </JobLauncherContext.Provider>\r\n  );\r\n};\r\n\r\nexport default useJobLauncher;\r\n","import { StepSummaryField, useJobLauncher } from '../components';\r\nimport { FormikInput } from 'tapis-ui/_common';\r\nimport * as Yup from 'yup';\r\nimport { JobStep, JobLauncherProviderParams } from '../';\r\nimport { Jobs } from '@tapis/tapis-typescript';\r\n\r\nexport const JobStart: React.FC = () => {\r\n  const { app } = useJobLauncher();\r\n  return (\r\n    <div>\r\n      <h2>\r\n        Launching {app.id} v{app.version}\r\n      </h2>\r\n      <FormikInput\r\n        name=\"name\"\r\n        required={true}\r\n        label=\"Name\"\r\n        description=\"A name for this job\"\r\n      />\r\n      <FormikInput\r\n        name=\"description\"\r\n        required={false}\r\n        label=\"Description\"\r\n        description=\"A description of this job\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const JobStartSummary: React.FC = () => {\r\n  const { job } = useJobLauncher();\r\n  const { name, description, appId, appVersion } = job;\r\n  return (\r\n    <div>\r\n      <StepSummaryField\r\n        field={name}\r\n        error=\"A job name is required\"\r\n        key=\"job-start-name-summary\"\r\n      />\r\n      <StepSummaryField\r\n        field={description}\r\n        key=\"job-start-description-summary\"\r\n      />\r\n      <div>\r\n        <i>\r\n          Application: {appId} v{appVersion}\r\n        </i>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst generateInitialValues = ({\r\n  job,\r\n}: JobLauncherProviderParams): Partial<Jobs.ReqSubmitJob> => ({\r\n  name: job.name,\r\n  description: job.description,\r\n});\r\n\r\nconst validationSchema = Yup.object({\r\n  name: Yup.string().required().min(1).max(64),\r\n  description: Yup.string(),\r\n});\r\n\r\nconst step: JobStep = {\r\n  id: 'start',\r\n  name: 'Job Name',\r\n  render: <JobStart />,\r\n  summary: <JobStartSummary />,\r\n  generateInitialValues,\r\n  validationSchema,\r\n};\r\n\r\nexport default step;\r\n","import useFileOperations from './useFileOperations';\r\n\r\nexport enum FileOpEventStatusEnum {\r\n  waiting = 'waiting',\r\n  loading = 'loading',\r\n  error = 'error',\r\n  success = 'success',\r\n  none = 'none',\r\n}\r\n\r\nexport type FileOpState = {\r\n  [path: string]: {\r\n    status: FileOpEventStatusEnum;\r\n    error?: Error;\r\n  };\r\n};\r\n\r\nexport default useFileOperations;\r\n","export const upperCaseFirstLetter = (str: string) => {\r\n  const lower = str.toLowerCase();\r\n  return `${lower.slice(0, 1).toUpperCase()}${lower.slice(1)}`;\r\n};\r\n\r\nexport const capitalize = (str: string) => {\r\n  return str!.charAt(0).toUpperCase() + str!.slice(1);\r\n};\r\n\r\nexport const reduceRecord = (record: Record<'id', string>) => {\r\n  const { id, ...contents } = record;\r\n  return Object.values(contents).reduce(\r\n    (prev, current) => ((prev as string) + current) as string,\r\n    ''\r\n  );\r\n};\r\n","import { useMemo, useEffect, useState } from 'react';\r\nimport { Apps, Jobs, Systems } from '@tapis/tapis-typescript';\r\nimport { useJobLauncher, StepSummaryField } from '../components';\r\nimport {\r\n  FormikInput,\r\n  FormikCheck,\r\n  FormikSelect,\r\n  FormikTapisFile,\r\n} from 'tapis-ui/_common/FieldWrapperFormik';\r\nimport { useFormikContext } from 'formik';\r\nimport { Collapse } from 'tapis-ui/_common';\r\nimport {\r\n  computeDefaultQueue,\r\n  computeDefaultSystem,\r\n  computeDefaultJobType,\r\n  validateExecSystem,\r\n  ValidateExecSystemResult,\r\n} from 'tapis-api/utils/jobExecSystem';\r\nimport { capitalize } from './utils';\r\nimport * as Yup from 'yup';\r\nimport fieldArrayStyles from '../FieldArray.module.scss';\r\nimport { JobStep, JobLauncherProviderParams } from '../';\r\n\r\nconst getLogicalQueues = (system?: Systems.TapisSystem) =>\r\n  system?.batchLogicalQueues ?? [];\r\n\r\nconst getSystem = (systems: Array<Systems.TapisSystem>, systemId?: string) =>\r\n  !!systemId ? systems.find((system) => system.id === systemId) : undefined;\r\n\r\nconst SystemSelector: React.FC = () => {\r\n  const { setFieldValue, values } = useFormikContext();\r\n  const { job, app, systems } = useJobLauncher();\r\n\r\n  const [queues, setQueues] = useState<Array<Systems.LogicalQueue>>(\r\n    getLogicalQueues(getSystem(systems, job.execSystemId))\r\n  );\r\n\r\n  const [selectableSystems, setSelectableSystems] =\r\n    useState<Array<Systems.TapisSystem>>(systems);\r\n\r\n  const {\r\n    defaultSystemLabel,\r\n    defaultQueueLabel,\r\n    defaultJobTypeLabel,\r\n    isBatch,\r\n    selectedSystem,\r\n  } = useMemo(() => {\r\n    // Compute labels for when undefined values are selected for systems, queues or jobType\r\n    const { source: systemSource, systemId } = computeDefaultSystem(app);\r\n    const defaultSystemLabel = systemSource\r\n      ? `App default (${systemId})`\r\n      : 'Please select a system';\r\n    const { source: queueSource, queue } = computeDefaultQueue(\r\n      values as Partial<Jobs.ReqSubmitJob>,\r\n      app,\r\n      systems\r\n    );\r\n    const defaultQueueLabel = queueSource\r\n      ? `${capitalize(queueSource)} default (${queue})`\r\n      : 'Please select a queue';\r\n    const { source: jobTypeSource, jobType } = computeDefaultJobType(\r\n      values as Partial<Jobs.ReqSubmitJob>,\r\n      app,\r\n      systems\r\n    );\r\n    const defaultJobTypeLabel = `${capitalize(\r\n      jobTypeSource\r\n    )} default (${jobType})`;\r\n    const isBatch =\r\n      (values as Jobs.ReqSubmitJob)?.jobType === Apps.JobTypeEnum.Batch ||\r\n      jobType === Apps.JobTypeEnum.Batch;\r\n    const selectedSystem = (values as Jobs.ReqSubmitJob)?.execSystemId;\r\n    return {\r\n      defaultSystemLabel,\r\n      defaultQueueLabel,\r\n      defaultJobTypeLabel,\r\n      isBatch,\r\n      selectedSystem,\r\n    };\r\n  }, [values, app, systems]);\r\n\r\n  useEffect(() => {\r\n    // Handle changes to selectable execSystems and execSystemLogicalQueues\r\n    const validSystems = isBatch\r\n      ? systems.filter((system) => !!system.batchLogicalQueues?.length)\r\n      : systems;\r\n    setSelectableSystems(validSystems);\r\n    if (!validSystems.some((system) => system.id === selectedSystem)) {\r\n      // If current system is invalid (like a system with no logical queues for a batch job)\r\n      // then use the application default\r\n      setFieldValue('execSystemId', undefined);\r\n    }\r\n    if (!isBatch) {\r\n      setFieldValue('execSystemLogicalQueue', undefined);\r\n    }\r\n    const system = getSystem(\r\n      validSystems,\r\n      selectedSystem ?? app.jobAttributes?.execSystemId\r\n    );\r\n    const queues = getLogicalQueues(system);\r\n    setQueues(queues);\r\n    setFieldValue('execSystemLogicalQueue', undefined);\r\n  }, [\r\n    systems,\r\n    isBatch,\r\n    app,\r\n    selectedSystem,\r\n    setFieldValue,\r\n    setSelectableSystems,\r\n    setQueues,\r\n  ]);\r\n\r\n  return (\r\n    <div className={fieldArrayStyles.item}>\r\n      <FormikSelect\r\n        name=\"execSystemId\"\r\n        description=\"The execution system for this job\"\r\n        label=\"Execution System\"\r\n        required={true}\r\n        data-testid=\"execSystemId\"\r\n      >\r\n        <option value={undefined} label={defaultSystemLabel} />\r\n        {selectableSystems.map((system) => (\r\n          <option\r\n            value={system.id}\r\n            key={`execsystem-select-${system.id}`}\r\n            label={system.id}\r\n            data-testid={`execSystemId-${system.id}`}\r\n          />\r\n        ))}\r\n      </FormikSelect>\r\n      <FormikSelect\r\n        name=\"jobType\"\r\n        label=\"Job Type\"\r\n        description=\"Jobs can either be Batch or Fork\"\r\n        required={true}\r\n        data-testid=\"jobType\"\r\n      >\r\n        <option value={undefined} label={defaultJobTypeLabel} />\r\n        <option value={Apps.JobTypeEnum.Batch} label=\"Batch\" />\r\n        <option value={Apps.JobTypeEnum.Fork} label=\"Fork\" />\r\n      </FormikSelect>\r\n      {isBatch && (\r\n        <FormikSelect\r\n          name=\"execSystemLogicalQueue\"\r\n          description=\"The batch queue on this execution system\"\r\n          label=\"Batch Logical Queue\"\r\n          required={false}\r\n          disabled={queues.length === 0}\r\n          data-testid=\"execSystemLogicalQueue\"\r\n        >\r\n          <option value={undefined} label={defaultQueueLabel} />\r\n          {queues.map((queue) => (\r\n            <option\r\n              value={queue.name}\r\n              key={`queue-select-${queue.name}`}\r\n              label={queue.name}\r\n            />\r\n          ))}\r\n        </FormikSelect>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ExecSystemDirs: React.FC = () => {\r\n  const { values } = useFormikContext();\r\n  const execSystemId = useMemo(\r\n    () => (values as Partial<Jobs.ReqSubmitJob>).execSystemId,\r\n    [values]\r\n  );\r\n  return (\r\n    <Collapse title=\"Execution System Directories\">\r\n      <FormikTapisFile\r\n        allowSystemChange={false}\r\n        systemId={execSystemId}\r\n        disabled={!execSystemId}\r\n        name=\"execSystemExecDir\"\r\n        label=\"Execution System Execution Directory\"\r\n        description=\"The directory on the selected selection system for execution files\"\r\n        required={false}\r\n        files={false}\r\n        dirs={true}\r\n      />\r\n      <FormikTapisFile\r\n        allowSystemChange={false}\r\n        systemId={execSystemId}\r\n        disabled={!execSystemId}\r\n        name=\"execSystemInputDir\"\r\n        label=\"Execution System Input Directory\"\r\n        description=\"The directory on the selected selection system for input files\"\r\n        required={false}\r\n        files={false}\r\n        dirs={true}\r\n      />\r\n      <FormikTapisFile\r\n        allowSystemChange={false}\r\n        systemId={execSystemId}\r\n        disabled={!execSystemId}\r\n        name=\"execSystemOutputDir\"\r\n        label=\"Execution System Output Directory\"\r\n        description=\"The directory on the selected selection system for output files\"\r\n        required={false}\r\n        files={false}\r\n        dirs={true}\r\n      />\r\n    </Collapse>\r\n  );\r\n};\r\n\r\nconst ExecSystemQueueOptions: React.FC = () => {\r\n  const { errors } = useFormikContext();\r\n  const queueErrors = errors as QueueErrors;\r\n  const hasErrors =\r\n    queueErrors.coresPerNode ||\r\n    queueErrors.maxMinutes ||\r\n    queueErrors.memoryMB ||\r\n    queueErrors.nodeCount;\r\n  return (\r\n    <Collapse title=\"Queue Parameters\" isCollapsable={!hasErrors}>\r\n      <FormikInput\r\n        name=\"nodeCount\"\r\n        label=\"Node Count\"\r\n        description=\"The number of nodes to use for this job\"\r\n        required={false}\r\n      />\r\n      <FormikInput\r\n        name=\"coresPerNode\"\r\n        label=\"Cores Per Node\"\r\n        description=\"The number of cores to use per node\"\r\n        required={false}\r\n      />\r\n      <FormikInput\r\n        name=\"memoryMB\"\r\n        label=\"Memory, in Megabytes\"\r\n        description=\"The amount of memory to use per node in megabytes\"\r\n        required={false}\r\n      />\r\n      <FormikInput\r\n        name=\"maxMinutes\"\r\n        label=\"Maximum Minutes\"\r\n        description=\"The maximum amount of time in minutes for this job\"\r\n        required={false}\r\n      />\r\n    </Collapse>\r\n  );\r\n};\r\n\r\nconst MPIOptions: React.FC = () => {\r\n  const { values } = useFormikContext();\r\n  const isMpi = useMemo(\r\n    () => (values as Partial<Jobs.ReqSubmitJob>).isMpi,\r\n    [values]\r\n  );\r\n  return (\r\n    <Collapse title=\"MPI Options\">\r\n      <FormikCheck\r\n        name=\"isMpi\"\r\n        label=\"Is MPI?\"\r\n        description=\"If checked, this job will be run as an MPI job\"\r\n        required={false}\r\n      />\r\n      <FormikInput\r\n        name=\"mpiCmd\"\r\n        label=\"MPI Command\"\r\n        description=\"If this is an MPI job, you may specify the MPI command\"\r\n        required={false}\r\n        disabled={!isMpi}\r\n      />\r\n      <FormikInput\r\n        name=\"cmdPrefix\"\r\n        label=\"Command Prefix\"\r\n        description=\"If this is not an MPI job, you may specify a command prefix\"\r\n        required={false}\r\n        disabled={!!isMpi}\r\n      />\r\n    </Collapse>\r\n  );\r\n};\r\n\r\nexport const ExecOptions: React.FC = () => {\r\n  const { values } = useFormikContext();\r\n\r\n  const isBatch = useMemo(\r\n    () => (values as Jobs.ReqSubmitJob)?.jobType === Apps.JobTypeEnum.Batch,\r\n    [values]\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <h2>Execution Options</h2>\r\n      <SystemSelector />\r\n      {isBatch && <ExecSystemQueueOptions />}\r\n      <MPIOptions />\r\n      <ExecSystemDirs />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const ExecOptionsSummary: React.FC = () => {\r\n  const { job, app, systems } = useJobLauncher();\r\n  const { isMpi, mpiCmd, cmdPrefix } = job;\r\n\r\n  const { computedSystem, computedQueue, computedJobType } = useMemo(() => {\r\n    const { execSystemLogicalQueue, execSystemId, jobType } = job;\r\n    const computedSystem = execSystemId ?? computeDefaultSystem(app)?.systemId;\r\n    const computedQueue =\r\n      execSystemLogicalQueue ?? computeDefaultQueue(job, app, systems)?.queue;\r\n    const computedJobType =\r\n      jobType ?? computeDefaultJobType(job, app, systems)?.jobType;\r\n    return {\r\n      computedSystem,\r\n      computedQueue,\r\n      computedJobType,\r\n    };\r\n  }, [job, app, systems]);\r\n\r\n  return (\r\n    <div>\r\n      <StepSummaryField\r\n        field={computedSystem}\r\n        error=\"An execution system is required\"\r\n        key=\"execution-system-id-summary\"\r\n      />\r\n      {computedJobType === Apps.JobTypeEnum.Batch && (\r\n        <StepSummaryField\r\n          field={computedQueue}\r\n          error=\"A logical queue is required\"\r\n          key=\"execution-system-queue-summary\"\r\n        />\r\n      )}\r\n      <StepSummaryField\r\n        field={`${\r\n          isMpi\r\n            ? `MPI Command: ${mpiCmd ?? 'system default'}`\r\n            : `Command Prefix: ${cmdPrefix ?? 'system default'}`\r\n        }`}\r\n        key=\"execution-mpi-summary\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst validationSchema = Yup.object({\r\n  execSystemId: Yup.string(),\r\n  execSystemLogicalQueue: Yup.string(),\r\n  execSystemExecDir: Yup.string(),\r\n  execSystemInputDir: Yup.string(),\r\n  execSystemOutputDir: Yup.string(),\r\n  jobType: Yup.string(),\r\n  nodeCount: Yup.number(),\r\n  coresPerNode: Yup.number(),\r\n  memoryMB: Yup.number(),\r\n  maxMinutes: Yup.number(),\r\n  isMpi: Yup.boolean(),\r\n  mpiCmd: Yup.string(),\r\n  cmdPrefix: Yup.string(),\r\n});\r\n\r\ntype QueueErrors = {\r\n  nodeCount?: string;\r\n  coresPerNode?: string;\r\n  memoryMB?: string;\r\n  maxMinutes?: string;\r\n  execSystemId?: string;\r\n  execSystemLogicalQueue?: string;\r\n};\r\n\r\nconst validateThunk = ({ app, systems }: JobLauncherProviderParams) => {\r\n  return (values: Partial<Jobs.ReqSubmitJob>) => {\r\n    const {\r\n      execSystemId,\r\n      execSystemLogicalQueue,\r\n      nodeCount,\r\n      coresPerNode,\r\n      memoryMB,\r\n      maxMinutes,\r\n      jobType,\r\n    } = values;\r\n    const errors: QueueErrors = {};\r\n\r\n    const validation = validateExecSystem(\r\n      values as Partial<Jobs.ReqSubmitJob>,\r\n      app,\r\n      systems\r\n    );\r\n    if (validation === ValidateExecSystemResult.ErrorNoExecSystem) {\r\n      errors.execSystemId = `This app does not have a default execution system. You must specify one for this job`;\r\n    }\r\n\r\n    if (validation === ValidateExecSystemResult.ErrorExecSystemNotFound) {\r\n      errors.execSystemId = `The specified exec system cannot be found`;\r\n    }\r\n\r\n    if (validation === ValidateExecSystemResult.ErrorExecSystemNoQueues) {\r\n      errors.execSystemId = `The specified exec system is not capable of batch jobs`;\r\n    }\r\n\r\n    if (validation === ValidateExecSystemResult.ErrorNoQueue) {\r\n      errors.execSystemLogicalQueue = `Neither the application nor the selected system specifies a default queue. You must specify one for this job`;\r\n    }\r\n\r\n    if (validation === ValidateExecSystemResult.ErrorQueueNotFound) {\r\n      errors.execSystemLogicalQueue = `The specified queue cannot be found on the selected system`;\r\n    }\r\n\r\n    // Skip queue validation if the job is a FORK job\r\n    if (\r\n      jobType === Apps.JobTypeEnum.Fork ||\r\n      computeDefaultJobType(values as Partial<Jobs.ReqSubmitJob>, app, systems)\r\n        ?.jobType === Apps.JobTypeEnum.Fork\r\n    ) {\r\n      return errors;\r\n    }\r\n\r\n    const computedExecSystem = computeDefaultSystem(app);\r\n    const computedLogicalQueue = computeDefaultQueue(\r\n      values as Partial<Jobs.ReqSubmitJob>,\r\n      app,\r\n      systems\r\n    );\r\n    const selectedSystem = systems.find(\r\n      (system) => system.id === (execSystemId ?? computedExecSystem.systemId)\r\n    );\r\n\r\n    if (!selectedSystem?.batchLogicalQueues?.length) {\r\n      errors.execSystemLogicalQueue = `The selected system does not have any batch logical queues`;\r\n      return errors;\r\n    }\r\n\r\n    const queue = selectedSystem?.batchLogicalQueues?.find(\r\n      (queue) =>\r\n        queue.name === (execSystemLogicalQueue ?? computedLogicalQueue?.queue)\r\n    );\r\n    if (!queue) {\r\n      errors.execSystemLogicalQueue = `The specified queue does not exist on the selected execution system`;\r\n      return errors;\r\n    }\r\n\r\n    if (!!nodeCount) {\r\n      if (queue?.maxNodeCount && nodeCount > queue?.maxNodeCount) {\r\n        errors.nodeCount = `The maximum number of nodes for this queue is ${queue?.maxNodeCount}`;\r\n      }\r\n      if (queue?.minNodeCount && nodeCount < queue?.minNodeCount) {\r\n        errors.nodeCount = `The minimum number of nodes for this queue is ${queue?.minNodeCount}`;\r\n      }\r\n    }\r\n    if (!!coresPerNode) {\r\n      if (queue?.maxCoresPerNode && coresPerNode > queue?.maxCoresPerNode) {\r\n        errors.coresPerNode = `The maximum number of cores per node for this queue is ${queue?.maxCoresPerNode}`;\r\n      }\r\n      if (queue?.minCoresPerNode && coresPerNode < queue?.minCoresPerNode) {\r\n        errors.coresPerNode = `The minimum number of cores per node for this queue is ${queue?.minCoresPerNode}`;\r\n      }\r\n    }\r\n    if (!!memoryMB) {\r\n      if (queue?.maxMemoryMB && memoryMB > queue?.maxMemoryMB) {\r\n        errors.memoryMB = `The maximum amount of memory for this queue is ${queue?.maxMemoryMB} megabytes`;\r\n      }\r\n      if (queue?.minMemoryMB && memoryMB < queue?.minMemoryMB) {\r\n        errors.memoryMB = `The minimum amount of memory for this queue is ${queue?.minMemoryMB} megabytes`;\r\n      }\r\n    }\r\n    if (!!maxMinutes) {\r\n      if (queue?.maxMinutes && maxMinutes > queue?.maxMinutes) {\r\n        errors.maxMinutes = `The maximum number of minutes for a job on this queue is ${queue?.maxMinutes}`;\r\n      }\r\n      if (queue?.minMinutes && maxMinutes < queue?.minMinutes) {\r\n        errors.maxMinutes = `The minimum number of minutes for a job on this queue is ${queue?.minMinutes}`;\r\n      }\r\n    }\r\n    return errors;\r\n  };\r\n};\r\n\r\nconst generateInitialValues = ({\r\n  job,\r\n  app,\r\n  systems,\r\n}: JobLauncherProviderParams): Partial<Jobs.ReqSubmitJob> => ({\r\n  execSystemId: job.execSystemId,\r\n  execSystemLogicalQueue: job.execSystemLogicalQueue,\r\n  jobType: job.jobType,\r\n  execSystemExecDir: job.execSystemExecDir,\r\n  execSystemInputDir: job.execSystemInputDir,\r\n  execSystemOutputDir: job.execSystemOutputDir,\r\n  nodeCount: job.nodeCount,\r\n  coresPerNode: job.coresPerNode,\r\n  memoryMB: job.memoryMB,\r\n  maxMinutes: job.maxMinutes,\r\n  isMpi: job.isMpi,\r\n  mpiCmd: job.mpiCmd,\r\n  cmdPrefix: job.cmdPrefix,\r\n});\r\n\r\nconst step: JobStep = {\r\n  id: 'execution',\r\n  name: 'Execution Options',\r\n  render: <ExecOptions />,\r\n  summary: <ExecOptionsSummary />,\r\n  generateInitialValues,\r\n  validateThunk,\r\n  validationSchema,\r\n};\r\n\r\nexport default step;\r\n","import React, { useMemo } from 'react';\r\nimport { Apps, Jobs } from '@tapis/tapis-typescript';\r\nimport FieldWrapper from 'tapis-ui/_common/FieldWrapper';\r\nimport { Input } from 'reactstrap';\r\nimport { Button } from 'reactstrap';\r\nimport { useJobLauncher, StepSummaryField } from '../components';\r\nimport styles from './FileInputs.module.scss';\r\nimport fieldArrayStyles from '../FieldArray.module.scss';\r\nimport {\r\n  generateFileInputFromAppInput,\r\n  getIncompleteJobInputs,\r\n  getAppInputsIncludedByDefault,\r\n} from 'tapis-api/utils/jobFileInputs';\r\nimport { Collapse } from 'tapis-ui/_common';\r\nimport { FieldArray, useFormikContext, FieldArrayRenderProps } from 'formik';\r\nimport {\r\n  FormikInput,\r\n  FormikCheck,\r\n  FormikTapisFile,\r\n} from 'tapis-ui/_common/FieldWrapperFormik';\r\nimport { JobStep } from '..';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport * as Yup from 'yup';\r\n\r\ntype FileInputFieldProps = {\r\n  item: Jobs.JobFileInput;\r\n  index: number;\r\n  remove: (index: number) => Jobs.JobFileInput | undefined;\r\n};\r\n\r\nconst upperCaseFirstLetter = (str: string) => {\r\n  const lower = str.toLowerCase();\r\n  return `${lower.slice(0, 1).toUpperCase()}${lower.slice(1)}`;\r\n};\r\n\r\nconst JobInputField: React.FC<FileInputFieldProps> = ({\r\n  item,\r\n  index,\r\n  remove,\r\n}) => {\r\n  const { app } = useJobLauncher();\r\n  const { name, sourceUrl } = item;\r\n  const inputMode: Apps.FileInputModeEnum | undefined = useMemo(\r\n    () =>\r\n      app.jobAttributes?.fileInputs?.find(\r\n        (appInput) => appInput.name === item.name\r\n      )?.inputMode ?? undefined,\r\n    /* eslint-disable-next-line */\r\n    [app.id, app.version]\r\n  );\r\n  const isRequired = inputMode === Apps.FileInputModeEnum.Required;\r\n  const note = `${\r\n    inputMode ? upperCaseFirstLetter(inputMode) : 'User Defined'\r\n  }`;\r\n\r\n  return (\r\n    <>\r\n      <Collapse\r\n        open={!sourceUrl}\r\n        title={name ?? 'File Input'}\r\n        note={note}\r\n        className={fieldArrayStyles.item}\r\n      >\r\n        <FormikInput\r\n          name={`fileInputs.${index}.name`}\r\n          label=\"Name\"\r\n          required={true}\r\n          description={`${\r\n            isRequired\r\n              ? 'This input is required and cannot be renamed'\r\n              : 'Name of this input'\r\n          }`}\r\n          disabled={isRequired}\r\n        />\r\n        <FormikTapisFile\r\n          name={`fileInputs.${index}.sourceUrl`}\r\n          label=\"Source URL\"\r\n          required={true}\r\n          description=\"Input TAPIS file as a pathname, TAPIS URI or web URL\"\r\n        />\r\n        <FormikInput\r\n          name={`fileInputs.${index}.targetPath`}\r\n          label=\"Target Path\"\r\n          required={true}\r\n          description=\"File mount path inside of running container\"\r\n        />\r\n        <FormikInput\r\n          name={`fileInputs.${index}.description`}\r\n          label=\"Description\"\r\n          required={false}\r\n          description=\"Description of this input\"\r\n        />\r\n        <FormikCheck\r\n          name={`fileInputs.${index}.autoMountLocal`}\r\n          label=\"Auto-mount Local\"\r\n          required={false}\r\n          description=\"If this is true, the source URL will be mounted from the execution system's local file system\"\r\n        />\r\n        {!isRequired && (\r\n          <Button onClick={() => remove(index)} size=\"sm\">\r\n            Remove\r\n          </Button>\r\n        )}\r\n      </Collapse>\r\n    </>\r\n  );\r\n};\r\n\r\nconst getFileInputsOfMode = (\r\n  app: Apps.TapisApp,\r\n  inputMode: Apps.FileInputModeEnum\r\n) =>\r\n  app.jobAttributes?.fileInputs?.filter(\r\n    (appInput) => appInput.inputMode === inputMode\r\n  ) ?? [];\r\n\r\nconst inputIncluded = (\r\n  input: Apps.AppFileInput,\r\n  jobInputs: Array<Jobs.JobFileInput>\r\n) => {\r\n  return jobInputs.some((jobInput) => jobInput.name === input.name);\r\n};\r\n\r\ntype OptionalInputProps = {\r\n  input: Apps.AppFileInput;\r\n  included: boolean;\r\n  onInclude: () => any;\r\n};\r\n\r\nconst OptionalInput: React.FC<OptionalInputProps> = ({\r\n  input,\r\n  included,\r\n  onInclude,\r\n}) => {\r\n  return (\r\n    <Collapse\r\n      title={`${input.name} ${included ? '(included)' : ''}`}\r\n      className={styles['optional-input']}\r\n    >\r\n      <div className={fieldArrayStyles.description}>\r\n        {input.description ?? ''}\r\n      </div>\r\n      <FieldWrapper\r\n        label=\"Source URL\"\r\n        required={true}\r\n        description=\"Input TAPIS file as a pathname, TAPIS URI or web URL\"\r\n      >\r\n        <Input bsSize=\"sm\" defaultValue={input.sourceUrl} disabled={true} />\r\n      </FieldWrapper>\r\n      <FieldWrapper\r\n        label=\"Target Path\"\r\n        required={true}\r\n        description=\"File mount path inside of running container\"\r\n      >\r\n        <Input bsSize=\"sm\" defaultValue={input.targetPath} disabled={true} />\r\n      </FieldWrapper>\r\n      <Button onClick={() => onInclude()} disabled={included} size=\"sm\">\r\n        Include\r\n      </Button>\r\n      {included && (\r\n        <div className={fieldArrayStyles.description}>\r\n          This optional input has already been included with your job file\r\n          inputs.\r\n        </div>\r\n      )}\r\n    </Collapse>\r\n  );\r\n};\r\n\r\nconst OptionalInputs: React.FC<{ arrayHelpers: FieldArrayRenderProps }> = ({\r\n  arrayHelpers,\r\n}) => {\r\n  const { app } = useJobLauncher();\r\n  const { values } = useFormikContext();\r\n\r\n  const optionalInputs = useMemo(\r\n    () => getFileInputsOfMode(app, Apps.FileInputModeEnum.Optional),\r\n    /* eslint-disable-next-line */\r\n    [app.id, app.version]\r\n  );\r\n\r\n  const formFileInputs =\r\n    (values as Partial<Jobs.ReqSubmitJob>)?.fileInputs ?? [];\r\n\r\n  return !!optionalInputs.length ? (\r\n    <Collapse\r\n      title=\"Optional File Inputs\"\r\n      open={true}\r\n      note={`${optionalInputs.length} additional files`}\r\n      className={fieldArrayStyles.array}\r\n    >\r\n      <div className={fieldArrayStyles.description}>\r\n        These File Inputs are defined in the application and can be included\r\n        with your job.\r\n      </div>\r\n      {optionalInputs.map((optionalInput) => {\r\n        const alreadyIncluded = inputIncluded(optionalInput, formFileInputs);\r\n        const onInclude = () => {\r\n          arrayHelpers.push(generateFileInputFromAppInput(optionalInput));\r\n        };\r\n        return (\r\n          <div\r\n            className={fieldArrayStyles.item}\r\n            key={`optional-input-${optionalInput.name}`}\r\n          >\r\n            <OptionalInput\r\n              input={optionalInput}\r\n              onInclude={onInclude}\r\n              included={alreadyIncluded}\r\n            />\r\n          </div>\r\n        );\r\n      })}\r\n    </Collapse>\r\n  ) : null;\r\n};\r\n\r\nconst FixedInput: React.FC<{ input: Apps.AppFileInput }> = ({ input }) => {\r\n  return (\r\n    <Collapse title={`${input.name}`} className={styles['optional-input']}>\r\n      <div className={fieldArrayStyles.description}>\r\n        {input.description ?? ''}\r\n      </div>\r\n      <FieldWrapper\r\n        label=\"Source URL\"\r\n        required={true}\r\n        description=\"Input TAPIS file as a pathname, TAPIS URI or web URL\"\r\n      >\r\n        <Input bsSize=\"sm\" defaultValue={input.sourceUrl} disabled={true} />\r\n      </FieldWrapper>\r\n      <FieldWrapper\r\n        label=\"Target Path\"\r\n        required={true}\r\n        description=\"File mount path inside of running container\"\r\n      >\r\n        <Input bsSize=\"sm\" defaultValue={input.targetPath} disabled={true} />\r\n      </FieldWrapper>\r\n    </Collapse>\r\n  );\r\n};\r\n\r\nconst FixedInputs: React.FC = () => {\r\n  const { app } = useJobLauncher();\r\n\r\n  const fixedInputs = useMemo(\r\n    () => getFileInputsOfMode(app, Apps.FileInputModeEnum.Fixed),\r\n    /* eslint-disable-next-line */\r\n    [app.id, app.version]\r\n  );\r\n\r\n  return (\r\n    <Collapse\r\n      title=\"Fixed File Inputs\"\r\n      open={true}\r\n      note={`${fixedInputs.length} additional files`}\r\n      className={fieldArrayStyles.array}\r\n    >\r\n      <div className={fieldArrayStyles.description}>\r\n        These File Inputs are defined in the application and will automatically\r\n        be included with your job. They cannot be removed or altered.\r\n      </div>\r\n      {fixedInputs.map((fixedInput) => (\r\n        <div\r\n          className={fieldArrayStyles.item}\r\n          key={`fixed-input-${fixedInput.name}`}\r\n        >\r\n          <FixedInput input={fixedInput} />\r\n        </div>\r\n      ))}\r\n    </Collapse>\r\n  );\r\n};\r\n\r\nconst JobInputs: React.FC<{ arrayHelpers: FieldArrayRenderProps }> = ({\r\n  arrayHelpers,\r\n}) => {\r\n  const { values } = useFormikContext();\r\n  const { app } = useJobLauncher();\r\n  const requiredInputs = useMemo(\r\n    () => getFileInputsOfMode(app, Apps.FileInputModeEnum.Required),\r\n    /* eslint-disable-next-line */\r\n    [app.id, app.version]\r\n  );\r\n  let requiredText =\r\n    requiredInputs.length > 0 ? `Required (${requiredInputs.length})` : '';\r\n  const jobInputs = (values as Partial<Jobs.ReqSubmitJob>)?.fileInputs ?? [];\r\n\r\n  return (\r\n    <Collapse\r\n      open={requiredInputs.length > 0}\r\n      title=\"File Inputs\"\r\n      note={`${jobInputs.length} items`}\r\n      requiredText={requiredText}\r\n      isCollapsable={requiredInputs.length === 0}\r\n      className={fieldArrayStyles.array}\r\n    >\r\n      <div className={fieldArrayStyles.description}>\r\n        These File Inputs will be submitted with your job.\r\n      </div>\r\n      {jobInputs.map((jobInput, index) => (\r\n        <JobInputField\r\n          key={`fileInputs.${index}`}\r\n          item={jobInput}\r\n          index={index}\r\n          remove={arrayHelpers.remove}\r\n        />\r\n      ))}\r\n      <Button onClick={() => arrayHelpers.push({})} size=\"sm\">\r\n        + Add File Input\r\n      </Button>\r\n    </Collapse>\r\n  );\r\n};\r\n\r\nexport const FileInputs: React.FC = () => {\r\n  return (\r\n    <div>\r\n      <h2>File Inputs</h2>\r\n      <FieldArray\r\n        name=\"fileInputs\"\r\n        render={(arrayHelpers) => {\r\n          return (\r\n            <>\r\n              <JobInputs arrayHelpers={arrayHelpers} />\r\n              <OptionalInputs arrayHelpers={arrayHelpers} />\r\n              <FixedInputs />\r\n            </>\r\n          );\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const FileInputsSummary: React.FC = () => {\r\n  const { job, app } = useJobLauncher();\r\n  const jobFileInputs = job.fileInputs ?? [];\r\n  const appFileInputs = app.jobAttributes?.fileInputs ?? [];\r\n  const missingRequiredInputs = appFileInputs.filter(\r\n    (appFileInput) =>\r\n      appFileInput.inputMode === Apps.FileInputModeEnum.Required &&\r\n      !jobFileInputs.some(\r\n        (jobFileInput) => jobFileInput.name === appFileInput.name\r\n      )\r\n  );\r\n  const incompleteJobInputs = getIncompleteJobInputs(\r\n    appFileInputs,\r\n    jobFileInputs\r\n  );\r\n  const includedByDefault = getAppInputsIncludedByDefault(\r\n    appFileInputs,\r\n    jobFileInputs\r\n  );\r\n  return (\r\n    <div key=\"file-inputs-summary\">\r\n      {jobFileInputs.map((jobFileInput) => {\r\n        const complete = !incompleteJobInputs.some(\r\n          (incompleteInput) => incompleteInput.name === jobFileInput.name\r\n        );\r\n        // If this job file input is complete, display its name or sourceUrl\r\n        const field = complete\r\n          ? `${jobFileInput.name}: ${jobFileInput.sourceUrl}` ??\r\n            jobFileInput.sourceUrl\r\n          : undefined;\r\n        const key =\r\n          jobFileInput.name ??\r\n          jobFileInput.sourceUrl ??\r\n          jobFileInput.targetPath;\r\n        // If this job file input is incomplete, display its name or sourceUrl\r\n        const error = !complete\r\n          ? `${key ?? 'A file input'} is missing required information`\r\n          : undefined;\r\n        return (\r\n          <StepSummaryField\r\n            field={field}\r\n            error={error}\r\n            key={`file-inputs-summary-${key ?? uuidv4()}`}\r\n          />\r\n        );\r\n      })}\r\n      {missingRequiredInputs.map((requiredFileInput) => (\r\n        <StepSummaryField\r\n          error={`${requiredFileInput.name} is required`}\r\n          key={`file-inputs-required-error-${requiredFileInput.name}`}\r\n        />\r\n      ))}\r\n      {includedByDefault.map((defaultInput) => (\r\n        <StepSummaryField\r\n          field={`${defaultInput.name} included by default`}\r\n          key={`file-inputs-default-${defaultInput.name}`}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  fileInputs: Yup.array().of(\r\n    Yup.object().shape({\r\n      name: Yup.string().min(1).required('A fileInput name is required'),\r\n      sourceUrl: Yup.string().min(1).required('A sourceUrl is required'),\r\n      targetPath: Yup.string().min(1).required('A targetPath is required'),\r\n      autoMountLocal: Yup.boolean(),\r\n    })\r\n  ),\r\n});\r\n\r\nconst step: JobStep = {\r\n  id: 'fileInputs',\r\n  name: 'File Inputs',\r\n  render: <FileInputs />,\r\n  summary: <FileInputsSummary />,\r\n  validationSchema,\r\n  generateInitialValues: ({ job }) => ({\r\n    fileInputs: job.fileInputs,\r\n  }),\r\n};\r\n\r\nexport default step;\r\n","import React, { useMemo, useCallback } from 'react';\r\nimport { Apps, Files, Jobs } from '@tapis/tapis-typescript';\r\nimport { Input, Button, FormGroup } from 'reactstrap';\r\nimport { useJobLauncher, StepSummaryField } from '../components';\r\nimport {\r\n  generateFileInputArrayFromAppInput,\r\n  getIncompleteJobInputArrays,\r\n  getAppInputArraysIncludedByDefault,\r\n} from 'tapis-api/utils/jobFileInputArrays';\r\nimport { Collapse, Icon, FieldWrapper } from 'tapis-ui/_common';\r\nimport { useModal } from 'tapis-ui/_common/GenericModal';\r\nimport { FileSelectModal } from 'tapis-ui/components/files';\r\nimport {\r\n  FieldArray,\r\n  useFormikContext,\r\n  FieldArrayRenderProps,\r\n  Field,\r\n  ErrorMessage,\r\n  FieldProps,\r\n} from 'formik';\r\nimport {\r\n  FormikInput,\r\n  FormikTapisFileInput,\r\n} from 'tapis-ui/_common/FieldWrapperFormik';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport * as Yup from 'yup';\r\nimport arrayStyles from './FileInputArrays.module.scss';\r\nimport styles from './FileInputs.module.scss';\r\nimport fieldArrayStyles from '../FieldArray.module.scss';\r\nimport formStyles from 'tapis-ui/_common/FieldWrapperFormik/FieldWrapperFormik.module.css';\r\nimport { JobStep } from '..';\r\n\r\nexport type FieldWrapperProps = {\r\n  fileInputArrayIndex: number;\r\n  arrayHelpers: FieldArrayRenderProps;\r\n};\r\n\r\nconst SourceUrlsField: React.FC<FieldWrapperProps> = ({\r\n  fileInputArrayIndex,\r\n  arrayHelpers,\r\n}) => {\r\n  const { values } = useFormikContext();\r\n  const sourceUrls: Array<string> = useMemo(\r\n    () =>\r\n      !!(values as Partial<Jobs.ReqSubmitJob>).fileInputArrays\r\n        ? (values as Partial<Jobs.ReqSubmitJob>).fileInputArrays![\r\n            fileInputArrayIndex\r\n          ].sourceUrls ?? []\r\n        : [],\r\n    [values, fileInputArrayIndex]\r\n  );\r\n  const { push } = arrayHelpers;\r\n  const { modal, open, close } = useModal();\r\n  const onSelect = useCallback(\r\n    (systemId: string | null, files: Array<Files.FileInfo>) => {\r\n      files.forEach((file) => {\r\n        const newSourceUrl = `tapis://${systemId ?? ''}${file.path}`;\r\n        if (!sourceUrls.some((sourceUrl) => sourceUrl === newSourceUrl)) {\r\n          push(newSourceUrl);\r\n        }\r\n      });\r\n    },\r\n    [push, sourceUrls]\r\n  );\r\n\r\n  return (\r\n    <FormGroup>\r\n      <div className={arrayStyles.sourceUrls}>\r\n        {sourceUrls.map((_, sourceUrlIndex) => {\r\n          const sourceUrlName = `fileInputArrays.${fileInputArrayIndex}.sourceUrls.${sourceUrlIndex}`;\r\n          return (\r\n            <div key={sourceUrlName}>\r\n              <Field name={sourceUrlName}>\r\n                {({ field }: FieldProps) => (\r\n                  <FormikTapisFileInput\r\n                    {...field}\r\n                    append={\r\n                      <Button\r\n                        size=\"sm\"\r\n                        onClick={() => arrayHelpers.remove(sourceUrlIndex)}\r\n                        disabled={\r\n                          sourceUrls.length === 1 && sourceUrlIndex === 0\r\n                        }\r\n                      >\r\n                        <Icon name=\"close\" />\r\n                      </Button>\r\n                    }\r\n                  />\r\n                )}\r\n              </Field>\r\n              <ErrorMessage name={sourceUrlName} className=\"form-field__help\">\r\n                {(message) => (\r\n                  <div\r\n                    className={`${formStyles['form-field__help']} ${styles.description}`}\r\n                  >\r\n                    {message}\r\n                  </div>\r\n                )}\r\n              </ErrorMessage>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      <div>\r\n        <Button size=\"sm\" onClick={() => arrayHelpers.push('')}>\r\n          + Add Source URL\r\n        </Button>\r\n        <Button size=\"sm\" onClick={() => open()}>\r\n          + Browse for Files\r\n        </Button>\r\n      </div>\r\n      {modal && <FileSelectModal toggle={close} onSelect={onSelect} />}\r\n    </FormGroup>\r\n  );\r\n};\r\n\r\ntype JobInputArrayFieldProps = {\r\n  item: Jobs.JobFileInputArray;\r\n  index: number;\r\n  remove: (index: number) => Jobs.JobFileInput | undefined;\r\n};\r\n\r\nconst upperCaseFirstLetter = (str: string) => {\r\n  const lower = str.toLowerCase();\r\n  return `${lower.slice(0, 1).toUpperCase()}${lower.slice(1)}`;\r\n};\r\n\r\nconst JobInputArrayField: React.FC<JobInputArrayFieldProps> = ({\r\n  item,\r\n  index,\r\n  remove,\r\n}) => {\r\n  const { app } = useJobLauncher();\r\n  const { name, sourceUrls } = item;\r\n  const inputMode: Apps.FileInputModeEnum | undefined = useMemo(\r\n    () =>\r\n      app.jobAttributes?.fileInputArrays?.find(\r\n        (appInput) => appInput.name === item.name\r\n      )?.inputMode ?? undefined,\r\n    /* eslint-disable-next-line */\r\n    [app.id, app.version]\r\n  );\r\n  const isRequired = inputMode === Apps.FileInputModeEnum.Required;\r\n  const note = `${\r\n    inputMode ? upperCaseFirstLetter(inputMode) : 'User Defined'\r\n  }`;\r\n  return (\r\n    <Collapse\r\n      open={!sourceUrls}\r\n      title={name ?? 'File Input Array'}\r\n      note={note}\r\n      className={fieldArrayStyles.item}\r\n    >\r\n      <FormikInput\r\n        name={`fileInputArrays.${index}.name`}\r\n        label=\"Name\"\r\n        required={true}\r\n        description={`${\r\n          isRequired\r\n            ? 'This input is required and cannot be renamed'\r\n            : 'Name of this input'\r\n        }`}\r\n        disabled={isRequired}\r\n      />\r\n      <FieldArray\r\n        name={`fileInputArrays.${index}.sourceUrls`}\r\n        render={(arrayHelpers) => (\r\n          <FieldWrapper\r\n            label=\"Source URLs\"\r\n            required={true}\r\n            description=\"Input TAPIS files as pathnames, TAPIS URIs or web URLs\"\r\n          >\r\n            <SourceUrlsField\r\n              fileInputArrayIndex={index}\r\n              arrayHelpers={arrayHelpers}\r\n            />\r\n          </FieldWrapper>\r\n        )}\r\n      />\r\n      <FormikInput\r\n        name={`fileInputArrays.${index}.targetDir`}\r\n        label=\"Target Directory\"\r\n        required={true}\r\n        description=\"File mount path inside of running container\"\r\n      />\r\n      <FormikInput\r\n        name={`fileInputArrays.${index}.description`}\r\n        label=\"Description\"\r\n        required={false}\r\n        description=\"Description of this input\"\r\n      />\r\n      {!isRequired && (\r\n        <Button onClick={() => remove(index)} size=\"sm\">\r\n          Remove\r\n        </Button>\r\n      )}\r\n    </Collapse>\r\n  );\r\n};\r\n\r\nconst getFileInputArraysOfMode = (\r\n  app: Apps.TapisApp,\r\n  inputMode: Apps.FileInputModeEnum\r\n) =>\r\n  app.jobAttributes?.fileInputArrays?.filter(\r\n    (appInputArray) => appInputArray.inputMode === inputMode\r\n  ) ?? [];\r\n\r\nconst inputArrayIncluded = (\r\n  input: Apps.AppFileInputArray,\r\n  jobInputArrays: Array<Jobs.JobFileInputArray>\r\n) => {\r\n  return jobInputArrays.some(\r\n    (jobInputArray) => jobInputArray.name === input.name\r\n  );\r\n};\r\n\r\ntype OptionalInputArrayProps = {\r\n  inputArray: Apps.AppFileInputArray;\r\n  included: boolean;\r\n  onInclude: () => any;\r\n};\r\n\r\nconst OptionalInputArray: React.FC<OptionalInputArrayProps> = ({\r\n  inputArray,\r\n  included,\r\n  onInclude,\r\n}) => {\r\n  return (\r\n    <Collapse\r\n      title={`${inputArray.name} ${included ? '(included)' : ''}`}\r\n      className={styles['optional-input']}\r\n    >\r\n      <div className={fieldArrayStyles.description}>\r\n        {inputArray.description ?? ''}\r\n      </div>\r\n      <FieldWrapper\r\n        label=\"Source URLs\"\r\n        required={true}\r\n        description=\"Input TAPIS files as pathnames, TAPIS URIs or web URLs\"\r\n      >\r\n        {inputArray.sourceUrls?.map((sourceUrl) => (\r\n          <Input bsSize=\"sm\" defaultValue={sourceUrl} disabled={true} />\r\n        ))}\r\n      </FieldWrapper>\r\n      <FieldWrapper\r\n        label=\"Target Path\"\r\n        required={true}\r\n        description=\"File mount path inside of running container\"\r\n      >\r\n        <Input\r\n          bsSize=\"sm\"\r\n          defaultValue={inputArray.targetDir}\r\n          disabled={true}\r\n        />\r\n      </FieldWrapper>\r\n      <Button onClick={() => onInclude()} disabled={included} size=\"sm\">\r\n        Include\r\n      </Button>\r\n      {included && (\r\n        <div className={fieldArrayStyles.description}>\r\n          This optional input array has already been included with your job file\r\n          inputs.\r\n        </div>\r\n      )}\r\n    </Collapse>\r\n  );\r\n};\r\n\r\nconst OptionalInputArrays: React.FC<{ arrayHelpers: FieldArrayRenderProps }> =\r\n  ({ arrayHelpers }) => {\r\n    const { app } = useJobLauncher();\r\n    const { values } = useFormikContext();\r\n\r\n    const optionalInputArrays = useMemo(\r\n      () => getFileInputArraysOfMode(app, Apps.FileInputModeEnum.Optional),\r\n      /* eslint-disable-next-line */\r\n      [app.id, app.version]\r\n    );\r\n\r\n    const formFileInputArrays =\r\n      (values as Partial<Jobs.ReqSubmitJob>)?.fileInputArrays ?? [];\r\n\r\n    return !!optionalInputArrays.length ? (\r\n      <Collapse\r\n        title=\"Optional File Input Arrays\"\r\n        open={true}\r\n        note={`${optionalInputArrays.length} additional files`}\r\n        className={fieldArrayStyles.array}\r\n      >\r\n        <div className={fieldArrayStyles.description}>\r\n          These File Inputs are defined in the application and can be included\r\n          with your job.\r\n        </div>\r\n        {optionalInputArrays.map((optionalInputArray) => {\r\n          const alreadyIncluded = inputArrayIncluded(\r\n            optionalInputArray,\r\n            formFileInputArrays\r\n          );\r\n          const onInclude = () => {\r\n            arrayHelpers.push(\r\n              generateFileInputArrayFromAppInput(optionalInputArray)\r\n            );\r\n          };\r\n          return (\r\n            <div\r\n              className={fieldArrayStyles.item}\r\n              key={`optional-input-array-${optionalInputArray.name}`}\r\n            >\r\n              <OptionalInputArray\r\n                inputArray={optionalInputArray}\r\n                onInclude={onInclude}\r\n                included={alreadyIncluded}\r\n              />\r\n            </div>\r\n          );\r\n        })}\r\n      </Collapse>\r\n    ) : null;\r\n  };\r\n\r\nconst FixedInputArray: React.FC<{ inputArray: Apps.AppFileInputArray }> = ({\r\n  inputArray,\r\n}) => {\r\n  return (\r\n    <Collapse title={`${inputArray.name}`} className={styles['optional-input']}>\r\n      <div className={fieldArrayStyles.description}>\r\n        {inputArray.description ?? ''}\r\n      </div>\r\n      <FieldWrapper\r\n        label=\"Source URLs\"\r\n        required={true}\r\n        description=\"Input TAPIS files as pathnames, TAPIS URIs or web URLs\"\r\n      >\r\n        {inputArray.sourceUrls?.map((sourceUrl, index) => (\r\n          <Input\r\n            bsSize=\"sm\"\r\n            defaultValue={sourceUrl}\r\n            disabled={true}\r\n            key={`fixed-input-array-${inputArray.name}-${index}`}\r\n          />\r\n        ))}\r\n      </FieldWrapper>\r\n      <FieldWrapper\r\n        label=\"Target Directory\"\r\n        required={true}\r\n        description=\"File mount path inside of running container\"\r\n      >\r\n        <Input\r\n          bsSize=\"sm\"\r\n          defaultValue={inputArray.targetDir}\r\n          disabled={true}\r\n        />\r\n      </FieldWrapper>\r\n    </Collapse>\r\n  );\r\n};\r\n\r\nconst FixedInputArrays: React.FC = () => {\r\n  const { app } = useJobLauncher();\r\n\r\n  const fixedInputArrays = useMemo(\r\n    () => getFileInputArraysOfMode(app, Apps.FileInputModeEnum.Fixed),\r\n    /* eslint-disable-next-line */\r\n    [app.id, app.version]\r\n  );\r\n\r\n  return (\r\n    <Collapse\r\n      title=\"Fixed File Input Arrays\"\r\n      open={true}\r\n      note={`${fixedInputArrays.length} additional files`}\r\n      className={fieldArrayStyles.array}\r\n    >\r\n      <div className={fieldArrayStyles.description}>\r\n        These File Inputs are defined in the application and will automatically\r\n        be included with your job. They cannot be removed or altered.\r\n      </div>\r\n      {fixedInputArrays.map((fixedInputArray) => (\r\n        <div\r\n          className={fieldArrayStyles.item}\r\n          key={`fixed-input-${fixedInputArray.name}`}\r\n        >\r\n          <FixedInputArray inputArray={fixedInputArray} />\r\n        </div>\r\n      ))}\r\n    </Collapse>\r\n  );\r\n};\r\n\r\nconst JobInputArrays: React.FC<{ arrayHelpers: FieldArrayRenderProps }> = ({\r\n  arrayHelpers,\r\n}) => {\r\n  const { values } = useFormikContext();\r\n  const { app } = useJobLauncher();\r\n  const requiredInputArrays = useMemo(\r\n    () => getFileInputArraysOfMode(app, Apps.FileInputModeEnum.Required),\r\n    /* eslint-disable-next-line */\r\n    [app.id, app.version]\r\n  );\r\n  let requiredText =\r\n    requiredInputArrays.length > 0\r\n      ? `Required (${requiredInputArrays.length})`\r\n      : '';\r\n  const jobInputArrays =\r\n    (values as Partial<Jobs.ReqSubmitJob>)?.fileInputArrays ?? [];\r\n\r\n  return (\r\n    <Collapse\r\n      open={requiredInputArrays.length > 0}\r\n      title=\"File Inputs Arrays\"\r\n      note={`${jobInputArrays.length} items`}\r\n      requiredText={requiredText}\r\n      isCollapsable={requiredInputArrays.length === 0}\r\n      className={fieldArrayStyles.array}\r\n    >\r\n      <div className={fieldArrayStyles.description}>\r\n        These File Input Arrays will be submitted with your job.\r\n      </div>\r\n      {jobInputArrays.map((jobInputArray, index) => (\r\n        <JobInputArrayField\r\n          item={jobInputArray}\r\n          index={index}\r\n          remove={arrayHelpers.remove}\r\n          key={`render-fileInputArrays.${index}`}\r\n        />\r\n      ))}\r\n      <Button onClick={() => arrayHelpers.push({ sourceUrls: [''] })} size=\"sm\">\r\n        + Add File Input Array\r\n      </Button>\r\n    </Collapse>\r\n  );\r\n};\r\n\r\nexport const FileInputArrays: React.FC = () => {\r\n  return (\r\n    <div>\r\n      <h2>File Input Arrays</h2>\r\n      <FieldArray\r\n        name=\"fileInputArrays\"\r\n        render={(arrayHelpers) => {\r\n          return (\r\n            <>\r\n              <JobInputArrays arrayHelpers={arrayHelpers} />\r\n              <OptionalInputArrays arrayHelpers={arrayHelpers} />\r\n              <FixedInputArrays />\r\n            </>\r\n          );\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const FileInputArraysSummary: React.FC = () => {\r\n  const { job, app } = useJobLauncher();\r\n  const jobFileInputArrays = job.fileInputArrays ?? [];\r\n  const appFileInputArrays = app.jobAttributes?.fileInputArrays ?? [];\r\n  const missingRequiredInputArrays = appFileInputArrays.filter(\r\n    (appFileInputArray) =>\r\n      appFileInputArray.inputMode === Apps.FileInputModeEnum.Required &&\r\n      !jobFileInputArrays.some(\r\n        (jobFileInputArray) => jobFileInputArray.name === appFileInputArray.name\r\n      )\r\n  );\r\n  const incompleteJobInputArrays = getIncompleteJobInputArrays(\r\n    appFileInputArrays,\r\n    jobFileInputArrays\r\n  );\r\n  const includedByDefault = getAppInputArraysIncludedByDefault(\r\n    appFileInputArrays,\r\n    jobFileInputArrays\r\n  );\r\n  return (\r\n    <div key=\"file-input-arrays-summary\">\r\n      {jobFileInputArrays.map((jobFileInputArray) => {\r\n        const complete = !incompleteJobInputArrays.some(\r\n          (incompleteInput) => incompleteInput.name === jobFileInputArray.name\r\n        );\r\n\r\n        // If this job file input is complete, display its name or sourceUrl\r\n        const key =\r\n          jobFileInputArray.name ??\r\n          (jobFileInputArray.sourceUrls\r\n            ? `${jobFileInputArray.sourceUrls[0]}...`\r\n            : undefined) ??\r\n          jobFileInputArray.targetDir;\r\n        // If this job file input is incomplete, display its name or sourceUrl\r\n        const error = !complete\r\n          ? `${key ?? 'A file input array'} is missing required information`\r\n          : undefined;\r\n\r\n        return (\r\n          <StepSummaryField\r\n            field={`${key} (${\r\n              jobFileInputArray.sourceUrls?.length ?? '0'\r\n            } files)`}\r\n            error={error}\r\n            key={`file-input-arrays-summary-${key ?? uuidv4()}`}\r\n          />\r\n        );\r\n      })}\r\n      {missingRequiredInputArrays.map((requiredFileInput) => (\r\n        <StepSummaryField\r\n          error={`${requiredFileInput.name} is required`}\r\n          key={`file-inputs-arrays-required-error-${requiredFileInput.name}`}\r\n        />\r\n      ))}\r\n      {includedByDefault.map((defaultInput) => (\r\n        <StepSummaryField\r\n          field={`${defaultInput.name} included by default`}\r\n          key={`file-input-arrays-default-${defaultInput.name}`}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  fileInputArrays: Yup.array().of(\r\n    Yup.object().shape({\r\n      name: Yup.string().min(1).required('A fileInputArray name is required'),\r\n      sourceUrls: Yup.array(\r\n        Yup.string().min(1).required('A sourceUrl is required')\r\n      ).min(1),\r\n      targetDir: Yup.string().min(1).required('A targetDir is required'),\r\n    })\r\n  ),\r\n});\r\n\r\nconst step: JobStep = {\r\n  id: 'fileInputArrays',\r\n  name: 'File Input Arrays',\r\n  render: <FileInputArrays />,\r\n  summary: <FileInputArraysSummary />,\r\n  validationSchema,\r\n  generateInitialValues: ({ job }) => ({\r\n    fileInputArrays: job.fileInputArrays,\r\n  }),\r\n};\r\n\r\nexport default step;\r\n","import React, { useMemo } from 'react';\r\nimport { Apps, Jobs } from '@tapis/tapis-typescript';\r\nimport { Button } from 'reactstrap';\r\nimport { useJobLauncher, StepSummaryField } from '../components';\r\nimport fieldArrayStyles from '../FieldArray.module.scss';\r\nimport { Collapse } from 'tapis-ui/_common';\r\nimport { FieldArray, useField, FieldArrayRenderProps } from 'formik';\r\nimport { FormikInput } from 'tapis-ui/_common';\r\nimport { FormikCheck } from 'tapis-ui/_common/FieldWrapperFormik';\r\nimport { getArgMode } from 'tapis-api/utils/jobArgs';\r\nimport { JobStep } from '..';\r\nimport * as Yup from 'yup';\r\n\r\ntype ArgFieldProps = {\r\n  index: number;\r\n  name: string;\r\n  argType: string;\r\n  arrayHelpers: FieldArrayRenderProps;\r\n  inputMode?: Apps.ArgInputModeEnum;\r\n};\r\n\r\nexport const ArgField: React.FC<ArgFieldProps> = ({\r\n  index,\r\n  name,\r\n  argType,\r\n  arrayHelpers,\r\n  inputMode,\r\n}) => {\r\n  const [field] = useField(`${name}.name`);\r\n  const argName = useMemo(() => field.value, [field]);\r\n  return (\r\n    <Collapse\r\n      key={`${argType}.${index}`}\r\n      title={!!argName && argName.length ? argName : argType}\r\n      className={fieldArrayStyles.item}\r\n    >\r\n      <FormikInput\r\n        name={`${name}.name`}\r\n        required={true}\r\n        label=\"Name\"\r\n        disabled={!!inputMode}\r\n        description={`The name for this ${argType} ${\r\n          !!inputMode\r\n            ? 'is defined in the application and cannot be changed'\r\n            : ''\r\n        }`}\r\n      />\r\n      <FormikInput\r\n        name={`${name}.arg`}\r\n        required={true}\r\n        label=\"Value\"\r\n        disabled={inputMode === Apps.ArgInputModeEnum.Fixed}\r\n        description={`A value for this ${argType}`}\r\n      />\r\n      <FormikInput\r\n        name={`${name}.description`}\r\n        required={false}\r\n        label=\"Description\"\r\n        disabled={inputMode === Apps.ArgInputModeEnum.Fixed}\r\n        description={`A description for this ${argType}`}\r\n      />\r\n      <FormikCheck\r\n        name={`${name}.include`}\r\n        required={false}\r\n        label=\"Include\"\r\n        disabled={\r\n          inputMode === Apps.ArgInputModeEnum.Fixed ||\r\n          inputMode === Apps.ArgInputModeEnum.Required\r\n        }\r\n        description={\r\n          inputMode === Apps.ArgInputModeEnum.Fixed ||\r\n          inputMode === Apps.ArgInputModeEnum.Required\r\n            ? `This ${argType} must be included`\r\n            : `If checked, this ${argType} will be included`\r\n        }\r\n      />\r\n      <Button size=\"sm\" onClick={() => arrayHelpers.remove(index)}>\r\n        Remove\r\n      </Button>\r\n    </Collapse>\r\n  );\r\n};\r\n\r\ntype ArgsFieldArrayProps = {\r\n  argSpecs: Array<Apps.AppArgSpec>;\r\n  name: string;\r\n  argType: string;\r\n};\r\n\r\nexport const ArgsFieldArray: React.FC<ArgsFieldArrayProps> = ({\r\n  argSpecs,\r\n  name,\r\n  argType,\r\n}) => {\r\n  const [field] = useField(name);\r\n  const args = useMemo(\r\n    () => (field.value as Array<Jobs.JobArgSpec>) ?? [],\r\n    [field]\r\n  );\r\n  return (\r\n    <FieldArray\r\n      name={name}\r\n      render={(arrayHelpers) => (\r\n        <div className={fieldArrayStyles.array}>\r\n          <h3>{`${argType}s`}</h3>\r\n          <div className={fieldArrayStyles['array-group']}>\r\n            {args.map((arg, index) => {\r\n              const inputMode = arg.name\r\n                ? getArgMode(arg.name, argSpecs)\r\n                : undefined;\r\n              return (\r\n                <ArgField\r\n                  index={index}\r\n                  arrayHelpers={arrayHelpers}\r\n                  name={`${name}.${index}`}\r\n                  argType={argType}\r\n                  inputMode={inputMode}\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n          <Button\r\n            onClick={() =>\r\n              arrayHelpers.push({\r\n                include: true,\r\n              })\r\n            }\r\n            size=\"sm\"\r\n          >\r\n            + Add\r\n          </Button>\r\n        </div>\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\nexport const argsSchema = Yup.array(\r\n  Yup.object({\r\n    name: Yup.string(),\r\n    description: Yup.string(),\r\n    include: Yup.boolean(),\r\n    arg: Yup.string().min(1).required('The argument cannot be blank'),\r\n  })\r\n);\r\n\r\nexport const Args: React.FC = () => {\r\n  const { app } = useJobLauncher();\r\n\r\n  const appArgSpecs = useMemo(\r\n    () => app.jobAttributes?.parameterSet?.appArgs ?? [],\r\n    [app]\r\n  );\r\n  const containerArgSpecs = useMemo(\r\n    () => app.jobAttributes?.parameterSet?.containerArgs ?? [],\r\n    [app]\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <h2>Arguments</h2>\r\n      <ArgsFieldArray\r\n        name=\"parameterSet.appArgs\"\r\n        argType=\"App Argument\"\r\n        argSpecs={appArgSpecs}\r\n      />\r\n      <ArgsFieldArray\r\n        name=\"parameterSet.containerArgs\"\r\n        argType=\"Container Argument\"\r\n        argSpecs={containerArgSpecs}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const assembleArgSpec = (argSpecs: Array<Jobs.JobArgSpec>) =>\r\n  argSpecs.reduce(\r\n    (previous, current) =>\r\n      `${previous}${current.include ? ` ${current.arg}` : ``}`,\r\n    ''\r\n  );\r\n\r\nexport const ArgsSummary: React.FC = () => {\r\n  const { job } = useJobLauncher();\r\n  const appArgs = job.parameterSet?.appArgs ?? [];\r\n  const containerArgs = job.parameterSet?.containerArgs ?? [];\r\n  return (\r\n    <div>\r\n      <StepSummaryField\r\n        field={`App: ${assembleArgSpec(appArgs)}`}\r\n        key={`app-args-summary`}\r\n      />\r\n      <StepSummaryField\r\n        field={`Container: ${assembleArgSpec(containerArgs)}`}\r\n        key={`container-args-summary`}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  parameterSet: Yup.object({\r\n    appArgs: argsSchema,\r\n    containerArgs: argsSchema,\r\n    scheduleOptions: argsSchema,\r\n  }),\r\n});\r\n\r\nconst step: JobStep = {\r\n  id: 'args',\r\n  name: 'Arguments',\r\n  render: <Args />,\r\n  summary: <ArgsSummary />,\r\n  validationSchema,\r\n  generateInitialValues: ({ job }) => ({\r\n    parameterSet: {\r\n      appArgs: job.parameterSet?.appArgs,\r\n      containerArgs: job.parameterSet?.containerArgs,\r\n      schedulerOptions: job.parameterSet?.schedulerOptions,\r\n    },\r\n  }),\r\n};\r\n\r\nexport default step;\r\n","import React, { useMemo } from 'react';\r\nimport { Jobs } from '@tapis/tapis-typescript';\r\nimport { Button } from 'reactstrap';\r\nimport { useJobLauncher, StepSummaryField } from '../components';\r\nimport fieldArrayStyles from '../FieldArray.module.scss';\r\nimport { Collapse } from 'tapis-ui/_common';\r\nimport {\r\n  FieldArray,\r\n  useFormikContext,\r\n  useField,\r\n  FieldArrayRenderProps,\r\n} from 'formik';\r\nimport { FormikInput } from 'tapis-ui/_common';\r\nimport { JobStep } from '..';\r\nimport * as Yup from 'yup';\r\n\r\ntype EnvVariableFieldProps = {\r\n  index: number;\r\n  arrayHelpers: FieldArrayRenderProps;\r\n};\r\n\r\nconst EnvVariableField: React.FC<EnvVariableFieldProps> = ({\r\n  index,\r\n  arrayHelpers,\r\n}) => {\r\n  const [field] = useField(`parameterSet.envVariables.${index}.key`);\r\n  const key = useMemo(() => field.value, [field]);\r\n  return (\r\n    <Collapse\r\n      key={`envVariables.${index}`}\r\n      title={!!key && key.length ? key : 'Environment Variable'}\r\n      className={fieldArrayStyles.item}\r\n    >\r\n      <FormikInput\r\n        name={`parameterSet.envVariables.${index}.key`}\r\n        required={true}\r\n        label=\"Key\"\r\n        description=\"The key name for this environment variable\"\r\n      />\r\n      <FormikInput\r\n        name={`parameterSet.envVariables.${index}.value`}\r\n        required={true}\r\n        label=\"Value\"\r\n        description=\"A value for this environment variable\"\r\n      />\r\n      <Button size=\"sm\" onClick={() => arrayHelpers.remove(index)}>\r\n        Remove\r\n      </Button>\r\n    </Collapse>\r\n  );\r\n};\r\n\r\nconst EnvVariablesRender: React.FC = () => {\r\n  const { values } = useFormikContext();\r\n  const envVariables =\r\n    (values as Partial<Jobs.ReqSubmitJob>).parameterSet?.envVariables ?? [];\r\n  return (\r\n    <FieldArray\r\n      name={'parameterSet.envVariables'}\r\n      render={(arrayHelpers) => (\r\n        <div>\r\n          <div className={fieldArrayStyles['array-group']}>\r\n            {envVariables.map((envVariable, index) => (\r\n              <EnvVariableField index={index} arrayHelpers={arrayHelpers} />\r\n            ))}\r\n          </div>\r\n          <Button\r\n            onClick={() => arrayHelpers.push({ key: '', value: '' })}\r\n            size=\"sm\"\r\n          >\r\n            + Add\r\n          </Button>\r\n        </div>\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\nexport const EnvVariables: React.FC = () => {\r\n  return (\r\n    <div>\r\n      <h2>Environment Variables</h2>\r\n      <EnvVariablesRender />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const EnvVariablesSummary: React.FC = () => {\r\n  const { job } = useJobLauncher();\r\n  const envVariables = job.parameterSet?.envVariables ?? [];\r\n  return (\r\n    <div>\r\n      {envVariables.map((envVariable) => (\r\n        <StepSummaryField\r\n          field={`${envVariable.key} : ${envVariable.value}`}\r\n          key={`env-variables-summary-${envVariable.key}`}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  parameterSet: Yup.object({\r\n    envVariables: Yup.array(\r\n      Yup.object({\r\n        key: Yup.string()\r\n          .min(1)\r\n          .required('A key name is required for this environment variable'),\r\n        value: Yup.string().required(\r\n          'A value is required for this environment variable'\r\n        ),\r\n      })\r\n    ),\r\n  }),\r\n});\r\n\r\nconst step: JobStep = {\r\n  id: 'envVariables',\r\n  name: 'Environment Variables',\r\n  render: <EnvVariables />,\r\n  summary: <EnvVariablesSummary />,\r\n  validationSchema,\r\n  generateInitialValues: ({ job }) => ({\r\n    parameterSet: {\r\n      envVariables: job.parameterSet?.envVariables,\r\n    },\r\n  }),\r\n};\r\n\r\nexport default step;\r\n","import React, { useCallback, useMemo } from 'react';\r\nimport { Jobs } from '@tapis/tapis-typescript';\r\nimport { Button } from 'reactstrap';\r\nimport { useJobLauncher, StepSummaryField } from '../components';\r\nimport fieldArrayStyles from '../FieldArray.module.scss';\r\nimport { Collapse } from 'tapis-ui/_common';\r\nimport { FieldArray, useField, useFormikContext } from 'formik';\r\nimport { getArgMode } from 'tapis-api/utils/jobArgs';\r\nimport { ArgField, argsSchema, assembleArgSpec } from './AppArgs';\r\nimport { DescriptionList } from 'tapis-ui/_common';\r\nimport * as Yup from 'yup';\r\nimport styles from './SchedulerOptions.module.scss';\r\nimport { JobStep } from '..';\r\n\r\nconst findSchedulerProfile = (values: Partial<Jobs.ReqSubmitJob>) => {\r\n  // Look at current schedulerOptions\r\n  const argSpecs = values.parameterSet?.schedulerOptions ?? [];\r\n  // Find any scheduler option that has --tapis-profile set\r\n  const profile = argSpecs.find((argSpec) =>\r\n    argSpec.arg?.includes('--tapis-profile')\r\n  );\r\n  if (profile) {\r\n    // Return the name of the profile after --tapis-profile\r\n    const args = profile.arg?.split(' ');\r\n    if (args && args.length >= 2) {\r\n      return args[1];\r\n    }\r\n  }\r\n  return undefined;\r\n};\r\n\r\nconst SchedulerProfiles: React.FC = () => {\r\n  const { schedulerProfiles } = useJobLauncher();\r\n  const { values, setValues } = useFormikContext();\r\n  const setSchedulerProfile = useCallback(\r\n    (newProfile: Jobs.JobArgSpec) => {\r\n      const argSpecs =\r\n        (values as Partial<Jobs.ReqSubmitJob>).parameterSet?.schedulerOptions ??\r\n        [];\r\n      setValues({\r\n        parameterSet: {\r\n          schedulerOptions: [\r\n            newProfile,\r\n            ...argSpecs.filter(\r\n              (existing) => !existing.arg?.includes('--tapis-profile')\r\n            ),\r\n          ],\r\n        },\r\n      });\r\n    },\r\n    [values, setValues]\r\n  );\r\n  const currentProfile = useMemo(\r\n    () => findSchedulerProfile(values as Partial<Jobs.ReqSubmitJob>),\r\n    [values]\r\n  );\r\n\r\n  return (\r\n    <div className={fieldArrayStyles.array}>\r\n      <h3>Scheduler Profiles</h3>\r\n      {schedulerProfiles.map(\r\n        ({\r\n          name,\r\n          description,\r\n          moduleLoadCommand,\r\n          hiddenOptions,\r\n          modulesToLoad,\r\n          owner,\r\n          tenant,\r\n        }) => (\r\n          <Collapse\r\n            key={`scheduler-profiles-${name}`}\r\n            className={fieldArrayStyles['array-group']}\r\n            title={`${name} ${name === currentProfile ? '(selected)' : ''}`}\r\n          >\r\n            <div className={styles['scheduler-option']}>\r\n              <div>{description}</div>\r\n              <DescriptionList\r\n                data={{\r\n                  moduleLoadCommand,\r\n                  modulesToLoad,\r\n                  hiddenOptions,\r\n                  owner,\r\n                  tenant,\r\n                }}\r\n                className={styles['scheduler-option-list']}\r\n              />\r\n            </div>\r\n            <Button\r\n              size=\"sm\"\r\n              onClick={() =>\r\n                setSchedulerProfile({\r\n                  name: `${name} Scheduler Profile`,\r\n                  description,\r\n                  include: true,\r\n                  arg: `--tapis-profile ${name}`,\r\n                })\r\n              }\r\n              disabled={name === currentProfile}\r\n            >\r\n              Use This Profile\r\n            </Button>\r\n          </Collapse>\r\n        )\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst SchedulerOptionArray: React.FC = () => {\r\n  const { app } = useJobLauncher();\r\n  const [field] = useField('parameterSet.schedulerOptions');\r\n  const args = useMemo(\r\n    () => (field.value as Array<Jobs.JobArgSpec>) ?? [],\r\n    [field]\r\n  );\r\n\r\n  const schedulerOptionSpecs = useMemo(\r\n    () => app.jobAttributes?.parameterSet?.schedulerOptions ?? [],\r\n    [app]\r\n  );\r\n  return (\r\n    <FieldArray\r\n      name=\"parameterSet.schedulerOptions\"\r\n      render={(arrayHelpers) => (\r\n        <>\r\n          <div className={fieldArrayStyles.array}>\r\n            <h3>{`Scheduler Arguments`}</h3>\r\n            <div className={fieldArrayStyles['array-group']}>\r\n              {args.map((arg, index) => {\r\n                const inputMode = arg.name\r\n                  ? getArgMode(arg.name, schedulerOptionSpecs)\r\n                  : undefined;\r\n                return (\r\n                  <ArgField\r\n                    index={index}\r\n                    arrayHelpers={arrayHelpers}\r\n                    name={`parameterSet.schedulerOptions.${index}`}\r\n                    argType={'scheduler option'}\r\n                    inputMode={inputMode}\r\n                  />\r\n                );\r\n              })}\r\n            </div>\r\n            <Button\r\n              onClick={() =>\r\n                arrayHelpers.push({\r\n                  name: '',\r\n                  description: '',\r\n                  include: true,\r\n                  arg: '',\r\n                })\r\n              }\r\n              size=\"sm\"\r\n            >\r\n              + Add\r\n            </Button>\r\n          </div>\r\n          <SchedulerProfiles />\r\n        </>\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\nexport const SchedulerOptions: React.FC = () => {\r\n  return (\r\n    <div>\r\n      <h2>Scheduler Options</h2>\r\n      <SchedulerOptionArray />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const SchedulerOptionsSummary: React.FC = () => {\r\n  const { job } = useJobLauncher();\r\n  const schedulerOptions = job.parameterSet?.schedulerOptions ?? [];\r\n  return (\r\n    <div>\r\n      <StepSummaryField\r\n        field={`Scheduler Profile: ${\r\n          findSchedulerProfile(job) ?? 'none selected'\r\n        }`}\r\n        key={`scheduler-profile-summary`}\r\n      />\r\n      <StepSummaryField\r\n        field={`Scheduler Args: ${assembleArgSpec(schedulerOptions)}`}\r\n        key={`scheduler-args-summary`}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  parameterSet: Yup.object({\r\n    scheduleOptions: argsSchema,\r\n  }),\r\n});\r\n\r\nconst step: JobStep = {\r\n  id: 'schedulerOptions',\r\n  name: 'Scheduler Options',\r\n  render: <SchedulerOptions />,\r\n  summary: <SchedulerOptionsSummary />,\r\n  validationSchema,\r\n  generateInitialValues: ({ job }) => ({\r\n    parameterSet: {\r\n      schedulerOptions: job.parameterSet?.schedulerOptions,\r\n    },\r\n  }),\r\n};\r\n\r\nexport default step;\r\n","import React, { useMemo } from 'react';\r\nimport { Jobs } from '@tapis/tapis-typescript';\r\nimport FieldWrapper from 'tapis-ui/_common/FieldWrapper';\r\nimport { Input } from 'reactstrap';\r\nimport { Button } from 'reactstrap';\r\nimport { useJobLauncher, StepSummaryField } from '../components';\r\nimport fieldArrayStyles from '../FieldArray.module.scss';\r\nimport { Collapse } from 'tapis-ui/_common';\r\nimport {\r\n  FieldArray,\r\n  useFormikContext,\r\n  Field,\r\n  ErrorMessage,\r\n  FieldProps,\r\n} from 'formik';\r\nimport { InputGroup, InputGroupAddon } from 'reactstrap';\r\nimport {\r\n  FormikCheck,\r\n  FormikTapisFile,\r\n  FormikSelect,\r\n} from 'tapis-ui/_common/FieldWrapperFormik';\r\nimport * as Yup from 'yup';\r\nimport formStyles from 'tapis-ui/_common/FieldWrapperFormik/FieldWrapperFormik.module.css';\r\nimport { JobStep } from '..';\r\n\r\ntype ArrayGroupProps = {\r\n  values: Array<string>;\r\n  name: string;\r\n  label: string;\r\n  description: string;\r\n};\r\n\r\nconst ArrayGroup: React.FC<ArrayGroupProps> = ({\r\n  values,\r\n  name,\r\n  label,\r\n  description,\r\n}) => {\r\n  return (\r\n    <FieldArray\r\n      name={name}\r\n      render={(arrayHelpers) => (\r\n        <Collapse\r\n          open={values.length > 0}\r\n          title={label}\r\n          note={`${values.length} items`}\r\n          isCollapsable={true}\r\n          className={fieldArrayStyles.array}\r\n        >\r\n          <FieldWrapper\r\n            label={label}\r\n            required={false}\r\n            description={description}\r\n          >\r\n            <div className={fieldArrayStyles['array-group']}>\r\n              {values.map((value, index) => (\r\n                <>\r\n                  <Field name={`${name}.${index}`}>\r\n                    {({ field }: FieldProps) => (\r\n                      <InputGroup>\r\n                        <Input {...field} bsSize=\"sm\" />\r\n                        <InputGroupAddon addonType=\"append\">\r\n                          <Button\r\n                            size=\"sm\"\r\n                            onClick={() => arrayHelpers.remove(index)}\r\n                          >\r\n                            Remove\r\n                          </Button>\r\n                        </InputGroupAddon>\r\n                      </InputGroup>\r\n                    )}\r\n                  </Field>\r\n                  <ErrorMessage\r\n                    name={`${name}.${index}`}\r\n                    className=\"form-field__help\"\r\n                  >\r\n                    {(message) => (\r\n                      <div\r\n                        className={`${formStyles['form-field__help']} ${fieldArrayStyles.description}`}\r\n                      >\r\n                        {message}\r\n                      </div>\r\n                    )}\r\n                  </ErrorMessage>\r\n                </>\r\n              ))}\r\n            </div>\r\n            <Button onClick={() => arrayHelpers.push('')} size=\"sm\">\r\n              + Add\r\n            </Button>\r\n          </FieldWrapper>\r\n        </Collapse>\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\nconst ArchiveFilterRender: React.FC = () => {\r\n  const { values } = useFormikContext();\r\n  const includes =\r\n    (values as Partial<Jobs.ReqSubmitJob>).parameterSet?.archiveFilter\r\n      ?.includes ?? [];\r\n  const excludes =\r\n    (values as Partial<Jobs.ReqSubmitJob>).parameterSet?.archiveFilter\r\n      ?.excludes ?? [];\r\n  return (\r\n    <div>\r\n      <h3>Archive Filters</h3>\r\n      <ArrayGroup\r\n        name=\"parameterSet.archiveFilter.includes\"\r\n        label=\"Includes\"\r\n        description=\"File patterns specified here will be included during job archiving\"\r\n        values={includes}\r\n      />\r\n      <ArrayGroup\r\n        name=\"parameterSet.archiveFilter.excludes\"\r\n        label=\"Excludes\"\r\n        description=\"File patterns specified here will be excluded from job archiving\"\r\n        values={excludes}\r\n      />\r\n      <FormikCheck\r\n        name=\"parameterSet.archiveFilter.includeLaunchFiles\"\r\n        label=\"Include Launch Files\"\r\n        description=\"If checked, launch files will be included during job archiving\"\r\n        required={false}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ArchiveOptions: React.FC = () => {\r\n  const { systems } = useJobLauncher();\r\n  const { values } = useFormikContext();\r\n  const archiveSystemId = useMemo(\r\n    () => (values as Partial<Jobs.ReqSubmitJob>).archiveSystemId,\r\n    [values]\r\n  );\r\n  return (\r\n    <>\r\n      <div className={fieldArrayStyles.item}>\r\n        <FormikSelect\r\n          name=\"archiveSystemId\"\r\n          label=\"Archive System ID\"\r\n          description=\"If selected, this system ID will be used for job archiving instead of the execution system default\"\r\n          required={false}\r\n        >\r\n          <option value={undefined}></option>\r\n          {systems.map((system) => (\r\n            <option\r\n              value={system.id}\r\n              key={`archive-system-select-${system.id}`}\r\n            >\r\n              {system.id}\r\n            </option>\r\n          ))}\r\n        </FormikSelect>\r\n        <FormikTapisFile\r\n          allowSystemChange={false}\r\n          systemId={archiveSystemId}\r\n          disabled={!archiveSystemId}\r\n          name=\"archiveSystemDir\"\r\n          label=\"Archive System Directory\"\r\n          description=\"The directory on the selected system in which to place archived files\"\r\n          required={false}\r\n          files={false}\r\n          dirs={true}\r\n        />\r\n        <FormikCheck\r\n          name=\"archiveOnAppError\"\r\n          label=\"Archive On App Error\"\r\n          description=\"If checked, the job will be archived even if there is an execution error\"\r\n          required={false}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport const Archive: React.FC = () => {\r\n  return (\r\n    <div>\r\n      <h2>Archive Options</h2>\r\n      <ArchiveOptions />\r\n      <ArchiveFilterRender />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const ArchiveSummary: React.FC = () => {\r\n  const { job } = useJobLauncher();\r\n  const includes = job.parameterSet?.archiveFilter?.includes ?? [];\r\n  const excludes = job.parameterSet?.archiveFilter?.excludes ?? [];\r\n  const { archiveSystemId, archiveSystemDir, archiveOnAppError } = job;\r\n  return (\r\n    <div>\r\n      <StepSummaryField\r\n        field={`Archive System ID: ${archiveSystemId ?? 'default'}`}\r\n        key={`archive-system-id-summary`}\r\n      />\r\n      <StepSummaryField\r\n        field={`Archive System Directory: ${archiveSystemDir ?? 'default'}`}\r\n        key={`archive-system-dir-summary`}\r\n      />\r\n      <StepSummaryField\r\n        field={`Archive On App Error: ${archiveOnAppError}`}\r\n        key={`archive-on-app-error-summary`}\r\n      />\r\n      <StepSummaryField\r\n        field={`Includes: ${includes.length}`}\r\n        key={`archive-filter-includes-summary`}\r\n      />\r\n      <StepSummaryField\r\n        field={`Excludes: ${excludes.length}`}\r\n        key={`archive-filter-excludes-summary`}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  archiveOnAppError: Yup.boolean(),\r\n  archiveSystemId: Yup.string(),\r\n  archiveSystemDir: Yup.string(),\r\n  parameterSet: Yup.object({\r\n    archiveFilter: Yup.object({\r\n      includes: Yup.array(\r\n        Yup.string()\r\n          .min(1)\r\n          .required('A pattern must be specified for this include')\r\n      ),\r\n      excludes: Yup.array(\r\n        Yup.string()\r\n          .min(1)\r\n          .required('A pattern must be specified for this exclude')\r\n      ),\r\n      includeLaunchFiles: Yup.boolean(),\r\n    }),\r\n  }),\r\n});\r\n\r\nconst step: JobStep = {\r\n  id: 'archiving',\r\n  name: 'Archiving',\r\n  render: <Archive />,\r\n  summary: <ArchiveSummary />,\r\n  validationSchema,\r\n  generateInitialValues: ({ job }) => ({\r\n    archiveOnAppError: job.archiveOnAppError,\r\n    archiveSystemId: job.archiveSystemId,\r\n    archiveSystemDir: job.archiveSystemDir,\r\n    parameterSet: {\r\n      archiveFilter: job.parameterSet?.archiveFilter,\r\n    },\r\n  }),\r\n};\r\n\r\nexport default step;\r\n","import { Jobs } from '@tapis/tapis-typescript';\r\n\r\nexport const jobRequiredFieldsComplete = (job: Partial<Jobs.ReqSubmitJob>) => {\r\n  return !!job.name && !!job.appId && !!job.appVersion;\r\n};\r\n","import { useCallback } from 'react';\r\nimport { useJobLauncher } from '../components';\r\nimport { JSONDisplay } from 'tapis-ui/_common';\r\nimport { fileInputsComplete } from 'tapis-api/utils/jobFileInputs';\r\nimport { fileInputArraysComplete } from 'tapis-api/utils/jobFileInputArrays';\r\nimport { jobRequiredFieldsComplete } from 'tapis-api/utils/jobRequiredFields';\r\nimport {\r\n  validateExecSystem,\r\n  ValidateExecSystemResult,\r\n} from 'tapis-api/utils/jobExecSystem';\r\nimport { StepSummaryField } from '../components';\r\nimport { SubmitWrapper } from 'tapis-ui/_wrappers';\r\nimport { Jobs } from '@tapis/tapis-typescript';\r\nimport { useSubmit } from 'tapis-hooks/jobs';\r\nimport { JobStep } from '..';\r\nimport { Button } from 'reactstrap';\r\nimport arrayStyles from '../FieldArray.module.scss';\r\n\r\nexport const JobSubmit: React.FC = () => {\r\n  const { job, app, systems } = useJobLauncher();\r\n  const isComplete =\r\n    validateExecSystem(job, app, systems) ===\r\n      ValidateExecSystemResult.Complete &&\r\n    jobRequiredFieldsComplete(job) &&\r\n    fileInputsComplete(app, job.fileInputs ?? []) &&\r\n    fileInputArraysComplete(app, job.fileInputArrays ?? []);\r\n\r\n  const { isLoading, error, isSuccess, submit, data } = useSubmit(\r\n    app.id!,\r\n    app.version!\r\n  );\r\n  const onSubmit = useCallback(() => {\r\n    submit(job as Jobs.ReqSubmitJob);\r\n  }, [submit, job]);\r\n  const summary = isComplete\r\n    ? isSuccess\r\n      ? `Successfully submitted job ${data?.result?.uuid ?? ''}`\r\n      : `The job is ready for submission`\r\n    : undefined;\r\n  return (\r\n    <div>\r\n      <h2>Job Submission</h2>\r\n      <div className={arrayStyles.array}>\r\n        <StepSummaryField\r\n          field={summary}\r\n          error=\"All required fields must be completed before the job can be submitted\"\r\n        />\r\n        <SubmitWrapper\r\n          isLoading={isLoading}\r\n          error={error}\r\n          success={isSuccess ? ` ` : ''}\r\n          reverse={true}\r\n        >\r\n          <Button\r\n            color=\"primary\"\r\n            disabled={isLoading || !isComplete || isSuccess}\r\n            onClick={onSubmit}\r\n          >\r\n            Submit Job\r\n          </Button>\r\n        </SubmitWrapper>\r\n      </div>\r\n      <div>\r\n        This is a preview of the json job submission data. You may copy it for\r\n        future reference.\r\n      </div>\r\n      <JSONDisplay json={job} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const JobSubmitSummary: React.FC = () => {\r\n  const { app, job, systems } = useJobLauncher();\r\n  const isComplete =\r\n    validateExecSystem(job, app, systems) &&\r\n    jobRequiredFieldsComplete(job) &&\r\n    fileInputsComplete(app, job.fileInputs ?? []) &&\r\n    fileInputArraysComplete(app, job.fileInputArrays ?? []);\r\n\r\n  return (\r\n    <div>\r\n      <StepSummaryField\r\n        field={isComplete ? 'The job is ready for submission' : undefined}\r\n        error=\"All required fields must be completed before the job can be submitted\"\r\n        key=\"job-submit-summary\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst step: JobStep = {\r\n  id: 'jobSubmit',\r\n  name: 'Job Submission',\r\n  render: <JobSubmit />,\r\n  summary: <JobSubmitSummary />,\r\n  validationSchema: {},\r\n  generateInitialValues: () => ({}),\r\n};\r\n\r\nexport default step;\r\n","import JobStart from './JobStart';\r\nimport ExecOptions from './ExecOptions';\r\nimport FileInputs from './FileInputs';\r\nimport FileInputArrays from './FileInputArrays';\r\nimport AppArgs from './AppArgs';\r\nimport EnvVariables from './EnvVariables';\r\nimport SchedulerOptions from './SchedulerOptions';\r\nimport Archive from './Archive';\r\nimport JobSubmit from './JobSubmit';\r\n\r\nconst jobSteps = [\r\n  JobStart,\r\n  ExecOptions,\r\n  FileInputs,\r\n  FileInputArrays,\r\n  AppArgs,\r\n  EnvVariables,\r\n  SchedulerOptions,\r\n  Archive,\r\n  JobSubmit,\r\n];\r\n\r\nexport default jobSteps;\r\n","import React, { useCallback, useMemo } from 'react';\r\nimport { WizardStep } from 'tapis-ui/_wrappers/Wizard';\r\nimport { QueryWrapper, Wizard } from 'tapis-ui/_wrappers';\r\nimport { Apps, Jobs } from '@tapis/tapis-typescript';\r\nimport { useDetail as useAppDetail } from 'tapis-hooks/apps';\r\nimport generateJobDefaults from 'tapis-api/utils/jobDefaults';\r\nimport {\r\n  useList as useSystemsList,\r\n  useSchedulerProfiles,\r\n} from 'tapis-hooks/systems';\r\nimport { useJobLauncher, JobLauncherProvider } from './components';\r\nimport { JobStep } from '.';\r\nimport jobSteps from './steps';\r\n\r\ntype JobLauncherWizardProps = {\r\n  appId: string;\r\n  appVersion: string;\r\n};\r\n\r\nexport const JobLauncherWizardRender: React.FC<{ jobSteps: Array<JobStep> }> =\r\n  ({ jobSteps }) => {\r\n    const { add, job, app, systems } = useJobLauncher();\r\n\r\n    const formSubmit = useCallback(\r\n      (value: Partial<Jobs.ReqSubmitJob>) => {\r\n        if (value.jobType === Apps.JobTypeEnum.Fork) {\r\n          value.execSystemLogicalQueue = undefined;\r\n        }\r\n        if (value.isMpi) {\r\n          value.cmdPrefix = undefined;\r\n        } else {\r\n          value.mpiCmd = undefined;\r\n        }\r\n        if (value.parameterSet) {\r\n          value.parameterSet = {\r\n            ...job.parameterSet,\r\n            ...value.parameterSet,\r\n          };\r\n        }\r\n        add(value);\r\n      },\r\n      [add, job]\r\n    );\r\n\r\n    // Map Array of JobSteps into an array of WizardSteps\r\n    const steps: Array<WizardStep<Jobs.ReqSubmitJob>> = useMemo(() => {\r\n      return jobSteps.map((jobStep) => {\r\n        const { generateInitialValues, validateThunk, ...stepProps } = jobStep;\r\n        return {\r\n          initialValues: generateInitialValues({ job, app, systems }),\r\n          // generate a validation function from the JobStep's validateThunk, given the current hook values\r\n          validate: validateThunk\r\n            ? validateThunk({ job, app, systems })\r\n            : undefined,\r\n          ...stepProps,\r\n        };\r\n      });\r\n    }, [app, job, systems, jobSteps]);\r\n\r\n    return (\r\n      <Wizard\r\n        steps={steps}\r\n        memo={`${app.id}${app.version}`}\r\n        formSubmit={formSubmit}\r\n      />\r\n    );\r\n  };\r\n\r\nconst JobLauncherWizard: React.FC<JobLauncherWizardProps> = ({\r\n  appId,\r\n  appVersion,\r\n}) => {\r\n  const { data, isLoading, error } = useAppDetail(\r\n    { appId, appVersion },\r\n    { refetchOnWindowFocus: false }\r\n  );\r\n  const {\r\n    data: systemsData,\r\n    isLoading: systemsIsLoading,\r\n    error: systemsError,\r\n  } = useSystemsList(\r\n    { select: 'allAttributes' },\r\n    { refetchOnWindowFocus: false }\r\n  );\r\n  const {\r\n    data: schedulerProfilesData,\r\n    isLoading: schedulerProfilesIsLoading,\r\n    error: schedulerProfilesError,\r\n  } = useSchedulerProfiles({ refetchOnWindowFocus: false });\r\n  const app = data?.result;\r\n  const systems = useMemo(() => systemsData?.result ?? [], [systemsData]);\r\n  const schedulerProfiles = useMemo(\r\n    () => schedulerProfilesData?.result ?? [],\r\n    [schedulerProfilesData]\r\n  );\r\n  const defaultValues = useMemo(\r\n    () => generateJobDefaults({ app, systems }),\r\n    [app, systems]\r\n  );\r\n\r\n  return (\r\n    <QueryWrapper\r\n      isLoading={isLoading || systemsIsLoading || schedulerProfilesIsLoading}\r\n      error={error || systemsError || schedulerProfilesError}\r\n    >\r\n      {app && (\r\n        <JobLauncherProvider\r\n          value={{ app, systems, defaultValues, schedulerProfiles }}\r\n        >\r\n          <JobLauncherWizardRender jobSteps={jobSteps} />\r\n        </JobLauncherProvider>\r\n      )}\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\nexport default JobLauncherWizard;\r\n","import React from 'react';\r\nimport { JobLauncher } from 'tapis-ui/components/jobs';\r\nimport { PageLayout, LayoutHeader } from 'tapis-ui/_common';\r\n\r\nconst Layout: React.FC<{ appId: string; appVersion: string }> = ({\r\n  appId,\r\n  appVersion,\r\n}) => {\r\n  const header = <LayoutHeader type={'sub-header'}>Job Launcher</LayoutHeader>;\r\n\r\n  const body = (\r\n    <div style={{ flex: 1 }}>\r\n      <JobLauncher appId={appId} appVersion={appVersion} />\r\n    </div>\r\n  );\r\n\r\n  return <PageLayout top={header} right={body} />;\r\n};\r\n\r\nexport default React.memo(Layout);\r\n","import React from 'react';\r\nimport {\r\n  Route,\r\n  useRouteMatch,\r\n  RouteComponentProps,\r\n  Switch,\r\n} from 'react-router-dom';\r\nimport JobLauncher from '../JobLauncher';\r\nimport { SectionMessage } from 'tapis-ui/_common';\r\n\r\nconst Router: React.FC = () => {\r\n  const { path } = useRouteMatch();\r\n  return (\r\n    <Switch>\r\n      <Route path={`${path}`} exact>\r\n        <SectionMessage type=\"info\">\r\n          Select an app from the list.\r\n        </SectionMessage>\r\n      </Route>\r\n\r\n      <Route\r\n        path={`${path}/:appId/:appVersion`}\r\n        render={({\r\n          match: {\r\n            params: { appVersion, appId },\r\n          },\r\n        }: RouteComponentProps<{\r\n          appId: string;\r\n          appVersion: string;\r\n        }>) => <JobLauncher appId={appId} appVersion={appVersion} />}\r\n      />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Router;\r\n","import React from 'react';\r\nimport { AppsNav } from '../_components';\r\nimport {\r\n  PageLayout,\r\n  LayoutBody,\r\n  LayoutHeader,\r\n  LayoutNavWrapper,\r\n} from 'tapis-ui/_common';\r\n\r\nimport { Router } from '../_Router';\r\n\r\nconst Layout: React.FC = () => {\r\n  const header = (\r\n    <LayoutHeader>\r\n      <div>Apps</div>\r\n    </LayoutHeader>\r\n  );\r\n\r\n  const sidebar = (\r\n    <LayoutNavWrapper>\r\n      <AppsNav />\r\n    </LayoutNavWrapper>\r\n  );\r\n\r\n  const body = (\r\n    <LayoutBody>\r\n      <Router />\r\n    </LayoutBody>\r\n  );\r\n\r\n  return <PageLayout top={header} left={sidebar} right={body} />;\r\n};\r\n\r\nexport default Layout;\r\n","import Login from './Login';\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport { Button } from 'reactstrap';\r\nimport { useLogin } from 'tapis-hooks/authenticator';\r\nimport { useTapisConfig } from 'tapis-hooks/context';\r\nimport { FormikInput } from 'tapis-ui/_common';\r\nimport { SubmitWrapper } from 'tapis-ui/_wrappers';\r\nimport { Formik, Form } from 'formik';\r\nimport * as Yup from 'yup';\r\n\r\nconst Login: React.FC = () => {\r\n  const { login, isLoading, error } = useLogin();\r\n  const { accessToken } = useTapisConfig();\r\n\r\n  const onSubmit = ({\r\n    username,\r\n    password,\r\n  }: {\r\n    username: string;\r\n    password: string;\r\n  }) => login(username, password);\r\n\r\n  const loginSchema = Yup.object({\r\n    username: Yup.string().required(),\r\n    password: Yup.string().required(),\r\n  });\r\n\r\n  const initialValues = {\r\n    username: '',\r\n    password: '',\r\n  };\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={initialValues}\r\n      validationSchema={loginSchema}\r\n      onSubmit={onSubmit}\r\n    >\r\n      <Form>\r\n        <FormikInput\r\n          name=\"username\"\r\n          label=\"Username\"\r\n          required={true}\r\n          description=\"Your TAPIS username\"\r\n        />\r\n        <FormikInput\r\n          name=\"password\"\r\n          label=\"Password\"\r\n          required={true}\r\n          description=\"Your TAPIS password\"\r\n          type=\"password\"\r\n        />\r\n        <SubmitWrapper\r\n          isLoading={isLoading}\r\n          error={error}\r\n          success={accessToken && 'Successfully logged in'}\r\n        >\r\n          <Button\r\n            type=\"submit\"\r\n            className=\"btn btn-primary\"\r\n            disabled={isLoading || accessToken != null}\r\n          >\r\n            Log In\r\n          </Button>\r\n        </SubmitWrapper>\r\n      </Form>\r\n    </Formik>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\nimport { Location } from 'history';\r\nimport { Login as TapisLogin } from '../_components';\r\nimport { SectionHeader } from 'tapis-ui/_common';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\n\r\nconst Layout: React.FC = () => {\r\n  const { accessToken } = useTapisConfig();\r\n  let location = useLocation<{ from: Location }>();\r\n  let { from } = location.state || { from: { pathname: '/' } };\r\n\r\n  if (accessToken?.access_token) {\r\n    return <Redirect to={from} />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <SectionHeader>Login</SectionHeader>\r\n      <div className=\"container\">\r\n        <TapisLogin />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","import { Streams } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst list = (\r\n  params: Streams.ListProjectsRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Streams.ProjectsApi = apiGenerator<Streams.ProjectsApi>(\r\n    Streams,\r\n    Streams.ProjectsApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Streams.RespListProjects>(() => api.listProjects(params));\r\n};\r\n\r\nexport default list;\r\n","const QueryKeys = {\r\n  list: 'streams/projects/list',\r\n};\r\n\r\nexport default QueryKeys;\r\n","import { useQuery } from 'react-query';\r\nimport { list } from 'tapis-api/streams/projects';\r\nimport { Streams } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nexport const defaultParams: Streams.ListProjectsRequest = {};\r\n\r\nconst useList = (params: Streams.ListProjectsRequest = defaultParams) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n  const result = useQuery<Streams.RespListProjects, Error>(\r\n    [QueryKeys.list, params, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    () => list(params, basePath, accessToken?.access_token || ''),\r\n    {\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n  return result;\r\n};\r\n\r\nexport default useList;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { SectionHeader, LoadingSpinner, Icon } from 'tapis-ui/_common';\r\nimport {\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n  CardTitle,\r\n  CardFooter,\r\n  CardText,\r\n} from 'reactstrap';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport { useList as useSystemsList } from 'tapis-hooks/systems';\r\nimport { useList as useJobsList } from 'tapis-hooks/jobs';\r\nimport { useList as useAppsList } from 'tapis-hooks/apps';\r\nimport { useList as useProjectsList } from 'tapis-hooks/streams/projects';\r\nimport styles from './Dashboard.module.scss';\r\nimport './Dashboard.scss';\r\n\r\ntype DashboardCardProps = {\r\n  icon: string;\r\n  link: string;\r\n  counter: string;\r\n  name: string;\r\n  text: string;\r\n  loading: boolean;\r\n};\r\n\r\nconst DashboardCard: React.FC<DashboardCardProps> = ({\r\n  icon,\r\n  link,\r\n  counter,\r\n  name,\r\n  text,\r\n  loading,\r\n}) => {\r\n  return (\r\n    <Card className={styles.card}>\r\n      <CardHeader>\r\n        <div className={styles['card-header']}>\r\n          <div>\r\n            <Icon name={icon} className=\"dashboard__card-icon\" />\r\n          </div>\r\n          <div>{name}</div>\r\n        </div>\r\n      </CardHeader>\r\n      <CardBody>\r\n        <CardTitle tag=\"h5\">\r\n          {loading ? (\r\n            <LoadingSpinner placement=\"inline\" />\r\n          ) : (\r\n            <div>{counter}</div>\r\n          )}\r\n        </CardTitle>\r\n        <CardText>{text}</CardText>\r\n      </CardBody>\r\n      <CardFooter className={styles['card-footer']}>\r\n        <Link to={link}>Go to {name}</Link>\r\n        <Icon name=\"push-right\" />\r\n      </CardFooter>\r\n    </Card>\r\n  );\r\n};\r\n\r\nconst Dashboard: React.FC = () => {\r\n  const { accessToken, claims } = useTapisConfig();\r\n  const systems = useSystemsList({});\r\n  const jobs = useJobsList({});\r\n  const apps = useAppsList({ select: 'jobAttributes,version' });\r\n  const projects = useProjectsList();\r\n\r\n  return (\r\n    <div>\r\n      <SectionHeader className=\"dashboard__section-header\">\r\n        Dashboard for {claims['tapis/tenant_id']}\r\n      </SectionHeader>\r\n      <div className={styles.cards}>\r\n        {accessToken ? (\r\n          <>\r\n            <DashboardCard\r\n              icon=\"data-files\"\r\n              name=\"Systems\"\r\n              text=\"View TAPIS systems\"\r\n              link=\"/systems\"\r\n              counter={`${systems?.data?.result?.length} systems`}\r\n              loading={systems?.isLoading}\r\n            />\r\n            <DashboardCard\r\n              icon=\"folder\"\r\n              name=\"Files\"\r\n              text=\"Access files available on TAPIS systems\"\r\n              link=\"/files\"\r\n              counter={`Files available on ${systems?.data?.result?.length} systems`}\r\n              loading={systems?.isLoading}\r\n            />\r\n            <DashboardCard\r\n              icon=\"applications\"\r\n              name=\"Applications\"\r\n              text=\"View TAPIS applications and launch jobs\"\r\n              link=\"/apps\"\r\n              counter={`${apps?.data?.result?.length} apps`}\r\n              loading={apps?.isLoading}\r\n            />\r\n            <DashboardCard\r\n              icon=\"jobs\"\r\n              name=\"Jobs\"\r\n              text=\"View status and details for previously launched TAPIS jobs\"\r\n              link=\"/jobs\"\r\n              counter={`${jobs?.data?.result?.length} jobs`}\r\n              loading={jobs?.isLoading}\r\n            />\r\n            <DashboardCard\r\n              icon=\"project\"\r\n              name=\"Streams\"\r\n              text=\"View TAPIS streams projects\"\r\n              link=\"/streams\"\r\n              counter={`${projects?.data?.result?.length || 0} projects`}\r\n              loading={projects?.isLoading}\r\n            />\r\n          </>\r\n        ) : (\r\n          <Card>\r\n            <CardHeader>\r\n              <div className={styles['card-header']}>\r\n                <div>\r\n                  <Icon name=\"user\" className=\"dashboard__card-icon\" />\r\n                </div>\r\n                <div>You are not logged in</div>\r\n              </div>\r\n            </CardHeader>\r\n            <CardBody>\r\n              <CardTitle>Please log in to use TAPIS</CardTitle>\r\n            </CardBody>\r\n            <CardFooter className={styles['card-footer']}>\r\n              <Link to=\"/login\">Proceed to login</Link>\r\n              <Icon name=\"push-right\" />\r\n            </CardFooter>\r\n          </Card>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import JobsNav from './JobsNav';\r\n\r\nexport default JobsNav;\r\n","import React from 'react';\r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport { useList } from 'tapis-hooks/jobs';\r\nimport { Jobs } from '@tapis/tapis-typescript';\r\nimport { Navbar, NavItem } from 'tapis-ui/_wrappers/Navbar';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\n\r\nconst JobsNav: React.FC = () => {\r\n  const { data, isLoading, error } = useList();\r\n  const { url } = useRouteMatch();\r\n  const jobsList: Array<Jobs.JobListDTO> = data?.result ?? [];\r\n\r\n  return (\r\n    <QueryWrapper isLoading={isLoading} error={error}>\r\n      <Navbar>\r\n        {jobsList.length ? (\r\n          jobsList.map((job: Jobs.JobListDTO) => (\r\n            <NavItem to={`${url}/${job.uuid}`} icon=\"jobs\" key={job.uuid}>\r\n              {`${job.name} - (${job.status})`}\r\n            </NavItem>\r\n          ))\r\n        ) : (\r\n          <i>No jobs found</i>\r\n        )}\r\n      </Navbar>\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\nexport default JobsNav;\r\n","import React from 'react';\r\nimport { JobDetail } from 'tapis-ui/components/jobs';\r\nimport { PageLayout, LayoutHeader } from 'tapis-ui/_common';\r\n\r\ninterface JobDetailProps {\r\n  jobUuid: string;\r\n}\r\n\r\nconst Layout: React.FC<JobDetailProps> = ({ jobUuid }) => {\r\n  const header = <LayoutHeader type={'sub-header'}>Job Details</LayoutHeader>;\r\n\r\n  const body = (\r\n    <div style={{ flex: 1 }}>\r\n      <JobDetail jobUuid={jobUuid}></JobDetail>\r\n    </div>\r\n  );\r\n  return <PageLayout top={header} right={body}></PageLayout>;\r\n};\r\n\r\nexport default Layout;\r\n","import React from 'react';\r\nimport {\r\n  Route,\r\n  useRouteMatch,\r\n  RouteComponentProps,\r\n  Switch,\r\n} from 'react-router-dom';\r\nimport JobDetail from '../JobDetail';\r\nimport { SectionMessage } from 'tapis-ui/_common';\r\n\r\nconst Router: React.FC = () => {\r\n  const { path } = useRouteMatch();\r\n\r\n  return (\r\n    <Switch>\r\n      <Route path={`${path}`} exact>\r\n        <SectionMessage type=\"info\">Select a job from the list.</SectionMessage>\r\n      </Route>\r\n\r\n      <Route\r\n        path={`${path}/:jobUuid`}\r\n        render={({\r\n          match: {\r\n            params: { jobUuid },\r\n          },\r\n        }: RouteComponentProps<{ jobUuid: string }>) => (\r\n          <JobDetail jobUuid={jobUuid} />\r\n        )}\r\n      />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Router;\r\n","import React from 'react';\r\nimport { JobsNav } from '../_components';\r\nimport { Router } from '../_Router';\r\nimport {\r\n  PageLayout,\r\n  LayoutBody,\r\n  LayoutHeader,\r\n  LayoutNavWrapper,\r\n} from 'tapis-ui/_common';\r\n\r\nconst Layout: React.FC = () => {\r\n  const header = (\r\n    <LayoutHeader>\r\n      <div>Jobs</div>\r\n    </LayoutHeader>\r\n  );\r\n\r\n  const sidebar = (\r\n    <LayoutNavWrapper>\r\n      <JobsNav />\r\n    </LayoutNavWrapper>\r\n  );\r\n\r\n  const body = (\r\n    <LayoutBody>\r\n      <Router />\r\n    </LayoutBody>\r\n  );\r\n\r\n  return <PageLayout top={header} left={sidebar} right={body} />;\r\n};\r\n\r\nexport default Layout;\r\n","import SystemsNav from './SystemsNav';\r\n\r\nexport default SystemsNav;\r\n","import React from 'react';\r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport { useList } from 'tapis-hooks/systems';\r\nimport { Systems } from '@tapis/tapis-typescript';\r\nimport { Navbar, NavItem } from 'tapis-ui/_wrappers/Navbar';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\n\r\nconst SystemsNav: React.FC = () => {\r\n  const { url } = useRouteMatch();\r\n  // Get a systems listing with default request params\r\n  const { data, isLoading, error } = useList();\r\n  const definitions: Array<Systems.TapisSystem> = data?.result ?? [];\r\n\r\n  return (\r\n    <QueryWrapper isLoading={isLoading} error={error}>\r\n      <Navbar>\r\n        {definitions.length ? (\r\n          definitions.map((system) => (\r\n            <NavItem\r\n              to={`${url}/${system.id}`}\r\n              icon=\"data-files\"\r\n              key={system.id}\r\n            >\r\n              {`${system.id} (${system.host})`}\r\n            </NavItem>\r\n          ))\r\n        ) : (\r\n          <i>No systems found</i>\r\n        )}\r\n      </Navbar>\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\nexport default SystemsNav;\r\n","import { SystemDetail } from 'tapis-ui/components/systems';\r\nimport { PageLayout, LayoutHeader } from 'tapis-ui/_common';\r\n\r\nconst Layout: React.FC<{ systemId: string }> = ({ systemId }) => {\r\n  const header = (\r\n    <LayoutHeader type={'sub-header'}>System Details</LayoutHeader>\r\n  );\r\n\r\n  const body = (\r\n    <div style={{ flex: 1 }}>\r\n      <SystemDetail systemId={systemId}></SystemDetail>\r\n    </div>\r\n  );\r\n\r\n  return <PageLayout top={header} right={body}></PageLayout>;\r\n};\r\n\r\nexport default Layout;\r\n","import React from 'react';\r\nimport {\r\n  Route,\r\n  useRouteMatch,\r\n  RouteComponentProps,\r\n  Switch,\r\n} from 'react-router-dom';\r\nimport SystemDetail from '../SystemDetail';\r\nimport { SectionMessage } from 'tapis-ui/_common';\r\n\r\nconst Router: React.FC = () => {\r\n  const { path } = useRouteMatch();\r\n\r\n  return (\r\n    <Switch>\r\n      <Route path={`${path}`} exact>\r\n        <SectionMessage type=\"info\">\r\n          Select a system from the list.\r\n        </SectionMessage>\r\n      </Route>\r\n\r\n      <Route\r\n        path={`${path}/:systemId`}\r\n        render={({\r\n          match: {\r\n            params: { systemId },\r\n          },\r\n        }: RouteComponentProps<{ systemId: string }>) => (\r\n          <SystemDetail systemId={systemId} />\r\n        )}\r\n      />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Router;\r\n","import React from 'react';\r\nimport {\r\n  PageLayout,\r\n  LayoutBody,\r\n  LayoutHeader,\r\n  LayoutNavWrapper,\r\n} from 'tapis-ui/_common';\r\nimport { SystemsNav } from '../_components';\r\nimport { Router } from '../_Router';\r\n\r\nconst Layout: React.FC = () => {\r\n  const header = (\r\n    <LayoutHeader>\r\n      <div>System List</div>\r\n    </LayoutHeader>\r\n  );\r\n\r\n  const sidebar = (\r\n    <LayoutNavWrapper>\r\n      <SystemsNav />\r\n    </LayoutNavWrapper>\r\n  );\r\n\r\n  const body = (\r\n    <LayoutBody>\r\n      <Router />\r\n    </LayoutBody>\r\n  );\r\n\r\n  return <PageLayout top={header} left={sidebar} right={body} />;\r\n};\r\n\r\nexport default Layout;\r\n","import SystemsNav from './SystemsNav';\r\n\r\nexport default SystemsNav;\r\n","import React from 'react';\r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport { useList } from 'tapis-hooks/systems';\r\nimport { Systems } from '@tapis/tapis-typescript';\r\nimport { Navbar, NavItem } from 'tapis-ui/_wrappers/Navbar';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\n\r\nconst SystemsNav: React.FC = () => {\r\n  const { url } = useRouteMatch();\r\n  // Get a systems listing with default request params\r\n  const { data, isLoading, error } = useList();\r\n  const definitions: Array<Systems.TapisSystem> = data?.result ?? [];\r\n\r\n  return (\r\n    <QueryWrapper isLoading={isLoading} error={error}>\r\n      <Navbar>\r\n        {definitions.length ? (\r\n          definitions.map((system) => (\r\n            <NavItem to={`${url}/${system.id}/`} icon=\"folder\" key={system.id}>\r\n              {`${system.id}`}\r\n            </NavItem>\r\n          ))\r\n        ) : (\r\n          <i>No systems found</i>\r\n        )}\r\n      </Navbar>\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\nexport default SystemsNav;\r\n","import React from 'react';\r\nimport { FilesContextType } from '.';\r\n\r\nexport const filesContext: FilesContextType = {\r\n  selectedFiles: [],\r\n  setSelectedFiles: () => {},\r\n};\r\n\r\nconst FilesContext: React.Context<FilesContextType> =\r\n  React.createContext<FilesContextType>(filesContext);\r\n\r\nexport default FilesContext;\r\n","import React, { useState } from 'react';\r\nimport { Files } from '@tapis/tapis-typescript';\r\nimport { FilesContextType } from '.';\r\nimport FilesContext from './FilesContext';\r\n\r\nconst FilesProvider: React.FC<React.PropsWithChildren<{}>> = ({ children }) => {\r\n  const [selectedFiles, setSelectedFiles] = useState<Array<Files.FileInfo>>([]);\r\n\r\n  // Provide a context state for the rest of the application, including\r\n  // a way of modifying the state\r\n  const contextValue: FilesContextType = {\r\n    selectedFiles,\r\n    setSelectedFiles,\r\n  };\r\n\r\n  return (\r\n    <FilesContext.Provider value={contextValue}>\r\n      {children}\r\n    </FilesContext.Provider>\r\n  );\r\n};\r\n\r\nexport default FilesProvider;\r\n","import { useContext } from 'react';\r\nimport { useCallback } from 'react';\r\nimport FilesContext from './FilesContext';\r\nimport { Files } from '@tapis/tapis-typescript';\r\n\r\nconst useFilesSelect = () => {\r\n  const { selectedFiles, setSelectedFiles } = useContext(FilesContext);\r\n\r\n  const select = useCallback(\r\n    (files: Array<Files.FileInfo>, mode: 'single' | 'multi') => {\r\n      if (mode === 'single' && files.length === 1) {\r\n        setSelectedFiles(files);\r\n      }\r\n\r\n      if (mode === 'multi') {\r\n        const selectedSet = new Set(selectedFiles.map((file) => file.path));\r\n        const newSelection = [\r\n          ...selectedFiles,\r\n          ...files.filter((file) => !selectedSet.has(file.path)),\r\n        ];\r\n        setSelectedFiles(newSelection);\r\n      }\r\n    },\r\n    [selectedFiles, setSelectedFiles]\r\n  );\r\n\r\n  const unselect = useCallback(\r\n    (files: Array<Files.FileInfo>) => {\r\n      const selectedSet = new Set(\r\n        selectedFiles.map((selected) => selected.path)\r\n      );\r\n      files.forEach((file) => selectedSet.delete(file.path ?? ''));\r\n      const newSelection = selectedFiles.filter((selected) =>\r\n        selectedSet.has(selected.path)\r\n      );\r\n      setSelectedFiles(newSelection);\r\n    },\r\n    [selectedFiles, setSelectedFiles]\r\n  );\r\n\r\n  const clear = useCallback(() => {\r\n    setSelectedFiles([]);\r\n  }, [setSelectedFiles]);\r\n\r\n  return {\r\n    selectedFiles,\r\n    select,\r\n    unselect,\r\n    clear,\r\n  };\r\n};\r\n\r\nexport default useFilesSelect;\r\n","import React, { useEffect } from 'react';\r\nimport { FileListing } from 'tapis-ui/components/files';\r\nimport { PageLayout } from 'tapis-ui/_common';\r\nimport { useFilesSelect } from 'tapis-app/Files/_components/FilesContext';\r\nimport styles from './Layout.module.scss';\r\n\r\ntype LayoutProps = {\r\n  systemId: string;\r\n  path: string;\r\n  location: string;\r\n};\r\n\r\nconst Layout: React.FC<LayoutProps> = ({ systemId, path, location }) => {\r\n  const { selectedFiles, select, unselect, clear } = useFilesSelect();\r\n  useEffect(() => {\r\n    clear();\r\n  }, [systemId, path, clear]);\r\n\r\n  const body = (\r\n    <div className={styles.body}>\r\n      <FileListing\r\n        className={styles.container}\r\n        systemId={systemId}\r\n        path={path}\r\n        location={location}\r\n        selectMode={{ mode: 'multi', types: ['dir', 'file'] }}\r\n        selectedFiles={selectedFiles}\r\n        onSelect={(files) => select(files, 'multi')}\r\n        onUnselect={unselect}\r\n      ></FileListing>\r\n    </div>\r\n  );\r\n\r\n  return <PageLayout right={body} constrain></PageLayout>;\r\n};\r\n\r\nexport default Layout;\r\n","import React from 'react';\r\nimport {\r\n  Route,\r\n  useRouteMatch,\r\n  RouteComponentProps,\r\n  Switch,\r\n  useLocation,\r\n} from 'react-router-dom';\r\nimport FileListing from '../FileListing';\r\nimport { SectionMessage } from 'tapis-ui/_common';\r\n\r\nexport const backLocation = (\r\n  systemPath: string | undefined,\r\n  pathname: string\r\n) =>\r\n  systemPath ? `${pathname.split('/').slice(0, -2).join('/')}/` : undefined;\r\n\r\nconst Router: React.FC = () => {\r\n  const { path } = useRouteMatch();\r\n  const { pathname } = useLocation();\r\n\r\n  return (\r\n    <Switch>\r\n      <Route path={`${path}`} exact>\r\n        <SectionMessage type=\"info\">\r\n          Select a system from the list.\r\n        </SectionMessage>\r\n      </Route>\r\n\r\n      <Route\r\n        path={`${path}/:systemId/:systemPath*`}\r\n        render={({\r\n          match: {\r\n            params: { systemId, systemPath },\r\n          },\r\n        }: RouteComponentProps<{ systemId: string; systemPath?: string }>) => {\r\n          return (\r\n            <FileListing\r\n              systemId={systemId}\r\n              path={systemPath ?? '/'}\r\n              location={pathname}\r\n            />\r\n          );\r\n        }}\r\n      />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Router;\r\n","import CreateDirModal from './CreateDirModal';\r\n\r\nexport default CreateDirModal;\r\n","import { useCallback } from 'react';\r\nimport { Button } from 'reactstrap';\r\nimport { GenericModal } from 'tapis-ui/_common';\r\nimport { SubmitWrapper } from 'tapis-ui/_wrappers';\r\nimport { ToolbarModalProps } from '../Toolbar';\r\nimport { Form, Formik } from 'formik';\r\nimport { FormikInput } from 'tapis-ui/_common';\r\nimport { useMkdir } from 'tapis-hooks/files';\r\nimport { focusManager } from 'react-query';\r\nimport { useEffect } from 'react';\r\nimport * as Yup from 'yup';\r\n\r\nconst CreateDirModal: React.FC<ToolbarModalProps> = ({\r\n  toggle,\r\n  systemId,\r\n  path,\r\n}) => {\r\n  const onSuccess = useCallback(() => {\r\n    // Calling the focus manager triggers react-query's\r\n    // automatic refetch on window focus\r\n    focusManager.setFocused(true);\r\n  }, []);\r\n\r\n  const { mkdir, isLoading, error, isSuccess, reset } = useMkdir();\r\n\r\n  useEffect(() => {\r\n    reset();\r\n  }, [reset]);\r\n\r\n  const validationSchema = Yup.object({\r\n    dirname: Yup.string()\r\n      .min(1)\r\n      .max(255, 'Directory name cannot be longer than 255 characters')\r\n      .matches(\r\n        /^[a-zA-Z0-9_.-]+$/,\r\n        \"Must contain only alphanumeric characters and the following: '.', '_', '-'\"\r\n      )\r\n      .required('Directory name is a required field'),\r\n  });\r\n\r\n  const initialValues = {\r\n    dirname: '',\r\n  };\r\n\r\n  const onSubmit = ({ dirname }: { dirname: string }) =>\r\n    mkdir(systemId ?? '', `${path ?? '/'}${dirname}`, { onSuccess });\r\n\r\n  return (\r\n    <GenericModal\r\n      toggle={toggle}\r\n      title=\"Create Directory\"\r\n      body={\r\n        <div>\r\n          <Formik\r\n            initialValues={initialValues}\r\n            validationSchema={validationSchema}\r\n            onSubmit={onSubmit}\r\n          >\r\n            <Form id=\"newdirectory-form\">\r\n              <FormikInput\r\n                name=\"dirname\"\r\n                label=\"Directory name\"\r\n                required={true}\r\n                description={`Creates a directory in ${systemId}/${path}`}\r\n                aria-label=\"Input\"\r\n              />\r\n            </Form>\r\n          </Formik>\r\n        </div>\r\n      }\r\n      footer={\r\n        <SubmitWrapper\r\n          isLoading={isLoading}\r\n          error={error}\r\n          success={isSuccess ? `Successfully created directory` : ''}\r\n          reverse={true}\r\n        >\r\n          <Button\r\n            form=\"newdirectory-form\"\r\n            color=\"primary\"\r\n            disabled={isLoading || isSuccess}\r\n            aria-label=\"Submit\"\r\n            type=\"submit\"\r\n          >\r\n            Create directory\r\n          </Button>\r\n        </SubmitWrapper>\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default CreateDirModal;\r\n","import { MutateOptions } from 'react-query';\r\nimport { useState } from 'react';\r\nimport { from, of } from 'rxjs';\r\nimport { concatMap } from 'rxjs/operators';\r\n\r\nexport type MutationFunction<T, ResponseType> = (\r\n  item: T,\r\n  options?: MutateOptions<ResponseType, Error, T>\r\n) => Promise<ResponseType>;\r\n\r\ntype UseMutationsParams<T, ResponseType> = {\r\n  fn: MutationFunction<T, ResponseType>;\r\n  onStart?: (item: T) => void;\r\n  onSuccess?: (item: T, response: ResponseType) => void;\r\n  onError?: (item: T, error: Error) => void;\r\n  onComplete?: () => void;\r\n};\r\n\r\nconst useMutations = <T extends unknown, ResponseType extends unknown>(\r\n  params: UseMutationsParams<T, ResponseType>\r\n) => {\r\n  const { fn, onSuccess, onError, onComplete, onStart } = params;\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isFinished, setIsFinished] = useState(false);\r\n\r\n  const run = (items: Array<T>) => {\r\n    setIsLoading(true);\r\n    from(items)\r\n      .pipe(\r\n        concatMap((item) => {\r\n          onStart && onStart(item);\r\n          return of(item);\r\n        }),\r\n        concatMap((item) =>\r\n          fn(item)\r\n            .then((data) => {\r\n              onSuccess && onSuccess(item, data);\r\n            })\r\n            .catch((error) => {\r\n              onError && onError(item, error);\r\n            })\r\n        )\r\n      )\r\n      .subscribe(\r\n        () => {},\r\n        () => {},\r\n        () => {\r\n          setIsLoading(false);\r\n          setIsFinished(true);\r\n          onComplete && onComplete();\r\n        }\r\n      );\r\n  };\r\n\r\n  return {\r\n    isLoading,\r\n    isFinished,\r\n    run,\r\n  };\r\n};\r\n\r\nexport default useMutations;\r\n","import { useMutations } from 'tapis-hooks/utils';\r\nimport { useReducer, useState } from 'react';\r\nimport { MutationFunction } from 'tapis-hooks/utils/useMutations';\r\nimport { FileOpEventStatusEnum, FileOpState } from '.';\r\n\r\ntype UseFileOperationsParams<T, ResponseType> = {\r\n  fn: MutationFunction<T, ResponseType>;\r\n  key?: (item: T) => string;\r\n  onComplete?: () => void;\r\n};\r\n\r\ninterface FileParamType {\r\n  path?: string;\r\n}\r\n\r\nconst useFileOperations = <\r\n  T extends FileParamType,\r\n  ResponseType extends unknown\r\n>({\r\n  // Mutation function to run\r\n  fn,\r\n  // Optional identifier function for the state dictionary\r\n  key = (item: T) => item.path!,\r\n  onComplete,\r\n}: UseFileOperationsParams<T, ResponseType>) => {\r\n  const [started, setStarted] = useState(false);\r\n\r\n  const reducer = (\r\n    state: FileOpState,\r\n    action: { item: T; status: FileOpEventStatusEnum; error?: Error }\r\n  ) => {\r\n    const { item, status, error } = action;\r\n    return {\r\n      ...state,\r\n      [key(item)]: { status, error },\r\n    };\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(reducer, {} as FileOpState);\r\n\r\n  const onStart = (item: T) =>\r\n    dispatch({\r\n      item,\r\n      status: FileOpEventStatusEnum.loading,\r\n    });\r\n  const onSuccess = (item: T) =>\r\n    dispatch({\r\n      item,\r\n      status: FileOpEventStatusEnum.success,\r\n    });\r\n  const onError = (item: T, error: Error) =>\r\n    dispatch({\r\n      item,\r\n      status: FileOpEventStatusEnum.error,\r\n      error,\r\n    });\r\n\r\n  const { run, isLoading, isFinished } = useMutations<T, ResponseType>({\r\n    fn,\r\n    onStart,\r\n    onSuccess,\r\n    onError,\r\n    onComplete,\r\n  });\r\n\r\n  const errorEntry = Object.entries(state).find(([_, state]) => state.error);\r\n  const error = errorEntry ? errorEntry[1].error! : null;\r\n  const isSuccess = !isLoading && !error && started;\r\n\r\n  return {\r\n    run: (items: T[]) => {\r\n      setStarted(true);\r\n      return run(items);\r\n    },\r\n    isLoading,\r\n    isFinished,\r\n    isSuccess,\r\n    error,\r\n    state,\r\n  };\r\n};\r\n\r\nexport default useFileOperations;\r\n","import { useEffect, useState, useCallback, useReducer } from 'react';\r\nimport { Button } from 'reactstrap';\r\nimport { GenericModal } from 'tapis-ui/_common';\r\nimport { SubmitWrapper } from 'tapis-ui/_wrappers';\r\nimport { ToolbarModalProps } from '../Toolbar';\r\nimport { useUpload } from 'tapis-hooks/files';\r\nimport { focusManager } from 'react-query';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport styles from './UploadModal.module.scss';\r\nimport { FileListingTable } from 'tapis-ui/components/files/FileListing';\r\nimport { Files } from '@tapis/tapis-typescript';\r\nimport { Column } from 'react-table';\r\nimport sizeFormat from 'utils/sizeFormat';\r\nimport { useFileOperations } from '../_hooks';\r\nimport { InsertHookParams } from 'tapis-hooks/files/useUpload';\r\nimport Progress from 'tapis-ui/_common/Progress';\r\nimport { FileOpEventStatusEnum } from '../_hooks/useFileOperations';\r\nimport { FileOperationStatus } from '../_components';\r\n\r\nexport enum FileOpEventStatus {\r\n  loading = 'loading',\r\n  progress = 'progress',\r\n  error = 'error',\r\n  success = 'success',\r\n  none = 'none',\r\n}\r\n\r\nexport type FileProgressState = {\r\n  [name: string]: number;\r\n};\r\n\r\ntype UploadModalProps = ToolbarModalProps & {\r\n  maxFileSizeBytes?: number;\r\n};\r\n\r\nconst UploadModal: React.FC<UploadModalProps> = ({\r\n  toggle,\r\n  path,\r\n  systemId,\r\n  maxFileSizeBytes = 524288000,\r\n}) => {\r\n  const [files, setFiles] = useState<Array<File>>([]);\r\n\r\n  const reducer = (\r\n    state: FileProgressState,\r\n    action: { name: string; progress: number }\r\n  ) => {\r\n    const { name, progress } = action;\r\n    return {\r\n      ...state,\r\n      [name]: progress,\r\n    };\r\n  };\r\n\r\n  const [fileProgressState, dispatch] = useReducer(\r\n    reducer,\r\n    {} as FileProgressState\r\n  );\r\n\r\n  const onProgress = (uploadProgress: number, file: File) => {\r\n    dispatch({\r\n      name: file.name,\r\n      progress: uploadProgress,\r\n    });\r\n  };\r\n\r\n  const onDrop = useCallback(\r\n    (selectedFiles: Array<File>) => {\r\n      // Create an array of files unique File objects. This prevents\r\n      // a user from trying to upload 2 or more of the same file.\r\n      const uniqueFiles = selectedFiles.filter(\r\n        (selectedFile) =>\r\n          // The some function contains the selection logic for\r\n          // the filter function. All files that have the same name\r\n          // as any file in the uniqueFiles array or exceeds the max\r\n          // file size will not be added to the final array.\r\n          !files.some(\r\n            (existingFile) =>\r\n              existingFile.name === selectedFile.name ||\r\n              selectedFile.size > maxFileSizeBytes\r\n          )\r\n      );\r\n\r\n      setFiles([...files, ...uniqueFiles]);\r\n    },\r\n    [files, setFiles, maxFileSizeBytes]\r\n  );\r\n\r\n  const { getRootProps, getInputProps } = useDropzone({\r\n    onDrop,\r\n  });\r\n\r\n  const removeFile = useCallback(\r\n    (file: Files.FileInfo) => {\r\n      setFiles([...files.filter((checkFile) => file.name !== checkFile.name)]);\r\n    },\r\n    [files, setFiles]\r\n  );\r\n\r\n  const { uploadAsync, reset } = useUpload();\r\n\r\n  const key = (params: InsertHookParams) => params.file.name;\r\n  const onComplete = useCallback(() => {\r\n    focusManager.setFocused(true);\r\n  }, []);\r\n\r\n  const { state, run, isLoading, isSuccess, error } = useFileOperations<\r\n    InsertHookParams,\r\n    Files.FileStringResponse\r\n  >({\r\n    fn: uploadAsync,\r\n    key,\r\n    onComplete,\r\n  });\r\n\r\n  useEffect(() => {\r\n    reset();\r\n  }, [reset, path]);\r\n\r\n  const onSubmit = useCallback(() => {\r\n    const operations: Array<InsertHookParams> = files.map((file) => ({\r\n      systemId: systemId!,\r\n      path: path!,\r\n      file,\r\n      progressCallback: onProgress,\r\n    }));\r\n    run(operations);\r\n  }, [files, run, systemId, path]);\r\n\r\n  const filesToFileInfo = (filesArr: Array<File>): Array<Files.FileInfo> => {\r\n    return filesArr.map((file) => {\r\n      return { name: file.name, size: file.size, type: 'file' };\r\n    });\r\n  };\r\n\r\n  const statusColumn: Array<Column> = [\r\n    {\r\n      Header: '',\r\n      id: 'deleteStatus',\r\n      Cell: (el) => {\r\n        const file = el.row.original as Files.FileInfo;\r\n        const status = state[file.name!]?.status;\r\n        if (!status) {\r\n          return (\r\n            <span\r\n              className={styles['remove-file']}\r\n              onClick={() => {\r\n                removeFile(filesToFileInfo(files)[el.row.index]);\r\n              }}\r\n            >\r\n              &#x2715;\r\n            </span>\r\n          );\r\n        }\r\n        if (\r\n          status === FileOpEventStatusEnum.loading &&\r\n          fileProgressState[file.name!] !== undefined\r\n        ) {\r\n          return (\r\n            <div className={styles['progress-bar-container']}>\r\n              <Progress value={fileProgressState[file.name!]} />\r\n            </div>\r\n          );\r\n        }\r\n        return <FileOperationStatus status={status} />;\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <GenericModal\r\n      toggle={toggle}\r\n      title={`Upload files`}\r\n      body={\r\n        <div>\r\n          {!(isLoading || isSuccess) && (\r\n            <div\r\n              aria-label=\"Dropzone\"\r\n              className={styles['file-dropzone']}\r\n              {...getRootProps()}\r\n            >\r\n              <input aria-label=\"File Input\" {...getInputProps()} />\r\n              <Button aria-label=\"File Select\">Select files</Button>\r\n              <div>\r\n                <p>or drag and drop</p>\r\n                <b>Max file size: {sizeFormat(maxFileSizeBytes)}</b>\r\n              </div>\r\n            </div>\r\n          )}\r\n          <h3 className={styles['files-list-header']}>\r\n            Uploading to {systemId}/{path}\r\n          </h3>\r\n          {error && <p className={styles['upload-error']}>{error.message}</p>}\r\n          <div className={styles['files-list-container']}>\r\n            <FileListingTable\r\n              files={filesToFileInfo(files)}\r\n              fields={['size']}\r\n              appendColumns={statusColumn}\r\n              className={styles['file-list-table']}\r\n            />\r\n          </div>\r\n        </div>\r\n      }\r\n      footer={\r\n        <SubmitWrapper\r\n          isLoading={isLoading}\r\n          error={error}\r\n          success={isSuccess ? `Successfully uploaded files` : ''}\r\n          reverse={true}\r\n        >\r\n          <Button\r\n            color=\"primary\"\r\n            disabled={isLoading || isSuccess || !!error || files.length === 0}\r\n            aria-label=\"Submit\"\r\n            onClick={onSubmit}\r\n          >\r\n            Upload ({files.length})\r\n          </Button>\r\n        </SubmitWrapper>\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default UploadModal;\r\n","import FileOperationStatus from './FileOperationStatus';\r\n\r\nexport default FileOperationStatus;\r\n","import React from 'react';\r\nimport { FileOpEventStatusEnum } from '../../_hooks/useFileOperations';\r\nimport { LoadingSpinner, Icon } from 'tapis-ui/_common';\r\n\r\nconst FileOperationStatus: React.FC<{ status: FileOpEventStatusEnum }> = ({\r\n  status,\r\n}) => {\r\n  switch (status) {\r\n    case FileOpEventStatusEnum.loading:\r\n      return <LoadingSpinner placement=\"inline\" />;\r\n    case FileOpEventStatusEnum.success:\r\n      return <Icon name=\"approved-reverse\" className=\"success\" />;\r\n    case FileOpEventStatusEnum.error:\r\n      return <Icon name=\"alert\" />;\r\n  }\r\n  return <div>Unknown status!</div>;\r\n};\r\n\r\nexport default FileOperationStatus;\r\n","import MoveCopyModal from './MoveCopyModal';\r\n\r\nexport default MoveCopyModal;\r\n","import { useCallback, useState } from 'react';\r\nimport { Button } from 'reactstrap';\r\nimport { GenericModal, Breadcrumbs } from 'tapis-ui/_common';\r\nimport { SubmitWrapper } from 'tapis-ui/_wrappers';\r\nimport breadcrumbsFromPathname from 'tapis-ui/_common/Breadcrumbs/breadcrumbsFromPathname';\r\nimport { FileListingTable } from 'tapis-ui/components/files/FileListing/FileListing';\r\nimport { FileOperationStatus } from '../_components';\r\nimport { FileExplorer } from 'tapis-ui/components/files';\r\nimport { ToolbarModalProps } from '../Toolbar';\r\nimport { useLocation } from 'react-router';\r\nimport { focusManager } from 'react-query';\r\nimport { useCopy, useMove } from 'tapis-hooks/files';\r\nimport { MoveCopyHookParams } from 'tapis-hooks/files';\r\nimport { Files } from '@tapis/tapis-typescript';\r\nimport { Column } from 'react-table';\r\nimport styles from './MoveCopyModal.module.scss';\r\nimport { useFilesSelect } from '../../FilesContext';\r\nimport { useFileOperations } from '../_hooks';\r\n\r\ntype MoveCopyModalProps = {\r\n  operation: Files.MoveCopyRequestOperationEnum;\r\n} & ToolbarModalProps;\r\n\r\nconst MoveCopyModal: React.FC<MoveCopyModalProps> = ({\r\n  toggle,\r\n  systemId = '',\r\n  path = '/',\r\n  operation,\r\n}) => {\r\n  const { pathname } = useLocation();\r\n  const [destinationPath, setDestinationPath] = useState<string | null>(path);\r\n  const { selectedFiles, unselect } = useFilesSelect();\r\n\r\n  const opFormatted = operation.charAt(0) + operation.toLowerCase().slice(1);\r\n\r\n  const { copyAsync } = useCopy();\r\n  const { moveAsync } = useMove();\r\n  const fn =\r\n    operation === Files.MoveCopyRequestOperationEnum.Copy\r\n      ? copyAsync\r\n      : moveAsync;\r\n\r\n  const onComplete = useCallback(() => {\r\n    // Calling the focus manager triggers react-query's\r\n    // automatic refetch on window focus\r\n    focusManager.setFocused(true);\r\n  }, []);\r\n\r\n  const onNavigate = useCallback(\r\n    (_: string | null, path: string | null) => {\r\n      setDestinationPath(path);\r\n    },\r\n    [setDestinationPath]\r\n  );\r\n\r\n  const removeFile = useCallback(\r\n    (file: Files.FileInfo) => {\r\n      unselect([file]);\r\n      if (selectedFiles.length === 1) {\r\n        toggle();\r\n      }\r\n    },\r\n    [selectedFiles, toggle, unselect]\r\n  );\r\n\r\n  const { run, state, isLoading, isFinished, isSuccess, error } =\r\n    useFileOperations<MoveCopyHookParams, Files.FileStringResponse>({\r\n      fn,\r\n      onComplete,\r\n    });\r\n\r\n  const onSubmit = useCallback(() => {\r\n    const operations: Array<MoveCopyHookParams> = selectedFiles.map((file) => ({\r\n      systemId,\r\n      newPath: `${destinationPath!}/${file.name!}`,\r\n      path: file.path!,\r\n    }));\r\n    run(operations);\r\n  }, [selectedFiles, run, destinationPath, systemId]);\r\n\r\n  const statusColumns: Array<Column> = [\r\n    {\r\n      Header: '',\r\n      id: 'moveCopyStatus',\r\n      Cell: (el) => {\r\n        const path = (el.row.original as Files.FileInfo).path!;\r\n        if (!state[path]) {\r\n          return (\r\n            <span\r\n              className={styles['remove-file']}\r\n              onClick={() => {\r\n                removeFile(selectedFiles[el.row.index]);\r\n              }}\r\n            >\r\n              &#x2715;\r\n            </span>\r\n          );\r\n        }\r\n        return <FileOperationStatus status={state[path].status} />;\r\n      },\r\n    },\r\n  ];\r\n\r\n  const body = (\r\n    <div className=\"row h-100\">\r\n      <div className=\"col-md-6 d-flex flex-column\">\r\n        {/* Table of selected files */}\r\n        <div className={`${styles['col-header']}`}>\r\n          {`${\r\n            operation === Files.MoveCopyRequestOperationEnum.Copy\r\n              ? 'Copying '\r\n              : 'Moving '\r\n          }`}\r\n          {selectedFiles.length} files\r\n        </div>\r\n        <Breadcrumbs\r\n          breadcrumbs={[\r\n            ...breadcrumbsFromPathname(pathname)\r\n              .splice(1)\r\n              .map((fragment) => ({ text: fragment.text })),\r\n          ]}\r\n        />\r\n        <div className={styles['nav-list']}>\r\n          <FileListingTable\r\n            files={selectedFiles}\r\n            className={`${styles['file-list-origin']} `}\r\n            fields={['size']}\r\n            appendColumns={statusColumns}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"col-md-6 d-flex flex-column\">\r\n        {/* Table of selected files */}\r\n        <div className={`${styles['col-header']}`}>Destination</div>\r\n        <FileExplorer\r\n          systemId={systemId}\r\n          path={path}\r\n          onNavigate={onNavigate}\r\n          fields={['size']}\r\n          className={styles['file-list']}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const footer = (\r\n    <SubmitWrapper\r\n      isLoading={isLoading}\r\n      error={error}\r\n      success={\r\n        isSuccess\r\n          ? 'Successfully ' +\r\n            (operation === Files.MoveCopyRequestOperationEnum.Move\r\n              ? 'moved'\r\n              : 'copied') +\r\n            ' files'\r\n          : ''\r\n      }\r\n      reverse={true}\r\n    >\r\n      <Button\r\n        color=\"primary\"\r\n        disabled={\r\n          !destinationPath ||\r\n          destinationPath === path ||\r\n          isLoading ||\r\n          (isFinished && !error)\r\n        }\r\n        aria-label=\"Submit\"\r\n        type=\"submit\"\r\n        onClick={onSubmit}\r\n      >\r\n        {opFormatted}\r\n      </Button>\r\n    </SubmitWrapper>\r\n  );\r\n\r\n  return (\r\n    <GenericModal\r\n      toggle={toggle}\r\n      title={`${opFormatted} Files`}\r\n      size=\"xl\"\r\n      body={body}\r\n      footer={footer}\r\n    />\r\n  );\r\n};\r\n\r\nexport default MoveCopyModal;\r\n","import RenameModal from './RenameModal';\r\n\r\nexport default RenameModal;\r\n","import { useCallback, useState } from 'react';\r\nimport { Button } from 'reactstrap';\r\nimport { GenericModal } from 'tapis-ui/_common';\r\nimport { SubmitWrapper } from 'tapis-ui/_wrappers';\r\nimport { ToolbarModalProps } from '../Toolbar';\r\nimport { Form, Formik } from 'formik';\r\nimport { FormikInput } from 'tapis-ui/_common';\r\nimport { useMove } from 'tapis-hooks/files';\r\nimport { focusManager } from 'react-query';\r\nimport { useEffect } from 'react';\r\nimport { useFilesSelect } from '../../FilesContext';\r\nimport * as Yup from 'yup';\r\n\r\nconst RenameModal: React.FC<ToolbarModalProps> = ({\r\n  toggle,\r\n  systemId,\r\n  path,\r\n}) => {\r\n  const { selectedFiles, clear } = useFilesSelect();\r\n  const [inputName, setInputName] = useState<string>();\r\n  const file = selectedFiles ? selectedFiles[0] : undefined;\r\n\r\n  const onSuccess = useCallback(() => {\r\n    // Calling the focus manager triggers react-query's\r\n    // automatic refetch on window focus\r\n    clear();\r\n    focusManager.setFocused(true);\r\n  }, [clear]);\r\n\r\n  const { move, isLoading, error, isSuccess, reset } = useMove();\r\n\r\n  useEffect(() => {\r\n    reset();\r\n  }, [reset]);\r\n\r\n  const validationSchema = Yup.object({\r\n    newname: Yup.string()\r\n      .min(1)\r\n      .max(255, 'The new filename cannot be longer than 255 characters')\r\n      .matches(\r\n        /[a-zA-Z0-9_.-]+/,\r\n        \"Filename must contain only alphanumeric characters and the following: '.', '_', '-'\"\r\n      )\r\n      .required('The new filename is required'),\r\n  });\r\n\r\n  const initialValues = {\r\n    newname: file?.name ?? inputName ?? '',\r\n  };\r\n\r\n  const onSubmit = useCallback(\r\n    ({ newname }: { newname: string }) => {\r\n      setInputName(newname);\r\n      if (!file?.name) {\r\n        return;\r\n      }\r\n      move(\r\n        {\r\n          systemId: systemId!,\r\n          path: `${path}${file!.name}`,\r\n          newPath: `${path}${newname}`,\r\n        },\r\n        { onSuccess }\r\n      );\r\n    },\r\n    [setInputName, file, move, onSuccess, systemId, path]\r\n  );\r\n\r\n  const dirOrFile = (type: string | undefined) => {\r\n    return type === 'dir' ? 'directory' : 'file';\r\n  };\r\n\r\n  return (\r\n    <GenericModal\r\n      toggle={toggle}\r\n      title={`Rename ${dirOrFile(file?.type)}`}\r\n      body={\r\n        <div>\r\n          <Formik\r\n            initialValues={initialValues}\r\n            validationSchema={validationSchema}\r\n            onSubmit={onSubmit}\r\n          >\r\n            <Form id=\"rename-form\">\r\n              <FormikInput\r\n                name=\"newname\"\r\n                label={`${\r\n                  dirOrFile(file?.type).charAt(0).toUpperCase() +\r\n                  dirOrFile(file?.type).slice(1)\r\n                } Name`}\r\n                required={true}\r\n                description=\"Rename File\"\r\n              />\r\n            </Form>\r\n          </Formik>\r\n        </div>\r\n      }\r\n      footer={\r\n        <SubmitWrapper\r\n          isLoading={false}\r\n          error={error}\r\n          success={isSuccess ? `Successfully renamed` : ''}\r\n          reverse={true}\r\n        >\r\n          <Button\r\n            form=\"rename-form\"\r\n            color=\"primary\"\r\n            disabled={isLoading || isSuccess}\r\n            aria-label=\"Submit\"\r\n            type=\"submit\"\r\n          >\r\n            Rename\r\n          </Button>\r\n        </SubmitWrapper>\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default RenameModal;\r\n","import Progress from './Progress';\r\n\r\nexport default Progress;\r\n","import styles from './Progress.module.scss';\r\n\r\ntype ProgressProps = {\r\n  value: number;\r\n  color?: string;\r\n  styles?: { [name: string]: string };\r\n  showProgress?: boolean;\r\n};\r\n\r\nconst Progress: React.FC<ProgressProps> = ({\r\n  value,\r\n  color,\r\n  showProgress = true,\r\n}) => {\r\n  const style = {\r\n    '--width': `${value}%`,\r\n  } as React.CSSProperties;\r\n\r\n  return (\r\n    <div className={styles['progress-bar']}>\r\n      <div className={styles['inner-bar']} style={style} />\r\n      {showProgress && (\r\n        <div className={styles['overlay']}>\r\n          <p>{value}%</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Progress;\r\n","import UploadModal from './UploadModal';\r\n\r\nexport default UploadModal;\r\n","import { GenericModal } from 'tapis-ui/_common';\r\nimport { ToolbarModalProps } from '../Toolbar';\r\nimport { useFilesSelect } from '../../FilesContext';\r\nimport { usePermissions } from 'tapis-hooks/files';\r\nimport { FileStat, FileOperation } from 'tapis-ui/components/files';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\nimport { Files } from '@tapis/tapis-typescript';\r\nimport { Tabs } from 'tapis-ui/_common';\r\nimport styles from './PermissionsModal.module.scss';\r\nimport React from 'react';\r\n\r\nconst PermissionsModal: React.FC<ToolbarModalProps> = ({\r\n  toggle,\r\n  systemId,\r\n  path,\r\n}) => {\r\n  const { selectedFiles } = useFilesSelect();\r\n\r\n  const file = selectedFiles[0];\r\n  const { claims } = useTapisConfig();\r\n  const username = claims['tapis/username'];\r\n  const filePath = file.path!;\r\n  const permsRequest: Files.GetPermissionsRequest = {\r\n    systemId: systemId ?? '',\r\n    path: filePath,\r\n    username,\r\n  };\r\n\r\n  const { data, isLoading, error } = usePermissions(permsRequest);\r\n\r\n  const write: boolean =\r\n    data?.result?.permission === Files.FilePermissionPermissionEnum.Modify;\r\n\r\n  const tabs: { [name: string]: React.ReactNode } = {\r\n    Info: (\r\n      <FileStat\r\n        systemId={systemId!}\r\n        path={filePath}\r\n        className={styles['list-content']}\r\n      />\r\n    ),\r\n  };\r\n\r\n  if (write) {\r\n    tabs['Linux Native Operations'] = (\r\n      <FileOperation systemId={systemId!} path={filePath} />\r\n    );\r\n  }\r\n\r\n  const body = (\r\n    <QueryWrapper isLoading={isLoading} error={error}>\r\n      <Tabs tabs={tabs} />\r\n    </QueryWrapper>\r\n  );\r\n\r\n  return <GenericModal toggle={toggle} title={`Permissions`} body={body} />;\r\n};\r\n\r\nexport default PermissionsModal;\r\n","import PermissionsModal from './PermissionsModal';\r\n\r\nexport default PermissionsModal;\r\n","import { useEffect, useCallback } from 'react';\r\nimport { Button } from 'reactstrap';\r\nimport { GenericModal } from 'tapis-ui/_common';\r\nimport { SubmitWrapper } from 'tapis-ui/_wrappers';\r\nimport { FileListingTable } from 'tapis-ui/components/files/FileListing/FileListing';\r\nimport { ToolbarModalProps } from '../Toolbar';\r\nimport { focusManager } from 'react-query';\r\nimport { useDelete } from 'tapis-hooks/files';\r\nimport { Column } from 'react-table';\r\nimport styles from './DeleteModal.module.scss';\r\nimport { useFilesSelect } from '../../FilesContext';\r\nimport { Files } from '@tapis/tapis-typescript';\r\nimport { DeleteHookParams } from 'tapis-hooks/files/useDelete';\r\nimport { useFileOperations } from '../_hooks';\r\nimport { FileOperationStatus } from '../_components';\r\n\r\nconst DeleteModal: React.FC<ToolbarModalProps> = ({\r\n  toggle,\r\n  systemId = '',\r\n  path = '/',\r\n}) => {\r\n  const { selectedFiles, unselect } = useFilesSelect();\r\n  const { deleteFileAsync, reset } = useDelete();\r\n\r\n  useEffect(() => {\r\n    reset();\r\n  }, [reset]);\r\n\r\n  const onComplete = useCallback(() => {\r\n    // Calling the focus manager triggers react-query's\r\n    // automatic refetch on window focus\r\n    focusManager.setFocused(true);\r\n  }, []);\r\n\r\n  const { run, state, isLoading, isSuccess, error } = useFileOperations<\r\n    DeleteHookParams,\r\n    Files.FileStringResponse\r\n  >({\r\n    fn: deleteFileAsync,\r\n    onComplete,\r\n  });\r\n\r\n  const onSubmit = useCallback(() => {\r\n    const operations: Array<DeleteHookParams> = selectedFiles.map((file) => ({\r\n      systemId,\r\n      path: file.path!,\r\n    }));\r\n    run(operations);\r\n  }, [selectedFiles, run, systemId]);\r\n\r\n  const removeFile = useCallback(\r\n    (file: Files.FileInfo) => {\r\n      unselect([file]);\r\n      if (selectedFiles.length === 1) {\r\n        toggle();\r\n      }\r\n    },\r\n    [selectedFiles, toggle, unselect]\r\n  );\r\n\r\n  const statusColumn: Array<Column> = [\r\n    {\r\n      Header: '',\r\n      id: 'deleteStatus',\r\n      Cell: (el) => {\r\n        const file = selectedFiles[el.row.index];\r\n        if (!state[file.path!]) {\r\n          return (\r\n            <span\r\n              className={styles['remove-file']}\r\n              onClick={() => {\r\n                removeFile(selectedFiles[el.row.index]);\r\n              }}\r\n            >\r\n              &#x2715;\r\n            </span>\r\n          );\r\n        }\r\n        return <FileOperationStatus status={state[file.path!].status} />;\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <GenericModal\r\n      toggle={() => {\r\n        toggle();\r\n        unselect(selectedFiles);\r\n      }}\r\n      title={`Delete files and folders`}\r\n      body={\r\n        <div>\r\n          <h3>\r\n            {systemId}/{path}\r\n          </h3>\r\n          <div className={styles['files-list-container']}>\r\n            <FileListingTable\r\n              files={selectedFiles}\r\n              fields={['size']}\r\n              appendColumns={statusColumn}\r\n              className={styles['file-list-table']}\r\n            />\r\n          </div>\r\n        </div>\r\n      }\r\n      footer={\r\n        <SubmitWrapper\r\n          isLoading={false}\r\n          error={error}\r\n          success={isSuccess ? `Successfully deleted files` : ''}\r\n          reverse={true}\r\n        >\r\n          <Button\r\n            color=\"primary\"\r\n            disabled={isLoading || isSuccess || selectedFiles.length === 0}\r\n            aria-label=\"Submit\"\r\n            onClick={onSubmit}\r\n          >\r\n            Confirm delete ({selectedFiles.length})\r\n          </Button>\r\n          {!isSuccess && (\r\n            <Button\r\n              color=\"danger\"\r\n              disabled={isLoading || isSuccess || selectedFiles.length === 0}\r\n              aria-label=\"Cancel\"\r\n              onClick={() => {\r\n                toggle();\r\n              }}\r\n            >\r\n              Cancel\r\n            </Button>\r\n          )}\r\n        </SubmitWrapper>\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default DeleteModal;\r\n","import DeleteModal from './DeleteModal';\r\n\r\nexport default DeleteModal;\r\n","import React, { useCallback, useState, useEffect } from 'react';\r\nimport { GenericModal, Breadcrumbs } from 'tapis-ui/_common';\r\nimport breadcrumbsFromPathname from 'tapis-ui/_common/Breadcrumbs/breadcrumbsFromPathname';\r\nimport { FileListingTable } from 'tapis-ui/components/files/FileListing/FileListing';\r\nimport FileExplorer from 'tapis-ui/components/files/FileExplorer/FileExplorer';\r\nimport { ToolbarModalProps } from '../Toolbar';\r\nimport { useLocation } from 'react-router';\r\nimport { Files } from '@tapis/tapis-typescript';\r\nimport styles from './TransferModal.module.scss';\r\nimport { useFilesSelect } from '../../FilesContext';\r\nimport { Tabs } from 'tapis-ui/_common';\r\nimport {\r\n  TransferListing,\r\n  TransferDetails,\r\n  TransferCreate,\r\n  TransferCancel,\r\n} from 'tapis-ui/components/files';\r\nimport { useList } from 'tapis-hooks/files/transfers';\r\n\r\nconst TransferModal: React.FC<ToolbarModalProps> = ({\r\n  toggle,\r\n  systemId = '',\r\n  path = '/',\r\n}) => {\r\n  const { pathname } = useLocation();\r\n  const [destination, setDestination] = useState<{\r\n    systemId: string;\r\n    path: string;\r\n  }>({ systemId, path });\r\n  const [transfer, setTransfer] = useState<Files.TransferTask | null>(null);\r\n  const { selectedFiles } = useFilesSelect();\r\n\r\n  const { refetch } = useList({});\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      refetch();\r\n    }, 5000);\r\n    return () => clearInterval(interval);\r\n  }, [refetch]);\r\n\r\n  const onNavigate = useCallback(\r\n    (systemId: string | null, path: string | null) => {\r\n      if (!!systemId && !!path) {\r\n        setDestination({ systemId, path });\r\n      }\r\n    },\r\n    [setDestination]\r\n  );\r\n\r\n  const onSelect = useCallback(\r\n    (transfer: Files.TransferTask) => {\r\n      setTransfer(transfer);\r\n    },\r\n    [setTransfer]\r\n  );\r\n\r\n  const createTransferTab = (\r\n    <div className={`row h-100 ${styles.pane}`}>\r\n      <div className=\"col-md-6 d-flex flex-column\">\r\n        {/* Table of selected files */}\r\n        <div className={`${styles['col-header']}`}>\r\n          Transfering {selectedFiles.length} files\r\n        </div>\r\n        <Breadcrumbs\r\n          breadcrumbs={[\r\n            ...breadcrumbsFromPathname(pathname)\r\n              .splice(1)\r\n              .map((fragment) => ({ text: fragment.text })),\r\n          ]}\r\n        />\r\n        <div className={styles['nav-list']}>\r\n          <FileListingTable\r\n            files={selectedFiles}\r\n            className={`${styles['file-list-origin']} `}\r\n            fields={['size']}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"col-md-6 d-flex flex-column\">\r\n        {/* Table of selected files */}\r\n        <div className={`${styles['col-header']}`}>Destination</div>\r\n        <FileExplorer\r\n          systemId={systemId}\r\n          path={path}\r\n          onNavigate={onNavigate}\r\n          fields={['size']}\r\n          className={styles['file-list']}\r\n          allowSystemChange\r\n        />\r\n        <TransferCreate\r\n          sourceSystemId={systemId}\r\n          destinationSystemId={destination?.systemId ?? ''}\r\n          destinationPath={destination?.path ?? ''}\r\n          files={selectedFiles}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const listTransfersTab = (\r\n    <div className={`row h-100 ${styles.pane}`}>\r\n      <div className=\"col-md-6 d-flex flex-column\">\r\n        <div className={`${styles['nav-list']} ${styles['transfer-list']}`}>\r\n          <TransferListing onSelect={onSelect} />\r\n        </div>\r\n      </div>\r\n      <div className=\"col-md-6 d-flex flex-column\">\r\n        <div>\r\n          {transfer ? (\r\n            <div>\r\n              <TransferDetails\r\n                transferTaskId={transfer?.uuid!}\r\n                className={styles['transfer-detail']}\r\n              />\r\n              <TransferCancel\r\n                transferTaskId={transfer?.uuid!}\r\n                className={styles['transfer-cancel']}\r\n              />\r\n            </div>\r\n          ) : (\r\n            <i>Select a file transfer to view details</i>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const tabs: { [name: string]: React.ReactNode } = {};\r\n  if (selectedFiles.length > 0) {\r\n    tabs['Start a Transfer'] = createTransferTab;\r\n  }\r\n  tabs['Recent Transfers'] = listTransfersTab;\r\n\r\n  const body = <Tabs tabs={tabs} className={styles.body} />;\r\n\r\n  return (\r\n    <GenericModal\r\n      toggle={toggle}\r\n      title=\"Transfer Files\"\r\n      size=\"xl\"\r\n      body={body}\r\n    />\r\n  );\r\n};\r\n\r\nexport default TransferModal;\r\n","import CopyMoveModal from './TransferModal';\r\n\r\nexport default CopyMoveModal;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useNotifications, NotificationRecord, Notification } from '.';\r\nimport Snackbar, { SnackbarCloseReason } from '@material-ui/core/Snackbar';\r\nimport Slide, { SlideProps } from '@material-ui/core/Slide';\r\nimport { Icon } from 'tapis-ui/_common';\r\nimport styles from './NotificationToast.module.scss';\r\n\r\nconst NotificationToast = () => {\r\n  type TransitionType =\r\n    | React.ComponentType<\r\n        SlideProps & {\r\n          children?: React.ReactElement<any, any> | undefined;\r\n        }\r\n      >\r\n    | undefined;\r\n  const { notifications, markread } = useNotifications();\r\n  const [open, setOpen] = useState(false);\r\n  const [notificationRecord, setNotificationRecord] =\r\n    useState<NotificationRecord | null>(null);\r\n  const [transition, setTransition] = React.useState<TransitionType>(undefined);\r\n\r\n  useEffect(() => {\r\n    if (notifications.length && !notificationRecord) {\r\n      // Set a new toast when we don't have an active one\r\n      setNotificationRecord({ ...notifications[0] });\r\n      setTransition(() => (props: SlideProps) => (\r\n        <Slide {...props} direction=\"right\" />\r\n      ));\r\n      setOpen(true);\r\n    } else if (notifications.length && notificationRecord && open) {\r\n      // Close an active toast when a new one is added\r\n      setOpen(false);\r\n      markread(notificationRecord?.id!);\r\n      setNotificationRecord({ ...notifications[0] });\r\n      setTransition(() => (props: SlideProps) => (\r\n        <Slide {...props} direction=\"right\" />\r\n      ));\r\n      setOpen(true);\r\n    }\r\n    /* eslint-disable-next-line */\r\n  }, [notifications]);\r\n\r\n  const handleExited = () => {\r\n    setNotificationRecord(null);\r\n    markread(notificationRecord?.id!);\r\n  };\r\n\r\n  type HandleCloseType = (\r\n    event: React.SyntheticEvent<any, Event>,\r\n    reason: SnackbarCloseReason\r\n  ) => void;\r\n\r\n  const handleClose: HandleCloseType = (_event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setOpen(false);\r\n  };\r\n\r\n  return notificationRecord && !notificationRecord.read ? (\r\n    <Snackbar\r\n      key={notificationRecord ? notificationRecord.id : undefined}\r\n      anchorOrigin={{\r\n        vertical: 'bottom',\r\n        horizontal: 'left',\r\n      }}\r\n      TransitionComponent={transition}\r\n      open={open}\r\n      autoHideDuration={3500}\r\n      onClose={handleClose}\r\n      TransitionProps={{\r\n        onExited: handleExited,\r\n      }}\r\n      classes={{\r\n        anchorOriginBottomLeft: styles['notification-toast-container'],\r\n      }}\r\n      ContentProps={{\r\n        classes: {\r\n          root: styles['notification-toast'],\r\n          message: styles['notification-toast-body'],\r\n        },\r\n      }}\r\n      message={<ToastMessage notification={notificationRecord!.notification} />}\r\n    />\r\n  ) : null;\r\n};\r\n\r\nexport const ToastMessage: React.FC<{ notification: Notification }> = ({\r\n  notification,\r\n}) => {\r\n  return (\r\n    <>\r\n      <div className={styles['notification-toast-icon-wrapper']}>\r\n        <Icon\r\n          name={notification.icon}\r\n          className={\r\n            notification.status === 'ERROR' ? styles['toast-is-error'] : ''\r\n          }\r\n        />\r\n      </div>\r\n      <div className={styles['notification-toast-content']}>\r\n        <span>{notification.message}</span>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NotificationToast;\r\n","import React from 'react';\r\nimport { NotificationsContextType } from '.';\r\n\r\nexport const notificationsContext: NotificationsContextType = {\r\n  notifications: [],\r\n  dispatch: () => {},\r\n};\r\n\r\nconst NotificationsContext: React.Context<NotificationsContextType> =\r\n  React.createContext<NotificationsContextType>(notificationsContext);\r\n\r\nexport default NotificationsContext;\r\n","import { useContext } from 'react';\r\nimport NotificationsContext from './NotificationsContext';\r\nimport { Notification } from '.';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nconst useNotifications = () => {\r\n  const { notifications, dispatch } = useContext(NotificationsContext);\r\n\r\n  const add = (notification: Notification) => {\r\n    const id = uuidv4();\r\n    dispatch({ operation: 'add', notification, id });\r\n    return id;\r\n  };\r\n\r\n  const markread = (id: string) => {\r\n    dispatch({ operation: 'markread', id });\r\n  };\r\n\r\n  const remove = (id: string) => {\r\n    dispatch({ operation: 'remove', id });\r\n  };\r\n\r\n  const set = (id: string, notification: Notification) => {\r\n    dispatch({ operation: 'set', id, notification });\r\n  };\r\n\r\n  return {\r\n    notifications,\r\n    add,\r\n    markread,\r\n    remove,\r\n    set,\r\n  };\r\n};\r\n\r\nexport default useNotifications;\r\n","import React, { useReducer } from 'react';\r\nimport {\r\n  NotificationsContextType,\r\n  NotificationRecord,\r\n  Notification,\r\n  NotificationToast,\r\n} from '.';\r\nimport NotificationsContext from './NotificationsContext';\r\n\r\nexport const reducer = (\r\n  state: Array<NotificationRecord>,\r\n  action: {\r\n    operation: 'add' | 'markread' | 'remove' | 'set';\r\n    notification?: Notification;\r\n    id: string;\r\n  }\r\n): Array<NotificationRecord> => {\r\n  const { operation, notification, id } = action;\r\n  if (operation === 'add') {\r\n    if (!notification) {\r\n      throw new Error('notification field missing');\r\n    }\r\n    return [{ notification, id, read: false }, ...state];\r\n  }\r\n  const index = state.findIndex((existing) => existing.id === id);\r\n  if (index === -1) {\r\n    throw new Error(`Could not find notification with id ${id}`);\r\n  }\r\n  if (operation === 'markread') {\r\n    state[index].read = true;\r\n    return [...state];\r\n  }\r\n  if (operation === 'set') {\r\n    if (!notification) {\r\n      throw new Error('notification field missing');\r\n    }\r\n    state[index].notification = { ...notification! };\r\n    return [...state];\r\n  }\r\n  if (operation === 'remove') {\r\n    state.splice(index, 1);\r\n    return [...state];\r\n  }\r\n  return state;\r\n};\r\n\r\nconst NotificationsProvider: React.FC<React.PropsWithChildren<{}>> = ({\r\n  children,\r\n}) => {\r\n  const [notifications, dispatch] = useReducer(\r\n    reducer,\r\n    [] as Array<NotificationRecord>\r\n  );\r\n\r\n  // Provide a context state for the rest of the application, including\r\n  // a way of modifying the state\r\n  const contextValue: NotificationsContextType = {\r\n    notifications,\r\n    dispatch,\r\n  };\r\n\r\n  return (\r\n    <NotificationsContext.Provider value={contextValue}>\r\n      <NotificationToast />\r\n      {children}\r\n    </NotificationsContext.Provider>\r\n  );\r\n};\r\n\r\nexport default NotificationsProvider;\r\n","import { Files } from '@tapis/tapis-typescript';\r\nimport React, { useState, useCallback } from 'react';\r\nimport { Button } from 'reactstrap';\r\nimport { Icon } from 'tapis-ui/_common';\r\nimport styles from './Toolbar.module.scss';\r\nimport CreateDirModal from './CreateDirModal';\r\nimport MoveCopyModal from './MoveCopyModal';\r\nimport RenameModal from './RenameModal';\r\nimport UploadModal from './UploadModal';\r\nimport PermissionsModal from './PermissionsModal';\r\nimport DeleteModal from './DeleteModal';\r\nimport TransferModal from './TransferModal';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useFilesSelect } from '../FilesContext';\r\nimport {\r\n  useDownload,\r\n  DownloadStreamParams,\r\n  usePermissions,\r\n} from 'tapis-hooks/files';\r\nimport { useNotifications } from 'tapis-app/_components/Notifications';\r\n\r\ntype ToolbarButtonProps = {\r\n  text: string;\r\n  icon: string;\r\n  onClick: () => void;\r\n  disabled: boolean;\r\n};\r\n\r\nexport type ToolbarModalProps = {\r\n  toggle: () => void;\r\n  systemId?: string;\r\n  path?: string;\r\n};\r\n\r\nexport const ToolbarButton: React.FC<ToolbarButtonProps> = ({\r\n  text,\r\n  icon,\r\n  onClick,\r\n  disabled = true,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <div>\r\n      <Button\r\n        disabled={disabled}\r\n        onClick={onClick}\r\n        className={styles['toolbar-btn']}\r\n        {...rest}\r\n      >\r\n        <Icon name={icon}></Icon>\r\n        <span> {text}</span>\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Toolbar: React.FC = () => {\r\n  const [modal, setModal] = useState<string | undefined>(undefined);\r\n  const { selectedFiles } = useFilesSelect();\r\n  const { pathname } = useLocation();\r\n  const systemId = pathname.split('/')[2];\r\n  const currentPath = pathname.split('/').splice(3).join('/');\r\n  const { download } = useDownload();\r\n  const { add } = useNotifications();\r\n\r\n  const { data } = usePermissions({ systemId, path: currentPath });\r\n  const permission = data?.result?.permission;\r\n\r\n  const onDownload = useCallback(() => {\r\n    selectedFiles.forEach((file) => {\r\n      const params: DownloadStreamParams = {\r\n        systemId,\r\n        path: file.path ?? '',\r\n        destination: file.name ?? 'tapisfile',\r\n      };\r\n      const isZip = file.type === 'dir';\r\n      if (isZip) {\r\n        params.zip = true;\r\n        params.destination = `${params.destination}.zip`;\r\n        add({ icon: 'data-files', message: `Preparing download` });\r\n        params.onStart = (response: Response) => {\r\n          add({ icon: 'data-files', message: `Starting download` });\r\n        };\r\n      }\r\n      download(params, {\r\n        onError: isZip\r\n          ? () => {\r\n              add({\r\n                icon: 'data-files',\r\n                message: `Download failed`,\r\n                status: 'ERROR',\r\n              });\r\n            }\r\n          : undefined,\r\n      });\r\n    });\r\n  }, [selectedFiles, add, download, systemId]);\r\n\r\n  const toggle = () => {\r\n    setModal(undefined);\r\n  };\r\n  return (\r\n    <div id=\"file-operation-toolbar\">\r\n      {pathname !== '/files' && (\r\n        <div className={styles['toolbar-wrapper']}>\r\n          <ToolbarButton\r\n            text=\"Rename\"\r\n            icon=\"rename\"\r\n            disabled={\r\n              selectedFiles.length !== 1 ||\r\n              permission !== Files.FilePermissionPermissionEnum.Modify\r\n            }\r\n            onClick={() => setModal('rename')}\r\n            aria-label=\"Rename\"\r\n          />\r\n          <ToolbarButton\r\n            text=\"Move\"\r\n            icon=\"move\"\r\n            disabled={\r\n              selectedFiles.length === 0 ||\r\n              permission !== Files.FilePermissionPermissionEnum.Modify\r\n            }\r\n            onClick={() => setModal('move')}\r\n            aria-label=\"Move\"\r\n          />\r\n          <ToolbarButton\r\n            text=\"Copy\"\r\n            icon=\"copy\"\r\n            disabled={selectedFiles.length === 0}\r\n            onClick={() => setModal('copy')}\r\n            aria-label=\"Copy\"\r\n          />\r\n          {/*\r\n              <ToolbarButton\r\n                text=\"Permissions\"\r\n                icon=\"gear\"\r\n                disabled={selectedFiles.length !== 1 || permission !== Files.FilePermissionPermissionEnum.Modify}\r\n                onClick={() => setModal('permissions')}\r\n              />\r\n            */}\r\n          <ToolbarButton\r\n            text=\"Transfers\"\r\n            icon=\"globe\"\r\n            disabled={false}\r\n            onClick={() => setModal('transfer')}\r\n          />\r\n          <ToolbarButton\r\n            text=\"Download\"\r\n            icon=\"download\"\r\n            disabled={selectedFiles.length === 0}\r\n            onClick={onDownload}\r\n            aria-label=\"Download\"\r\n          />\r\n          <ToolbarButton\r\n            text=\"Upload\"\r\n            icon=\"upload\"\r\n            disabled={permission !== Files.FilePermissionPermissionEnum.Modify}\r\n            onClick={() => {\r\n              setModal('upload');\r\n            }}\r\n            aria-label=\"Upload\"\r\n          />\r\n          <ToolbarButton\r\n            text=\"Folder\"\r\n            icon=\"add\"\r\n            disabled={permission !== Files.FilePermissionPermissionEnum.Modify}\r\n            onClick={() => setModal('createdir')}\r\n            aria-label=\"Add\"\r\n          />\r\n          <ToolbarButton\r\n            text=\"Delete\"\r\n            icon=\"trash\"\r\n            disabled={\r\n              selectedFiles.length === 0 ||\r\n              permission !== Files.FilePermissionPermissionEnum.Modify\r\n            }\r\n            onClick={() => setModal('delete')}\r\n            aria-label=\"Delete\"\r\n          />\r\n          {modal === 'createdir' && (\r\n            <CreateDirModal\r\n              toggle={toggle}\r\n              systemId={systemId}\r\n              path={currentPath}\r\n            />\r\n          )}\r\n          {modal === 'copy' && (\r\n            <MoveCopyModal\r\n              toggle={toggle}\r\n              systemId={systemId}\r\n              path={currentPath}\r\n              operation={Files.MoveCopyRequestOperationEnum.Copy}\r\n            />\r\n          )}\r\n          {modal === 'move' && (\r\n            <MoveCopyModal\r\n              toggle={toggle}\r\n              systemId={systemId}\r\n              path={currentPath}\r\n              operation={Files.MoveCopyRequestOperationEnum.Move}\r\n            />\r\n          )}\r\n          {modal === 'rename' && (\r\n            <RenameModal\r\n              toggle={toggle}\r\n              systemId={systemId}\r\n              path={currentPath}\r\n            />\r\n          )}\r\n          {modal === 'transfer' && (\r\n            <TransferModal\r\n              toggle={toggle}\r\n              systemId={systemId}\r\n              path={currentPath}\r\n            />\r\n          )}\r\n          {modal === 'upload' && (\r\n            <UploadModal\r\n              toggle={toggle}\r\n              path={currentPath}\r\n              systemId={systemId}\r\n            />\r\n          )}\r\n          {modal === 'permissions' && (\r\n            <PermissionsModal\r\n              toggle={toggle}\r\n              systemId={systemId}\r\n              path={currentPath}\r\n            />\r\n          )}\r\n          {modal === 'delete' && (\r\n            <DeleteModal\r\n              toggle={toggle}\r\n              systemId={systemId}\r\n              path={currentPath}\r\n            />\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Toolbar;\r\n","import Toolbar from './Toolbar';\r\n\r\nexport default Toolbar;\r\n","import React from 'react';\r\nimport {\r\n  PageLayout,\r\n  LayoutBody,\r\n  LayoutHeader,\r\n  LayoutNavWrapper,\r\n  Breadcrumbs,\r\n} from 'tapis-ui/_common';\r\nimport { SystemsNav } from '../_components';\r\nimport { Router } from '../_Router';\r\nimport Toolbar from '../_components/Toolbar';\r\nimport { useLocation } from 'react-router';\r\nimport breadcrumbsFromPathname from 'tapis-ui/_common/Breadcrumbs/breadcrumbsFromPathname';\r\nimport styles from './Layout.module.scss';\r\nimport { FilesProvider } from '../_components/FilesContext';\r\n\r\nconst Layout: React.FC = () => {\r\n  const { pathname } = useLocation();\r\n  console.log(pathname);\r\n  const crumbs = breadcrumbsFromPathname(pathname).splice(1);\r\n  console.log(crumbs);\r\n  const header = (\r\n    <LayoutHeader>\r\n      <div className={styles.breadcrumbs}>\r\n        <Breadcrumbs breadcrumbs={[{ text: 'Files' }, ...crumbs]} />\r\n      </div>\r\n      <Toolbar />\r\n    </LayoutHeader>\r\n  );\r\n\r\n  const sidebar = (\r\n    <LayoutNavWrapper>\r\n      <SystemsNav />\r\n    </LayoutNavWrapper>\r\n  );\r\n\r\n  const body = (\r\n    <LayoutBody constrain>\r\n      <Router />\r\n    </LayoutBody>\r\n  );\r\n\r\n  return (\r\n    <FilesProvider>\r\n      <PageLayout top={header} left={sidebar} right={body} />\r\n    </FilesProvider>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","import { Workflows } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst list = (basePath: string, jwt: string) => {\r\n  const api: Workflows.GroupsApi = apiGenerator<Workflows.GroupsApi>(\r\n    Workflows,\r\n    Workflows.GroupsApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Workflows.RespGroupList>(() => api.listGroups());\r\n};\r\n\r\nexport default list;\r\n","import { Workflows } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst create = (\r\n  params: Workflows.CreateGroupRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Workflows.GroupsApi = apiGenerator<Workflows.GroupsApi>(\r\n    Workflows,\r\n    Workflows.GroupsApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Workflows.RespResourceURL>(() => api.createGroup(params));\r\n};\r\n\r\nexport default create;\r\n","const QueryKeys = {\r\n  list: 'workflows/groups/list',\r\n  create: 'workflows/groups/create',\r\n};\r\n\r\nexport default QueryKeys;\r\n","import { useQuery, QueryObserverOptions } from 'react-query';\r\nimport { list } from 'tapis-api/workflows/groups';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nconst useList = (\r\n  options: QueryObserverOptions<Workflows.RespGroupList, Error> = {}\r\n) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n  const result = useQuery<Workflows.RespGroupList, Error>(\r\n    [QueryKeys.list, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    () => list(basePath, accessToken?.access_token || ''),\r\n    {\r\n      ...options,\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n  return result;\r\n};\r\n\r\nexport default useList;\r\n","import { useMutation, MutateOptions } from 'react-query';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { create } from 'tapis-api/workflows/groups';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\ntype CreateGroupHookParams = {\r\n  id: string;\r\n  users: Array<Workflows.ReqGroupUser>;\r\n};\r\n\r\nconst useCreate = () => {\r\n  const { basePath, accessToken } = useTapisConfig();\r\n  const jwt = accessToken?.access_token || '';\r\n\r\n  // The useMutation react-query hook is used to call operations that make server-side changes\r\n  // (Other hooks would be used for data retrieval)\r\n  //\r\n  // In this case, create helper is called to perform the operation\r\n  const { mutate, isLoading, isError, isSuccess, data, error, reset } =\r\n    useMutation<Workflows.RespResourceURL, Error, CreateGroupHookParams>(\r\n      [QueryKeys.create, basePath, jwt],\r\n      (params) => create({ reqGroup: params }, basePath, jwt)\r\n    );\r\n\r\n  // Return hook object with loading states and login function\r\n  return {\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    data,\r\n    error,\r\n    reset,\r\n    create: (\r\n      params: CreateGroupHookParams,\r\n      // react-query options to allow callbacks such as onSuccess\r\n      options?: MutateOptions<\r\n        Workflows.RespResourceURL,\r\n        Error,\r\n        CreateGroupHookParams\r\n      >\r\n    ) => {\r\n      // Call mutate to trigger a single post-like API operation\r\n      return mutate(params, options);\r\n    },\r\n  };\r\n};\r\n\r\nexport default useCreate;\r\n","import { Workflows } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst list = (\r\n  params: Workflows.ListPipelinesRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Workflows.PipelinesApi = apiGenerator<Workflows.PipelinesApi>(\r\n    Workflows,\r\n    Workflows.PipelinesApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Workflows.RespPipelineList>(() =>\r\n    api.listPipelines(params)\r\n  );\r\n};\r\n\r\nexport default list;\r\n","import { Workflows } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\nimport { ListAllPipelinesParams } from 'tapis-hooks/workflows/pipelines/useListAll';\r\n\r\nconst listAll = async (\r\n  params: ListAllPipelinesParams,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Workflows.PipelinesApi = apiGenerator<Workflows.PipelinesApi>(\r\n    Workflows,\r\n    Workflows.PipelinesApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n\r\n  const resps = await Promise.all(\r\n    params.groupIds.map((groupId) => {\r\n      try {\r\n        return errorDecoder<Workflows.RespPipelineList>(() =>\r\n          api.listPipelines({ groupId })\r\n        );\r\n      } catch (e) {\r\n        throw e;\r\n      }\r\n    })\r\n  );\r\n\r\n  let pipelines: Array<Workflows.Pipeline> = [];\r\n\r\n  // Add every pipeline from each response to the list\r\n  resps.map((resp) => resp.result.map((pipeline) => pipelines.push(pipeline)));\r\n\r\n  const last = resps[resps.length - 1];\r\n\r\n  let respAll: Workflows.RespPipelineList = {\r\n    status: last ? last.status : 'success',\r\n    message: last ? last.message : 'success',\r\n    metadata: last ? last.metadata : {},\r\n    result: pipelines,\r\n    version: last ? last.version : 'latest', // ?\r\n  };\r\n\r\n  return respAll;\r\n};\r\n\r\nexport default listAll;\r\n","import { Workflows } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst details = (\r\n  params: Workflows.GetPipelineRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Workflows.PipelinesApi = apiGenerator<Workflows.PipelinesApi>(\r\n    Workflows,\r\n    Workflows.PipelinesApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Workflows.RespPipeline>(() => api.getPipeline(params));\r\n};\r\n\r\nexport default details;\r\n","import { Workflows } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst create = (\r\n  params: Workflows.CreatePipelineRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Workflows.PipelinesApi = apiGenerator<Workflows.PipelinesApi>(\r\n    Workflows,\r\n    Workflows.PipelinesApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Workflows.RespResourceURL>(() =>\r\n    api.createPipeline(params)\r\n  );\r\n};\r\n\r\nexport default create;\r\n","import { Workflows } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst run = (\r\n  params: Workflows.RunPipelineRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Workflows.EventsApi = apiGenerator<Workflows.EventsApi>(\r\n    Workflows,\r\n    Workflows.EventsApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Workflows.RespEvent>(() => api.runPipeline(params));\r\n};\r\n\r\nexport default run;\r\n","const QueryKeys = {\r\n  list: 'workflows/pipelines/list',\r\n  listAll: 'workflows/pipelines/listAll',\r\n  details: 'workflows/pipelines/details',\r\n  create: 'workflows/pipelines/create',\r\n  run: 'workflows/pipelines/run',\r\n};\r\n\r\nexport default QueryKeys;\r\n","import { useQuery, QueryObserverOptions } from 'react-query';\r\nimport { list } from 'tapis-api/workflows/pipelines';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nconst useList = (\r\n  params: Workflows.ListPipelinesRequest,\r\n  options: QueryObserverOptions<Workflows.RespPipelineList, Error> = {}\r\n) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n  const result = useQuery<Workflows.RespPipelineList, Error>(\r\n    [QueryKeys.list, params, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    () => list(params, basePath, accessToken?.access_token || ''),\r\n    {\r\n      ...options,\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n  return result;\r\n};\r\n\r\nexport default useList;\r\n","import { useQuery, QueryObserverOptions } from 'react-query';\r\nimport { listAll } from 'tapis-api/workflows/pipelines';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nexport type ListAllPipelinesParams = {\r\n  groupIds: Array<string>;\r\n};\r\n\r\nconst useListAll = (\r\n  params: ListAllPipelinesParams,\r\n  options: QueryObserverOptions<Workflows.RespPipelineList, Error> = {}\r\n) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n  const result = useQuery<Workflows.RespPipelineList, Error>(\r\n    [QueryKeys.listAll, params, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    () => listAll(params, basePath, accessToken?.access_token || ''),\r\n    {\r\n      ...options,\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n  return result;\r\n};\r\n\r\nexport default useListAll;\r\n","import { useQuery, QueryObserverOptions } from 'react-query';\r\nimport { details } from 'tapis-api/workflows/pipelines';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nconst useDetails = (\r\n  params: Workflows.GetPipelineRequest,\r\n  options: QueryObserverOptions<Workflows.RespPipeline, Error> = {}\r\n) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n  const result = useQuery<Workflows.RespPipeline, Error>(\r\n    [QueryKeys.details, params, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    () => details(params, basePath, accessToken?.access_token || ''),\r\n    {\r\n      ...options,\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n  return result;\r\n};\r\n\r\nexport default useDetails;\r\n","import { useMutation, MutateOptions } from 'react-query';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { create } from 'tapis-api/workflows/pipelines';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\ntype CreatePipelineHookParams = Workflows.CreatePipelineRequest;\r\n\r\nconst useCreate = () => {\r\n  const { basePath, accessToken } = useTapisConfig();\r\n  const jwt = accessToken?.access_token || '';\r\n\r\n  // The useMutation react-query hook is used to call operations that make server-side changes\r\n  // (Other hooks would be used for data retrieval)\r\n  //\r\n  // In this case, create helper is called to perform the operation\r\n  const { mutate, isLoading, isError, isSuccess, data, error, reset } =\r\n    useMutation<Workflows.RespResourceURL, Error, CreatePipelineHookParams>(\r\n      [QueryKeys.create, basePath, jwt],\r\n      (params) => create(params, basePath, jwt)\r\n    );\r\n\r\n  // Return hook object with loading states and login function\r\n  return {\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    data,\r\n    error,\r\n    reset,\r\n    create: (\r\n      params: CreatePipelineHookParams,\r\n      // react-query options to allow callbacks such as onSuccess\r\n      options?: MutateOptions<\r\n        Workflows.RespResourceURL,\r\n        Error,\r\n        CreatePipelineHookParams\r\n      >\r\n    ) => {\r\n      // Call mutate to trigger a single post-like API operation\r\n      return mutate(params, options);\r\n    },\r\n  };\r\n};\r\n\r\nexport default useCreate;\r\n","import { useMutation, MutateOptions } from 'react-query';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { run } from 'tapis-api/workflows/pipelines';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\ntype RunPipelineHookParams = Workflows.RunPipelineRequest;\r\n\r\nconst useRun = () => {\r\n  const { basePath, accessToken } = useTapisConfig();\r\n  const jwt = accessToken?.access_token || '';\r\n\r\n  // The useMutation react-query hook is used to call operations that make server-side changes\r\n  // (Other hooks would be used for data retrieval)\r\n  const { mutate, isLoading, isError, isSuccess, data, error, reset } =\r\n    useMutation<Workflows.RespEvent, Error, RunPipelineHookParams>(\r\n      [QueryKeys.run, basePath, jwt],\r\n      (params) => run(params, basePath, jwt)\r\n    );\r\n\r\n  // Return hook object with loading states and login function\r\n  return {\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    data,\r\n    error,\r\n    reset,\r\n    run: (\r\n      params: RunPipelineHookParams,\r\n      // react-query options to allow callbacks such as onSuccess\r\n      options?: MutateOptions<Workflows.RespEvent, Error, RunPipelineHookParams>\r\n    ) => {\r\n      // Call mutate to trigger a single post-like API operation\r\n      return mutate(params, options);\r\n    },\r\n  };\r\n};\r\n\r\nexport default useRun;\r\n","import { Workflows } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst list = (\r\n  params: Workflows.ListArchivesRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Workflows.ArchivesApi = apiGenerator<Workflows.ArchivesApi>(\r\n    Workflows,\r\n    Workflows.ArchivesApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Workflows.RespArchiveList>(() =>\r\n    api.listArchives(params)\r\n  );\r\n};\r\n\r\nexport default list;\r\n","import { Workflows } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\nimport { ListAllArchivesParams } from 'tapis-hooks/workflows/archives/useListAll';\r\n\r\nconst listAll = async (\r\n  params: ListAllArchivesParams,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Workflows.ArchivesApi = apiGenerator<Workflows.ArchivesApi>(\r\n    Workflows,\r\n    Workflows.ArchivesApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n\r\n  const resps = await Promise.all(\r\n    params.groupIds.map((groupId) => {\r\n      try {\r\n        return errorDecoder<Workflows.RespArchiveList>(() =>\r\n          api.listArchives({ groupId })\r\n        );\r\n      } catch (e) {\r\n        throw e;\r\n      }\r\n    })\r\n  );\r\n\r\n  let archives: Array<Workflows.Archive> = [];\r\n\r\n  // Add every archive from each response to the list\r\n  resps.map((resp) => resp.result.map((archive) => archives.push(archive)));\r\n\r\n  const last = resps[resps.length - 1];\r\n\r\n  let respAll: Workflows.RespArchiveList = {\r\n    status: last ? last.status : 'success',\r\n    message: last ? last.message : 'success',\r\n    metadata: last ? last.metadata : {},\r\n    result: archives,\r\n    version: last ? last.version : 'latest', // ?\r\n  };\r\n\r\n  return respAll;\r\n};\r\n\r\nexport default listAll;\r\n","import { Workflows } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst details = (\r\n  params: Workflows.GetArchiveRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Workflows.ArchivesApi = apiGenerator<Workflows.ArchivesApi>(\r\n    Workflows,\r\n    Workflows.ArchivesApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Workflows.RespArchive>(() => api.getArchive(params));\r\n};\r\n\r\nexport default details;\r\n","import { Workflows } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst create = (\r\n  params: Workflows.CreateArchiveRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Workflows.ArchivesApi = apiGenerator<Workflows.ArchivesApi>(\r\n    Workflows,\r\n    Workflows.ArchivesApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Workflows.RespResourceURL>(() =>\r\n    api.createArchive(params)\r\n  );\r\n};\r\n\r\nexport default create;\r\n","const QueryKeys = {\r\n  list: 'workflows/groups/archives/list',\r\n  listAll: 'workflows/groups/archives/listAll',\r\n  details: 'workflows/groups/archives/details',\r\n  create: 'workflows/groups/archives/create',\r\n};\r\n\r\nexport default QueryKeys;\r\n","import { useQuery, QueryObserverOptions } from 'react-query';\r\nimport { list } from 'tapis-api/workflows/archives';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nconst useList = (\r\n  params: Workflows.ListArchivesRequest,\r\n  options: QueryObserverOptions<Workflows.RespArchiveList, Error> = {}\r\n) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n  const result = useQuery<Workflows.RespArchiveList, Error>(\r\n    [QueryKeys.list, params, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    () => list(params, basePath, accessToken?.access_token || ''),\r\n    {\r\n      ...options,\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n  return result;\r\n};\r\n\r\nexport default useList;\r\n","import { useQuery, QueryObserverOptions } from 'react-query';\r\nimport { listAll } from 'tapis-api/workflows/archives';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nexport type ListAllArchivesParams = {\r\n  groupIds: Array<string>;\r\n};\r\n\r\nconst useListAll = (\r\n  params: ListAllArchivesParams,\r\n  options: QueryObserverOptions<Workflows.RespArchiveList, Error> = {}\r\n) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n  const result = useQuery<Workflows.RespArchiveList, Error>(\r\n    [QueryKeys.listAll, params, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    () => listAll(params, basePath, accessToken?.access_token || ''),\r\n    {\r\n      ...options,\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n  return result;\r\n};\r\n\r\nexport default useListAll;\r\n","import { useQuery, QueryObserverOptions } from 'react-query';\r\nimport { details } from 'tapis-api/workflows/archives';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nconst useDetails = (\r\n  params: Workflows.GetArchiveRequest,\r\n  options: QueryObserverOptions<Workflows.RespArchive, Error> = {}\r\n) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n  const result = useQuery<Workflows.RespArchive, Error>(\r\n    [QueryKeys.details, params, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    () => details(params, basePath, accessToken?.access_token || ''),\r\n    {\r\n      ...options,\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n  return result;\r\n};\r\n\r\nexport default useDetails;\r\n","import { useMutation, MutateOptions } from 'react-query';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { create } from 'tapis-api/workflows/archives';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\ntype CreateArchiveHookParams = Workflows.CreateArchiveRequest;\r\n\r\nconst useCreate = () => {\r\n  const { basePath, accessToken } = useTapisConfig();\r\n  const jwt = accessToken?.access_token || '';\r\n\r\n  // The useMutation react-query hook is used to call operations that make server-side changes\r\n  // (Other hooks would be used for data retrieval)\r\n  //\r\n  // In this case, create helper is called to perform the operation\r\n  const { mutate, isLoading, isError, isSuccess, data, error, reset } =\r\n    useMutation<Workflows.RespResourceURL, Error, CreateArchiveHookParams>(\r\n      [QueryKeys.create, basePath, jwt],\r\n      (params) => create(params, basePath, jwt)\r\n    );\r\n\r\n  // Return hook object with loading states and login function\r\n  return {\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    data,\r\n    error,\r\n    reset,\r\n    create: (\r\n      params: CreateArchiveHookParams,\r\n      // react-query options to allow callbacks such as onSuccess\r\n      options?: MutateOptions<\r\n        Workflows.RespResourceURL,\r\n        Error,\r\n        CreateArchiveHookParams\r\n      >\r\n    ) => {\r\n      // Call mutate to trigger a single post-like API operation\r\n      return mutate(params, options);\r\n    },\r\n  };\r\n};\r\n\r\nexport default useCreate;\r\n","import { Workflows } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst list = (basePath: string, jwt: string) => {\r\n  const api: Workflows.IdentitiesApi = apiGenerator<Workflows.IdentitiesApi>(\r\n    Workflows,\r\n    Workflows.IdentitiesApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Workflows.RespGroupList>(() => api.listIdentities());\r\n};\r\n\r\nexport default list;\r\n","import { Workflows } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst details = (\r\n  params: Workflows.GetIdentityRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Workflows.IdentitiesApi = apiGenerator<Workflows.IdentitiesApi>(\r\n    Workflows,\r\n    Workflows.IdentitiesApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Workflows.RespIdentity>(() => api.getIdentity(params));\r\n};\r\n\r\nexport default details;\r\n","import { Workflows } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst create = (\r\n  params: Workflows.CreateIdentityRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Workflows.IdentitiesApi = apiGenerator<Workflows.IdentitiesApi>(\r\n    Workflows,\r\n    Workflows.IdentitiesApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Workflows.RespResourceURL>(() =>\r\n    api.createIdentity(params)\r\n  );\r\n};\r\n\r\nexport default create;\r\n","const QueryKeys = {\r\n  list: 'workflows/identities/list',\r\n  details: 'workflows/identities/details',\r\n  create: 'workflows/identities/create',\r\n};\r\n\r\nexport default QueryKeys;\r\n","import { useQuery, QueryObserverOptions } from 'react-query';\r\nimport { list } from 'tapis-api/workflows/identities';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nconst useList = (\r\n  options: QueryObserverOptions<Workflows.RespIdentityList, Error> = {}\r\n) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n  const result = useQuery<Workflows.RespIdentityList, Error>(\r\n    [QueryKeys.list, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    () => list(basePath, accessToken?.access_token || ''),\r\n    {\r\n      ...options,\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n  return result;\r\n};\r\n\r\nexport default useList;\r\n","import { useQuery, QueryObserverOptions } from 'react-query';\r\nimport { details } from 'tapis-api/workflows/identities';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nconst useDetails = (\r\n  params: Workflows.GetIdentityRequest,\r\n  options: QueryObserverOptions<Workflows.RespIdentity, Error> = {}\r\n) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n  const result = useQuery<Workflows.RespIdentity, Error>(\r\n    [QueryKeys.details, params, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    () => details(params, basePath, accessToken?.access_token || ''),\r\n    {\r\n      ...options,\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n  return result;\r\n};\r\n\r\nexport default useDetails;\r\n","import { useMutation, MutateOptions } from 'react-query';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { create } from 'tapis-api/workflows/identities';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\ntype CreateIdentityHookParams = Workflows.ReqIdentity;\r\n\r\nconst useCreate = () => {\r\n  const { basePath, accessToken } = useTapisConfig();\r\n  const jwt = accessToken?.access_token || '';\r\n\r\n  // The useMutation react-query hook is used to call operations that make server-side changes\r\n  // (Other hooks would be used for data retrieval)\r\n  //\r\n  // In this case, create helper is called to perform the operation\r\n  const { mutate, isLoading, isError, isSuccess, data, error, reset } =\r\n    useMutation<Workflows.RespResourceURL, Error, CreateIdentityHookParams>(\r\n      [QueryKeys.create, basePath, jwt],\r\n      (params) => create({ reqIdentity: params }, basePath, jwt)\r\n    );\r\n\r\n  // Return hook object with loading states and login function\r\n  return {\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    data,\r\n    error,\r\n    reset,\r\n    create: (\r\n      params: CreateIdentityHookParams,\r\n      // react-query options to allow callbacks such as onSuccess\r\n      options?: MutateOptions<\r\n        Workflows.RespResourceURL,\r\n        Error,\r\n        CreateIdentityHookParams\r\n      >\r\n    ) => {\r\n      // Call mutate to trigger a single post-like API operation\r\n      return mutate(params, options);\r\n    },\r\n  };\r\n};\r\n\r\nexport default useCreate;\r\n","import React from 'react';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\nimport { Form, Formik } from 'formik';\r\nimport { FormikInput, Collapse } from 'tapis-ui/_common';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport * as Yup from 'yup';\r\nimport { useList } from 'tapis-hooks/workflows/archives';\r\nimport styles from '../CreatePipelineModel.module.scss';\r\nimport { FormikSelect } from 'tapis-ui/_common/FieldWrapperFormik';\r\n\r\ntype FormProps = {\r\n  onSubmit: (reqPipeline: Workflows.ReqPipeline) => void;\r\n  groupId: string;\r\n};\r\n\r\nconst initialValues: Workflows.ReqPipeline = {\r\n  id: '',\r\n  description: '',\r\n  type: Workflows.EnumPipelineType.Workflow,\r\n  archive_ids: [],\r\n  execution_profile: {\r\n    max_retries: 0,\r\n    max_exec_time: 3600,\r\n    invocation_mode: Workflows.EnumInvocationMode.Async,\r\n    retry_policy: Workflows.EnumRetryPolicy.ExponentialBackoff,\r\n  },\r\n};\r\n\r\nconst baseValidationSchema = {\r\n  id: Yup.string()\r\n    .min(1)\r\n    .max(255)\r\n    .required('An pipeline requires an id')\r\n    .matches(\r\n      /^[a-zA-Z0-9_.-]+$/,\r\n      \"Must contain only alphanumeric characters and the following: '.', '_', '-'\"\r\n    ),\r\n  type: Yup.string()\r\n    .oneOf(Object.values(Workflows.EnumPipelineType))\r\n    .required('type is required'),\r\n  description: Yup.string().min(1).max(1024),\r\n  archive_ids: Yup.array().of(Yup.string()),\r\n  execution_profile: Yup.object({\r\n    max_retries: Yup.number().min(-1).max(1000),\r\n    max_exec_time: Yup.number().min(0),\r\n    retry_policy: Yup.string().oneOf(Object.values(Workflows.EnumRetryPolicy)),\r\n    invocation_mode: Yup.string().oneOf(\r\n      Object.values(Workflows.EnumInvocationMode)\r\n    ),\r\n  }),\r\n  tasks: Yup.array(),\r\n};\r\n\r\nconst validationSchema = Yup.object({\r\n  ...baseValidationSchema,\r\n});\r\n\r\nconst PipelineForm: React.FC<FormProps> = ({ groupId, onSubmit }) => {\r\n  const { data, isLoading, error } = useList({ groupId }); // Fetch the archives\r\n  const archives = data?.result ?? [];\r\n\r\n  return (\r\n    <QueryWrapper isLoading={isLoading} error={error}>\r\n      <Formik\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        enableReinitialize={true}\r\n        onSubmit={onSubmit}\r\n        render={({ values }) => (\r\n          <Form id=\"newpipeline-form\">\r\n            <FormikInput\r\n              name=\"id\"\r\n              label=\"Pipeline id\"\r\n              required={true}\r\n              description={``}\r\n              aria-label=\"Input\"\r\n            />\r\n            <FormikInput\r\n              name=\"description\"\r\n              label=\"Description\"\r\n              required={false}\r\n              description={``}\r\n              aria-label=\"Input\"\r\n              type=\"textarea\"\r\n              value=\"\"\r\n            />\r\n            <FormikInput\r\n              name=\"type\"\r\n              label=\"\"\r\n              value={Workflows.EnumPipelineType.Workflow}\r\n              required={true}\r\n              description={``}\r\n              aria-label=\"Input\"\r\n              type=\"hidden\"\r\n            />\r\n            {/* Support only exists for single archive pipeline for now */}\r\n            <FormikSelect\r\n              name=\"archive_ids[0]\"\r\n              label={'Archive'}\r\n              required={false}\r\n              description={\r\n                'The archive to which pipeline results will be persisted'\r\n              }\r\n              disabled={archives.length === 0}\r\n            >\r\n              <option disabled selected={true} value={''}>\r\n                {archives.length > 0\r\n                  ? ' -- select an option -- '\r\n                  : ' -- no archives availalble -- '}\r\n              </option>\r\n              {Object.values(archives).map((archive) => {\r\n                return <option value={archive.id}>{archive.id}</option>;\r\n              })}\r\n            </FormikSelect>\r\n            <div className={styles['execution-profile']}>\r\n              <Collapse title=\"Execution Profile\">\r\n                <FormikInput\r\n                  name=\"execution_profile.max_retries\"\r\n                  label=\"Max retries\"\r\n                  required={false}\r\n                  description={`How many times the pipeline will run after failing`}\r\n                  aria-label=\"Input\"\r\n                  type=\"number\"\r\n                  disabled\r\n                />\r\n                <FormikInput\r\n                  name=\"execution_profile.max_exec_time\"\r\n                  label=\"Max execution time\"\r\n                  required={false}\r\n                  description={`Max lifetime the pipeline is allowed to run`}\r\n                  aria-label=\"Input\"\r\n                  type=\"number\"\r\n                  disabled\r\n                />\r\n                <FormikSelect\r\n                  name=\"execution_profile.invocation_mode\"\r\n                  label={'Invocation mode'}\r\n                  required={false}\r\n                  description={\r\n                    \"Affects task execution concurrency. Option 'sync' results serial task execution.\"\r\n                  }\r\n                  disabled\r\n                >\r\n                  {/* TODO enable sync invo mode when implemented */}\r\n                  {Object.values(Workflows.EnumInvocationMode).map((mode) => {\r\n                    return (\r\n                      <option\r\n                        value={mode}\r\n                        disabled={mode === Workflows.EnumInvocationMode.Sync}\r\n                      >\r\n                        {mode}\r\n                      </option>\r\n                    );\r\n                  })}\r\n                </FormikSelect>\r\n                <FormikSelect\r\n                  name=\"execution_profile.retry_policy\"\r\n                  label={'Retry policy'}\r\n                  required={false}\r\n                  description={'Backoff algorithm'}\r\n                  disabled\r\n                >\r\n                  {Object.values(Workflows.EnumRetryPolicy).map((policy) => {\r\n                    return <option value={policy}>{policy}</option>;\r\n                  })}\r\n                </FormikSelect>\r\n              </Collapse>\r\n            </div>\r\n          </Form>\r\n        )}\r\n      />\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\nexport default PipelineForm;\r\n","import React, { useCallback } from 'react';\r\nimport { Button } from 'reactstrap';\r\nimport { SubmitWrapper } from 'tapis-ui/_wrappers';\r\nimport { GenericModal } from 'tapis-ui/_common';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { useCreate } from 'tapis-hooks/workflows/pipelines';\r\nimport styles from './CreatePipelineModel.module.scss';\r\nimport { PipelineForm } from './_components';\r\nimport { default as queryKeys } from 'tapis-hooks/workflows/pipelines/queryKeys';\r\nimport { useQueryClient } from 'react-query';\r\n\r\ntype CreatePipelineModalProps = {\r\n  toggle: () => void;\r\n  groupId: string;\r\n};\r\n\r\nconst CreatePipelineModal: React.FC<CreatePipelineModalProps> = ({\r\n  groupId,\r\n  toggle,\r\n}) => {\r\n  const { create, isLoading, isSuccess, error } = useCreate();\r\n  const queryClient = useQueryClient();\r\n\r\n  const onSuccess = useCallback(() => {\r\n    queryClient.invalidateQueries(queryKeys.list);\r\n  }, [queryClient]);\r\n\r\n  const onSubmit = (reqPipeline: Workflows.ReqPipeline) => {\r\n    create({ groupId: groupId!, reqPipeline }, { onSuccess });\r\n  };\r\n\r\n  return (\r\n    <GenericModal\r\n      toggle={toggle}\r\n      title=\"Create Pipeline\"\r\n      size=\"lg\"\r\n      body={\r\n        <div className={styles['pipeline-form-container']}>\r\n          <PipelineForm onSubmit={onSubmit} groupId={groupId} />\r\n        </div>\r\n      }\r\n      footer={\r\n        <SubmitWrapper\r\n          isLoading={isLoading}\r\n          error={error}\r\n          success={isSuccess ? `Successfully created pipeline` : ''}\r\n          reverse={true}\r\n        >\r\n          <Button\r\n            form=\"newpipeline-form\"\r\n            color=\"primary\"\r\n            disabled={isLoading || isSuccess}\r\n            aria-label=\"Submit\"\r\n            type=\"submit\"\r\n          >\r\n            Create Pipeline\r\n          </Button>\r\n        </SubmitWrapper>\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default CreatePipelineModal;\r\n","import { Workflows } from '@tapis/tapis-typescript';\r\nimport { FormikInput } from 'tapis-ui/_common';\r\n\r\ntype DetailsProps = {\r\n  type: Workflows.EnumTaskType;\r\n};\r\n\r\nconst Details: React.FC<DetailsProps> = ({ type }) => {\r\n  return (\r\n    <div id={`details`}>\r\n      <FormikInput\r\n        name={`id`}\r\n        label=\"task id\"\r\n        required={true}\r\n        description={``}\r\n        aria-label=\"Input\"\r\n        value=\"\"\r\n      />\r\n      <FormikInput\r\n        name={`description`}\r\n        label=\"description\"\r\n        required={false}\r\n        description={``}\r\n        aria-label=\"Input\"\r\n        type=\"textarea\"\r\n        value=\"\"\r\n      />\r\n      <FormikInput\r\n        name={`type`}\r\n        label=\"type\"\r\n        required={true}\r\n        description=\"\"\r\n        aria-label=\"Input\"\r\n        type=\"hidden\"\r\n        value={type}\r\n      />\r\n      {/* Input */}\r\n      {/* Output */}\r\n      {/* Dependencies */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Details;\r\n","import { useFormikContext } from 'formik';\r\nimport React, { useEffect } from 'react';\r\nimport * as Yup from 'yup';\r\nimport { useImageBuildTaskContext } from '../ImageBuildTask/ImageBuildTask';\r\n\r\nexport type State = any;\r\n\r\ntype RetType = {\r\n  state: State;\r\n  validationSchema: Yup.AnyObjectSchema;\r\n};\r\n\r\nexport type ValidationSchema = Partial<Yup.AnyObjectSchema>;\r\n\r\nexport type Mutator = (\r\n  state: State,\r\n  validationSchema: ValidationSchema\r\n) => RetType;\r\n\r\ntype Before = Mutator;\r\ntype After = Mutator;\r\n\r\ntype WithFormUpdateProps = React.PropsWithChildren<{}> & {\r\n  update: Before;\r\n  remove: After;\r\n};\r\n\r\nconst WithFormUpdates: React.FC<WithFormUpdateProps> = ({\r\n  children,\r\n  update,\r\n  remove,\r\n}) => {\r\n  const { context } = useImageBuildTaskContext();\r\n  const { values } = useFormikContext();\r\n\r\n  useEffect(() => {\r\n    const mutators = { update, remove };\r\n\r\n    const mutate = (\r\n      type: 'update' | 'remove',\r\n      state: object,\r\n      validationSchema: Partial<Yup.AnyObjectSchema>\r\n    ) => {\r\n      let { state: modifiedState, validationSchema: modifiedValidationSchema } =\r\n        mutators[type](state, validationSchema);\r\n      context.setInitialValues(modifiedState);\r\n      context.setValidationSchema(modifiedValidationSchema);\r\n    };\r\n    let state = JSON.parse(JSON.stringify(values)); // Deep copy\r\n    mutate('update', state, context.validationSchema);\r\n    return () => {\r\n      mutate('remove', state, context.validationSchema);\r\n    };\r\n  }, [context.validationSchema, values, context, update, remove]);\r\n  return <>{children}</>;\r\n};\r\n\r\nexport default WithFormUpdates;\r\n","import { Workflows } from '@tapis/tapis-typescript';\r\nimport { Form, Formik } from 'formik';\r\nimport React, { useContext, useState } from 'react';\r\nimport * as Yup from 'yup';\r\nimport { Details } from '../_common';\r\nimport { Builder, Context, Destination } from './';\r\nimport styles from './ImageBuildTask.module.scss';\r\n\r\ntype ImageBuildTaskProps = {\r\n  onSubmit: (\r\n    // Note: Requires the type of initialValues to fully satisfy the type below.\r\n    // Because the type changes as we modify initial values, we use any\r\n    reqTask: any\r\n  ) => void;\r\n};\r\n\r\n// Note: Type hack. \"builder\" from string | null to string\r\ntype InitialValues = Partial<\r\n  Omit<Workflows.ReqImageBuildTask, 'builder'> & {\r\n    builder: string;\r\n  }\r\n>;\r\n\r\ntype ImageBuildContextType = {\r\n  initialValues: InitialValues;\r\n  setInitialValues: React.Dispatch<any>;\r\n  validationSchema: Partial<Yup.ObjectSchema<any>>;\r\n  setValidationSchema: React.Dispatch<any>;\r\n};\r\nexport const ImageBuildContext = React.createContext(\r\n  {} as ImageBuildContextType\r\n);\r\n\r\nexport const useImageBuildTaskContext = () => {\r\n  return { context: useContext(ImageBuildContext) };\r\n};\r\n\r\nconst WithImageBuildContext: React.FC<ImageBuildTaskProps> = ({ onSubmit }) => {\r\n  const defaultInitialValues = {\r\n    id: '',\r\n    description: '',\r\n    type: Workflows.EnumTaskType.ImageBuild,\r\n    builder: '',\r\n    cache: false,\r\n  };\r\n\r\n  const defaultValidationSchema = Yup.object().shape({\r\n    id: Yup.string()\r\n      .min(1)\r\n      .max(255)\r\n      .required('A task requires an id')\r\n      .matches(\r\n        /^[a-zA-Z0-9_.-]+$/,\r\n        \"Must contain only alphanumeric characters and the following: '.', '_', '-'\"\r\n      ),\r\n    type: Yup.string()\r\n      .oneOf(Object.values(Workflows.EnumTaskType))\r\n      .required('type is required'),\r\n    description: Yup.string().min(1).max(1024),\r\n    builder: Yup.string()\r\n      .oneOf(Object.values(Workflows.EnumBuilder))\r\n      .required('builder is required'),\r\n    cache: Yup.boolean(),\r\n    execution_profile: Yup.object({\r\n      max_retries: Yup.number().min(-1).max(1000),\r\n      max_exec_time: Yup.number().min(0),\r\n      retry_policy: Yup.string().oneOf(\r\n        Object.values(Workflows.EnumRetryPolicy)\r\n      ),\r\n      invocation_mode: Yup.string().oneOf(\r\n        Object.values(Workflows.EnumInvocationMode)\r\n      ),\r\n    }),\r\n    context: Yup.object({}).required('context is required'),\r\n    destination: Yup.object({}).required('destination is required'),\r\n  });\r\n  const [initialValues, setInitialValues] = useState(defaultInitialValues);\r\n  const [validationSchema, setValidationSchema] = useState<Yup.AnyObjectSchema>(\r\n    defaultValidationSchema\r\n  );\r\n\r\n  return (\r\n    <ImageBuildContext.Provider\r\n      value={{\r\n        initialValues,\r\n        setInitialValues,\r\n        validationSchema,\r\n        setValidationSchema,\r\n      }}\r\n    >\r\n      <ImageBuildTask onSubmit={onSubmit} />\r\n    </ImageBuildContext.Provider>\r\n  );\r\n};\r\n\r\nconst ImageBuildTask: React.FC<ImageBuildTaskProps> = ({ onSubmit }) => {\r\n  const { context } = useImageBuildTaskContext();\r\n\r\n  return (\r\n    <div id={`task-form`} className={styles['container']}>\r\n      <Formik\r\n        initialValues={context.initialValues}\r\n        validationSchema={context.validationSchema}\r\n        onSubmit={onSubmit}\r\n        enableReinitialize\r\n      >\r\n        <Form id=\"newtask-form\">\r\n          <p>Image Build Task</p>\r\n          <div>\r\n            <Details type={Workflows.EnumTaskType.ImageBuild} />\r\n            <Builder />\r\n          </div>\r\n          <div className={styles['section']}>\r\n            <h2>Context</h2>\r\n            <Context />\r\n          </div>\r\n          <div className={styles['section']}>\r\n            <h2>Destination</h2>\r\n            <Destination />\r\n          </div>\r\n        </Form>\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WithImageBuildContext;\r\n","import React from 'react';\r\nimport { FormikInput } from 'tapis-ui/_common';\r\nimport styles from './Credentials.module.scss';\r\n\r\ntype DockerhubCredentialsProps = {\r\n  scope: 'context' | 'destination';\r\n};\r\n\r\nconst DockerhubCredentials: React.FC<DockerhubCredentialsProps> = ({\r\n  scope,\r\n}) => {\r\n  return (\r\n    <div id={`${scope}-credentials-details`} className={styles['grid-2']}>\r\n      <FormikInput\r\n        name={`${scope}.credentials.username`}\r\n        label=\"username\"\r\n        required={true}\r\n        description={`Dockerhub username`}\r\n        aria-label=\"Input\"\r\n      />\r\n      <FormikInput\r\n        name={`${scope}.credentials.token`}\r\n        label=\"access token\"\r\n        required={true}\r\n        description={`Access token`}\r\n        aria-label=\"Input\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DockerhubCredentials;\r\n","import React from 'react';\r\nimport { FormikInput } from 'tapis-ui/_common';\r\nimport styles from './Credentials.module.scss';\r\n\r\ntype GithubCredentialsProps = {\r\n  scope: 'context' | 'destination';\r\n};\r\n\r\nconst GithubCredentials: React.FC<GithubCredentialsProps> = ({ scope }) => {\r\n  return (\r\n    <div id={`${scope}-credentials-details`} className={styles['grid-2']}>\r\n      <FormikInput\r\n        name={`${scope}.credentials.username`}\r\n        label=\"username\"\r\n        required={true}\r\n        description={`Github username`}\r\n        aria-label=\"Input\"\r\n      />\r\n      <FormikInput\r\n        name={`${scope}.credentials.personal_access_token`}\r\n        label=\"personal access token\"\r\n        required={true}\r\n        description={`Personal access token`}\r\n        aria-label=\"Input\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GithubCredentials;\r\n","import { Workflows } from '@tapis/tapis-typescript';\r\nimport React from 'react';\r\nimport * as Yup from 'yup';\r\nimport { DockerhubCredentials, GithubCredentials } from '.';\r\nimport { WithFormUpdates } from '../../_common';\r\nimport { Mutator } from '../../_common/WithFormUpdates';\r\n\r\ntype CredentialsProps = {\r\n  type: Workflows.EnumContextType | Workflows.EnumDestinationType;\r\n  scope: 'context' | 'destination';\r\n};\r\n\r\nconst Credentials: React.FC<CredentialsProps> = ({ scope, type }) => {\r\n  const removeMutator: Mutator = (state, validationSchema) => {\r\n    if (state[scope]?.credentials !== undefined) {\r\n      delete state[scope].credentials;\r\n    }\r\n\r\n    return {\r\n      state,\r\n      validationSchema: validationSchema.shape!({\r\n        [scope]: Yup.reach(validationSchema, scope).shape({\r\n          credentials: undefined,\r\n        }),\r\n      }),\r\n    };\r\n  };\r\n  switch (type) {\r\n    case Workflows.EnumContextType.Dockerhub:\r\n    case Workflows.EnumDestinationType.Dockerhub:\r\n      return (\r\n        <WithFormUpdates\r\n          update={(state, validationSchema) => {\r\n            const modifiedState = {\r\n              ...state,\r\n              [scope]: {\r\n                ...state[scope],\r\n                credentials: {\r\n                  username: '',\r\n                  token: '',\r\n                },\r\n              },\r\n            };\r\n            return {\r\n              state: modifiedState,\r\n              validationSchema: validationSchema.shape!({\r\n                [scope]: Yup.reach(validationSchema, scope).shape({\r\n                  credentials: Yup.object({\r\n                    username: Yup.string()\r\n                      .min(1)\r\n                      .max(128)\r\n                      .required('username is required'),\r\n                    token: Yup.string()\r\n                      .min(1)\r\n                      .max(512)\r\n                      .required('Dockerhub access token is required'),\r\n                  }),\r\n                }),\r\n              }),\r\n            };\r\n          }}\r\n          remove={removeMutator}\r\n        >\r\n          <DockerhubCredentials scope={scope} />\r\n        </WithFormUpdates>\r\n      );\r\n    case Workflows.EnumContextType.Github:\r\n      return (\r\n        <WithFormUpdates\r\n          update={(state, validationSchema) => {\r\n            const modifiedState = {\r\n              ...state,\r\n              [scope]: {\r\n                ...state[scope],\r\n                credentials: {\r\n                  username: '',\r\n                  personal_access_token: '',\r\n                },\r\n              },\r\n            };\r\n            return {\r\n              state: modifiedState,\r\n              validationSchema: validationSchema.shape!({\r\n                [scope]: Yup.reach(validationSchema, scope).shape({\r\n                  credentials: Yup.object({\r\n                    username: Yup.string()\r\n                      .min(1)\r\n                      .max(128)\r\n                      .required('username is required'),\r\n                    personal_access_token: Yup.string()\r\n                      .min(1)\r\n                      .max(512)\r\n                      .required('Github personal access token is required'),\r\n                  }),\r\n                }),\r\n              }),\r\n            };\r\n          }}\r\n          remove={removeMutator}\r\n        >\r\n          <GithubCredentials scope={scope} />\r\n        </WithFormUpdates>\r\n      );\r\n    default:\r\n      return <>Invalid credential type</>;\r\n  }\r\n};\r\n\r\nexport default Credentials;\r\n","import React, { useState } from 'react';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { Credentials, IdentitySelect } from '.';\r\nimport styles from './CredentialsSourceSelect.module.scss';\r\n\r\ntype CredentialsSourceSelectProps = {\r\n  type: Workflows.EnumContextType | Workflows.EnumDestinationType;\r\n  scope: 'context' | 'destination';\r\n};\r\n\r\nconst CredentialsSourceSelect: React.FC<CredentialsSourceSelectProps> = ({\r\n  type,\r\n  scope,\r\n}) => {\r\n  const [identityAsCreds, setIdentityAsCreds] = useState<boolean | undefined>(\r\n    undefined\r\n  );\r\n  return (\r\n    <div id=\"credentials-source-select\">\r\n      <h2>Credential Source</h2>\r\n      <div className={styles['radio-button-container']}>\r\n        <label>\r\n          <input\r\n            type=\"radio\"\r\n            checked={identityAsCreds === false}\r\n            defaultChecked={false}\r\n            onClick={() => {\r\n              setIdentityAsCreds(false);\r\n            }}\r\n          />{' '}\r\n          Provide credentials\r\n        </label>\r\n      </div>\r\n      <div className={styles['radio-button-container']}>\r\n        <label>\r\n          <input\r\n            type=\"radio\"\r\n            checked={identityAsCreds === true}\r\n            defaultChecked={false}\r\n            onClick={() => {\r\n              setIdentityAsCreds(true);\r\n            }}\r\n          />{' '}\r\n          Use an external identity\r\n        </label>\r\n      </div>\r\n      {identityAsCreds !== undefined &&\r\n        (identityAsCreds ? (\r\n          <IdentitySelect scope={scope} type={type} />\r\n        ) : (\r\n          <Credentials scope={scope} type={type} />\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CredentialsSourceSelect;\r\n","import { Workflows } from '@tapis/tapis-typescript';\r\nimport React from 'react';\r\nimport { useList } from 'tapis-hooks/workflows/identities';\r\nimport { FormikSelect } from 'tapis-ui/_common/FieldWrapperFormik';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\nimport * as Yup from 'yup';\r\nimport { WithFormUpdates } from '../../_common';\r\nimport { State, ValidationSchema } from '../../_common/WithFormUpdates';\r\n\r\ntype Scope = 'context' | 'destination';\r\ntype IdentitySelectProps = {\r\n  type: Workflows.EnumContextType | Workflows.EnumDestinationType;\r\n  scope: Scope;\r\n};\r\n\r\nconst IdentitySelect: React.FC<IdentitySelectProps> = ({ scope, type }) => {\r\n  const { data, isLoading, error } = useList();\r\n  const identities = data?.result ?? [];\r\n\r\n  const update = (\r\n    state: State,\r\n    validationSchema: ValidationSchema,\r\n    scope: Scope\r\n  ) => {\r\n    state[scope]['identity_uuid'] = '';\r\n    return {\r\n      state,\r\n      validationSchema: validationSchema.shape!({\r\n        context: Yup.reach(validationSchema, 'context').shape({\r\n          identity_uuid: Yup.string().uuid().required('Choose an identity'),\r\n        }),\r\n      }),\r\n    };\r\n  };\r\n\r\n  const remove = (\r\n    state: State,\r\n    validationSchema: ValidationSchema,\r\n    scope: Scope\r\n  ) => {\r\n    let scopeObject = state[scope];\r\n    delete scopeObject.identity_uuid;\r\n    return {\r\n      state,\r\n      validationSchema: validationSchema.shape!({\r\n        context: Yup.reach(validationSchema, 'context').shape({\r\n          identity_uuid: undefined,\r\n        }),\r\n      }),\r\n    };\r\n  };\r\n\r\n  const identitiesByType = (type: string) =>\r\n    identities.filter((ident) => ident.type === type);\r\n\r\n  return (\r\n    <WithFormUpdates\r\n      update={(state, validationSchema) =>\r\n        update(state, validationSchema, scope)\r\n      }\r\n      remove={(state, validationSchema) =>\r\n        remove(state, validationSchema, scope)\r\n      }\r\n    >\r\n      <QueryWrapper isLoading={isLoading} error={error}>\r\n        <FormikSelect\r\n          name={`${scope}.identity_uuid`}\r\n          label={'identity'}\r\n          required={true}\r\n          description={\r\n            'Note: This identity will be used on every run of this pipeline.'\r\n          }\r\n          disabled={identitiesByType(type).length === 0}\r\n        >\r\n          <option disabled selected={true} value={''}>\r\n            {identitiesByType(type).length > 0\r\n              ? ' -- select an option -- '\r\n              : ` -- no ${type} identities found -- `}\r\n          </option>\r\n          {identitiesByType(type).map((identity) => {\r\n            return (\r\n              <option\r\n                key={`${scope}-identity-${identity.uuid}`}\r\n                value={identity.uuid}\r\n              >\r\n                {identity.name}\r\n              </option>\r\n            );\r\n          })}\r\n        </FormikSelect>\r\n      </QueryWrapper>\r\n    </WithFormUpdates>\r\n  );\r\n};\r\n\r\nexport default IdentitySelect;\r\n","import { Workflows } from '@tapis/tapis-typescript';\r\nimport { useFormikContext } from 'formik';\r\nimport React, { useState } from 'react';\r\nimport { FormikSelect } from 'tapis-ui/_common/FieldWrapperFormik';\r\nimport { CredentialsSourceSelect } from '../../Credentials';\r\n\r\ntype VisibilitySelectProps = {\r\n  type: Workflows.EnumContextType;\r\n};\r\n\r\nconst VisibilitySelect: React.FC<VisibilitySelectProps> = ({ type }) => {\r\n  const [visibility, setVisibility] = useState<string>('');\r\n  const { setFieldValue } = useFormikContext();\r\n\r\n  return (\r\n    <div id=\"context-visibility\">\r\n      <h2>Visibility & Credentials</h2>\r\n      <FormikSelect\r\n        name={`context.visibility`}\r\n        label={'visibility'}\r\n        required={true}\r\n        description={'Note: Private sources require credentials to access'}\r\n        onChange={(e) => {\r\n          setVisibility(e.target.value);\r\n          setFieldValue('context.visibility', e.target.value);\r\n        }}\r\n      >\r\n        <option disabled selected={true} value={''}>\r\n          -- select an option --\r\n        </option>\r\n        {Object.values(Workflows.EnumContextVisibility).map((vis) => {\r\n          return (\r\n            <option\r\n              key={`context-visiblity-${vis}`}\r\n              selected={visibility === vis}\r\n              value={vis}\r\n            >\r\n              {vis}\r\n            </option>\r\n          );\r\n        })}\r\n      </FormikSelect>\r\n      {visibility === 'private' && (\r\n        <CredentialsSourceSelect scope={'context'} type={type} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VisibilitySelect;\r\n","import { Workflows } from '@tapis/tapis-typescript';\r\nimport React from 'react';\r\nimport { FormikInput } from 'tapis-ui/_common';\r\nimport styles from './Context.module.scss';\r\nimport { VisibilitySelect } from './VisibilitySelect';\r\n\r\nconst DockerhubContext: React.FC = () => {\r\n  return (\r\n    <div id=\"context-details\">\r\n      <div className={styles['grid-2']}>\r\n        <FormikInput\r\n          name={`context.url`}\r\n          label=\"url\"\r\n          required={true}\r\n          description={`URL of the image registry. Follows the format \"<user>/<registry_name>\"`}\r\n          aria-label=\"Input\"\r\n        />\r\n        <FormikInput\r\n          name={`context.tag`}\r\n          label=\"image tag\"\r\n          required={true}\r\n          description={`The version of the image to be pulled`}\r\n          aria-label=\"Input\"\r\n        />\r\n      </div>\r\n      <VisibilitySelect type={Workflows.EnumContextType.Dockerhub} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DockerhubContext;\r\n","import React from 'react';\r\n\r\nconst LocalContext: React.FC = () => {\r\n  return <>Unsupported</>;\r\n};\r\n\r\nexport default LocalContext;\r\n","import React from 'react';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { FormikInput } from 'tapis-ui/_common';\r\nimport styles from './Context.module.scss';\r\nimport { VisibilitySelect } from './VisibilitySelect';\r\n\r\nconst GithubContext: React.FC = () => {\r\n  return (\r\n    <div id=\"context-details\">\r\n      <div className={styles['grid-2']}>\r\n        <FormikInput\r\n          name={`context.url`}\r\n          label=\"url\"\r\n          required={true}\r\n          description={`URL of the Github repository. Follows the format \"<user>/<repo_name>\"`}\r\n          aria-label=\"Input\"\r\n        />\r\n        <FormikInput\r\n          name={`context.branch`}\r\n          label=\"branch\"\r\n          required={true}\r\n          description={`Git branch`}\r\n          aria-label=\"Input\"\r\n        />\r\n        <FormikInput\r\n          name={`context.build_file_path`}\r\n          placeholder={`Ex: \"src/Dockerfile\"`}\r\n          label=\"build file path\"\r\n          required={true}\r\n          description={`Path the build file in the source code.`}\r\n          aria-label=\"Input\"\r\n        />\r\n        <FormikInput\r\n          name={`context.sub_path`}\r\n          placeholder={'Ex. src/'}\r\n          label=\"sub path\"\r\n          required={false}\r\n          description={`Build context path. The directory in the source code to build from.`}\r\n          aria-label=\"Input\"\r\n        />\r\n      </div>\r\n      <VisibilitySelect type={Workflows.EnumContextType.Github} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GithubContext;\r\n","import React from 'react';\r\n\r\nconst GitlabContext: React.FC = () => {\r\n  return <>Unsupported</>;\r\n};\r\n\r\nexport default GitlabContext;\r\n","import React, { useState } from 'react';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport {\r\n  GithubContext,\r\n  DockerhubContext,\r\n  LocalContext,\r\n  GitlabContext,\r\n} from '.';\r\nimport { Button, Input } from 'reactstrap';\r\nimport { FieldWrapper, FormikInput, Icon } from 'tapis-ui/_common';\r\nimport styles from './Context.module.scss';\r\nimport { WithFormUpdates } from '../../_common';\r\nimport * as Yup from 'yup';\r\nimport { Mutator } from '../../_common/WithFormUpdates';\r\n\r\nconst Context: React.FC = () => {\r\n  const [type, setType] = useState<string>('');\r\n  const removeMutator: Mutator = (state, validationSchema) => {\r\n    delete state.context;\r\n    return {\r\n      state,\r\n      validationSchema: validationSchema.shape!({\r\n        context: Yup.object().required('context is required'),\r\n      }),\r\n    };\r\n  };\r\n  let ContextComponent = <></>;\r\n  switch (type) {\r\n    case Workflows.EnumContextType.Github:\r\n      ContextComponent = (\r\n        <WithFormUpdates\r\n          update={(state, validationSchema) => {\r\n            const modifiedState = {\r\n              ...state,\r\n              context: {\r\n                url: '',\r\n                branch: '',\r\n                build_file_path: '',\r\n                sub_path: '',\r\n                visibility: '',\r\n                type,\r\n              },\r\n            };\r\n            return {\r\n              state: modifiedState,\r\n              validationSchema: validationSchema.shape!({\r\n                context: Yup.object({\r\n                  url: Yup.string()\r\n                    .required('url is required')\r\n                    .min(1)\r\n                    .max(1024),\r\n                  branch: Yup.string()\r\n                    .required('branch is required')\r\n                    .min(1)\r\n                    .max(256),\r\n                  build_file_path: Yup.string()\r\n                    .required('must provide a path to the build file')\r\n                    .min(1)\r\n                    .max(512),\r\n                  sub_path: Yup.string().min(1).max(512),\r\n                  visibility: Yup.string()\r\n                    .required('visibility is required')\r\n                    .oneOf(Object.values(Workflows.EnumContextVisibility)),\r\n                  type: Yup.string()\r\n                    .required('type is required')\r\n                    .oneOf(Object.values(Workflows.EnumContextType)),\r\n                }).required('context is required'),\r\n              }),\r\n            };\r\n          }}\r\n          remove={removeMutator}\r\n        >\r\n          <GithubContext />\r\n        </WithFormUpdates>\r\n      );\r\n      break;\r\n    case Workflows.EnumContextType.Dockerhub:\r\n      ContextComponent = (\r\n        <WithFormUpdates\r\n          update={(state, validationSchema) => {\r\n            const modifiedState = {\r\n              ...state,\r\n              context: {\r\n                url: '',\r\n                image_tag: '',\r\n                type,\r\n              },\r\n            };\r\n            return {\r\n              state: modifiedState,\r\n              validationSchema: validationSchema.shape!({\r\n                context: Yup.object({\r\n                  url: Yup.string()\r\n                    .required('url is required')\r\n                    .min(1)\r\n                    .max(1024),\r\n                  image_tag: Yup.string()\r\n                    .required('image tag is required')\r\n                    .min(1)\r\n                    .max(256),\r\n                  type: Yup.string()\r\n                    .required('type is required')\r\n                    .oneOf(Object.values(Workflows.EnumContextType)),\r\n                }).required('context is required'),\r\n              }),\r\n            };\r\n          }}\r\n          remove={removeMutator}\r\n        >\r\n          <DockerhubContext />\r\n        </WithFormUpdates>\r\n      );\r\n      break;\r\n    case Workflows.EnumContextType.Local:\r\n      ContextComponent = <LocalContext />;\r\n      break;\r\n    case Workflows.EnumContextType.Gitlab:\r\n      ContextComponent = <GitlabContext />;\r\n      break;\r\n    default:\r\n      ContextComponent = <></>;\r\n  }\r\n\r\n  return (\r\n    <div id=\"context-input-set\">\r\n      <div className={styles['grid-2-auto-auto']}>\r\n        <FieldWrapper\r\n          label={'source'}\r\n          required={true}\r\n          description={'The source of the image build'}\r\n        >\r\n          <Input\r\n            type=\"select\"\r\n            disabled={type !== ''}\r\n            onChange={(e) => setType(e.target.value)}\r\n          >\r\n            <option disabled selected={type === ''} value={''}>\r\n              {' '}\r\n              -- select an option --{' '}\r\n            </option>\r\n            {Object.values(Workflows.EnumContextType).map((type) => {\r\n              // TODO Remove when all supported\r\n              const supported = ['github', 'dockerhub'];\r\n              return (\r\n                <option\r\n                  key={`context-type-${type}`}\r\n                  disabled={!supported.includes(type)}\r\n                  value={type}\r\n                >\r\n                  {type}\r\n                </option>\r\n              );\r\n            })}\r\n          </Input>\r\n        </FieldWrapper>\r\n        <FormikInput\r\n          name={`context.type`}\r\n          value={type}\r\n          label=\"\"\r\n          required={true}\r\n          description={``}\r\n          type=\"hidden\"\r\n          aria-label=\"Input\"\r\n        />\r\n        {type && (\r\n          <Button\r\n            type=\"button\"\r\n            color=\"danger\"\r\n            className={styles['button']}\r\n            onClick={() => type && setType('')}\r\n          >\r\n            <Icon name=\"trash\" /> remove\r\n          </Button>\r\n        )}\r\n      </div>\r\n      {ContextComponent}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Context;\r\n","import React from 'react';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { FormikInput } from 'tapis-ui/_common';\r\nimport { CredentialsSourceSelect } from '../Credentials';\r\nimport styles from './Destination.module.scss';\r\n\r\nconst DockerhubDestination: React.FC = () => {\r\n  return (\r\n    <div id=\"destination-details\">\r\n      <div className={styles['grid-2']}>\r\n        <FormikInput\r\n          name={`destination.url`}\r\n          label=\"url\"\r\n          required={true}\r\n          description={`URL of the image registry. Follows the format \"<user>/<registry_name>\"`}\r\n          aria-label=\"Input\"\r\n        />\r\n        <FormikInput\r\n          name={`destination.tag`}\r\n          label=\"image tag\"\r\n          required={true}\r\n          description={`The version of the image to be pulled`}\r\n          aria-label=\"Input\"\r\n        />\r\n      </div>\r\n      <div id=\"destination-credentials\">\r\n        <CredentialsSourceSelect\r\n          scope={'destination'}\r\n          type={Workflows.EnumDestinationType.Dockerhub}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DockerhubDestination;\r\n","import React from 'react';\r\nimport { FormikInput } from 'tapis-ui/_common';\r\nimport styles from './Destination.module.scss';\r\n\r\nconst LocalDestination: React.FC = () => {\r\n  return (\r\n    <div id=\"Destination-details\">\r\n      <div className={styles['grid-2']}>\r\n        <FormikInput\r\n          name={`destination.filename`}\r\n          placeholder={`\"my_image.tar.gz\" or \"my_mage.SIF\"`}\r\n          label=\"filename\"\r\n          required={false}\r\n          description={`Name for the image file produced by this task. Will default to the name provided by the image builder if none provided.`}\r\n          aria-label=\"Input\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LocalDestination;\r\n","import { Workflows } from '@tapis/tapis-typescript';\r\nimport React, { useState } from 'react';\r\nimport { Button, Input } from 'reactstrap';\r\nimport { FieldWrapper, Icon } from 'tapis-ui/_common';\r\nimport { DockerhubDestination, LocalDestination } from '.';\r\nimport { WithFormUpdates } from '../../_common';\r\nimport styles from './Destination.module.scss';\r\nimport * as Yup from 'yup';\r\nimport { Mutator } from '../../_common/WithFormUpdates';\r\n\r\nconst DestinationSet: React.FC = () => {\r\n  const [type, setType] = useState<string>('');\r\n\r\n  const removeMutator: Mutator = (state, validationSchema) => {\r\n    delete state.destination;\r\n    return {\r\n      state,\r\n      validationSchema: validationSchema.shape!({\r\n        destiantion: Yup.object().required('destination is required'),\r\n      }),\r\n    };\r\n  };\r\n\r\n  let DestinationComponent = <></>;\r\n  switch (type) {\r\n    case Workflows.EnumDestinationType.Local:\r\n      DestinationComponent = (\r\n        <WithFormUpdates\r\n          update={(state, validationSchema) => {\r\n            const modifiedState = {\r\n              ...state,\r\n              destination: {\r\n                filename: '',\r\n                type,\r\n              },\r\n            };\r\n            return {\r\n              state: modifiedState,\r\n              validationSchema: validationSchema.shape!({\r\n                destination: Yup.object({\r\n                  filename: Yup.string()\r\n                    .required('filename is required')\r\n                    .min(1)\r\n                    .max(1024),\r\n                  type: Yup.string()\r\n                    .required('type is required')\r\n                    .oneOf(Object.values(Workflows.EnumDestinationType)),\r\n                }).required('destination is required'),\r\n              }),\r\n            };\r\n          }}\r\n          remove={removeMutator}\r\n        >\r\n          <LocalDestination />\r\n        </WithFormUpdates>\r\n      );\r\n      break;\r\n    case Workflows.EnumDestinationType.Dockerhub:\r\n      DestinationComponent = (\r\n        <WithFormUpdates\r\n          update={(state, validationSchema) => {\r\n            // NOTE!!! When setting the destination prop via \"state.destination = ...\",\r\n            // why does the destination property not show when logging \"state\" to the console but\r\n            // does show the value of \"state.destination\" when logging to the console? Does\r\n            // \"state.destination\" become its own object\r\n            const modifiedState = {\r\n              ...state,\r\n              destination: {\r\n                url: '',\r\n                tag: '',\r\n                type,\r\n              },\r\n            };\r\n            return {\r\n              state: modifiedState,\r\n              validationSchema: validationSchema.shape!({\r\n                destination: Yup.object({\r\n                  url: Yup.string()\r\n                    .required('url is required')\r\n                    .min(1)\r\n                    .max(2048),\r\n                  tag: Yup.string().required('tag is required').min(1).max(128),\r\n                  type: Yup.string()\r\n                    .required('type is required')\r\n                    .oneOf(Object.values(Workflows.EnumDestinationType)),\r\n                }).required('destination is required'),\r\n              }),\r\n            };\r\n          }}\r\n          remove={removeMutator}\r\n        >\r\n          <DockerhubDestination />\r\n        </WithFormUpdates>\r\n      );\r\n      break;\r\n    default:\r\n      DestinationComponent = <></>;\r\n  }\r\n\r\n  return (\r\n    <div id=\"destination-input-set\">\r\n      <div className={styles['grid-2-auto-auto']}>\r\n        <FieldWrapper\r\n          label={'destination'}\r\n          required={true}\r\n          description={'Where the image build will be persisted'}\r\n        >\r\n          <Input\r\n            type=\"select\"\r\n            disabled={type !== ''}\r\n            onChange={(e) => setType(e.target.value)}\r\n          >\r\n            <option disabled selected={type === ''} value={''}>\r\n              {' '}\r\n              -- select an option --{' '}\r\n            </option>\r\n            {Object.values(Workflows.EnumDestinationType).map((type) => {\r\n              return (\r\n                <option key={`destination-${type}`} value={type}>\r\n                  {type}\r\n                </option>\r\n              );\r\n            })}\r\n          </Input>\r\n        </FieldWrapper>\r\n        {type && (\r\n          <Button\r\n            type=\"button\"\r\n            color=\"danger\"\r\n            className={styles['button']}\r\n            onClick={() => type && setType('')}\r\n          >\r\n            <Icon name=\"trash\" /> remove\r\n          </Button>\r\n        )}\r\n      </div>\r\n      {DestinationComponent}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DestinationSet;\r\n","import React, { useState } from 'react';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { FormikSelect } from 'tapis-ui/_common/FieldWrapperFormik';\r\nimport styles from './Builder.module.scss';\r\nimport { Field, useFormikContext } from 'formik';\r\n\r\nconst Builder: React.FC = () => {\r\n  const [type, setType] = useState<string | null>(null);\r\n  const [cacheChecked, setCacheChecked] = useState<boolean>(false);\r\n  const { setFieldValue } = useFormikContext();\r\n\r\n  return (\r\n    <div className={styles['grid-2']}>\r\n      <FormikSelect\r\n        name={`builder`}\r\n        label={'image builder'}\r\n        required={true}\r\n        description={\r\n          'Select \"kaniko\" for Docker images and \"singularity\" for Singularity images'\r\n        }\r\n        onChange={(e) => {\r\n          setType(e.target.value);\r\n          setFieldValue('builder', e.target.value);\r\n          if (e.target.value === Workflows.EnumBuilder.Singularity) {\r\n            setCacheChecked(false);\r\n            setFieldValue('cache', false);\r\n          }\r\n        }}\r\n      >\r\n        <option disabled selected={type === null} value={''}>\r\n          -- select an option --\r\n        </option>\r\n        {Object.values(Workflows.EnumBuilder).map((builder) => {\r\n          return (\r\n            <option value={builder} selected={type === builder}>\r\n              {builder}\r\n            </option>\r\n          );\r\n        })}\r\n      </FormikSelect>\r\n      <label>\r\n        <Field\r\n          type=\"checkbox\"\r\n          name={`cache`}\r\n          disabled={type === Workflows.EnumBuilder.Singularity}\r\n          onClick={() => setCacheChecked(!cacheChecked)}\r\n          checked={cacheChecked}\r\n        />{' '}\r\n        enable layer caching\r\n      </label>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Builder;\r\n","import React from 'react';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { Details } from '../_common';\r\n// import styles from '../../Task.module.scss';\r\nimport { FormikSelect } from 'tapis-ui/_common/FieldWrapperFormik';\r\nimport { FormikInput } from 'tapis-ui/_common';\r\nimport { Form, Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\n\r\nconst RequestTask: React.FC<{ onSubmit: any }> = ({ onSubmit }) => {\r\n  const initialValues = {\r\n    id: '',\r\n    description: '',\r\n    type: Workflows.EnumTaskType.Request,\r\n    http_method: '',\r\n    url: '',\r\n  };\r\n  const validationSchema = Yup.object();\r\n\r\n  return (\r\n    <div id={`request-task`}>\r\n      <Formik\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        onSubmit={onSubmit}\r\n        enableReinitialize\r\n      >\r\n        <Form id=\"newtask-form\">\r\n          <p>Request Task</p>\r\n          <Details type={Workflows.EnumTaskType.Request} />\r\n          <FormikSelect\r\n            name={`http_method`}\r\n            label={'http method'}\r\n            required={true}\r\n            description={'GET, POST, PUT, PATCH, DELETE'}\r\n          >\r\n            <option disabled selected={true} value={''}>\r\n              -- select an option --\r\n            </option>\r\n            {Object.values(Workflows.EnumHTTPMethod).map((method) => {\r\n              // TODO Remove when supported\r\n              const supported = ['get'];\r\n              return (\r\n                <option disabled={!supported.includes(method)} value={method}>\r\n                  {method.toString().toUpperCase()}\r\n                </option>\r\n              );\r\n            })}\r\n          </FormikSelect>\r\n          <FormikInput\r\n            name={`url`}\r\n            label=\"url\"\r\n            required={true}\r\n            description={`URL to which to send the request (without query string)`}\r\n            aria-label=\"Input\"\r\n          />\r\n        </Form>\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RequestTask;\r\n","import React from 'react';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { ImageBuildTask, RequestTask } from '.';\r\n\r\ntype TaskProps = {\r\n  type: string;\r\n  onSubmit: (reqTask: Workflows.ReqTask) => void;\r\n};\r\n\r\nconst Task: React.FC<TaskProps> = ({ type, onSubmit }) => {\r\n  switch (type) {\r\n    case Workflows.EnumTaskType.ImageBuild:\r\n      return <ImageBuildTask onSubmit={onSubmit} />;\r\n    case Workflows.EnumTaskType.Request:\r\n      return <RequestTask onSubmit={onSubmit} />;\r\n    default:\r\n      return <>Unsupported task type</>;\r\n  }\r\n};\r\n\r\nexport default Task;\r\n","import React, { useState } from 'react';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { FieldWrapper } from 'tapis-ui/_common';\r\nimport { Button, Input } from 'reactstrap';\r\nimport styles from '../CreateTaskModal.module.scss';\r\n\r\ntype TaskTypeSelectorProps = {\r\n  setType: any;\r\n};\r\n\r\nconst TaskTypeSelector: React.FC<TaskTypeSelectorProps> = ({ setType }) => {\r\n  const [selected, setSelected] = useState<string>('');\r\n  return (\r\n    <div className={styles['tasks-section-last']}>\r\n      <div className={styles['add-task']}>\r\n        <FieldWrapper label={'New task'} required={false} description={''}>\r\n          <Input\r\n            type=\"select\"\r\n            onChange={(e) => {\r\n              setSelected(e.target.value);\r\n            }}\r\n          >\r\n            <option disabled selected={selected === ''} value={''}>\r\n              {' '}\r\n              -- select an option --{' '}\r\n            </option>\r\n            {Object.values(Workflows.EnumTaskType).map((type) => {\r\n              // TODO Remove when all supported\r\n              const supported = ['image_build', 'request'];\r\n              return (\r\n                <option\r\n                  disabled={!supported.includes(type)}\r\n                  key={`option-${type}`}\r\n                  value={type}\r\n                >\r\n                  {type}\r\n                </option>\r\n              );\r\n            })}\r\n          </Input>\r\n        </FieldWrapper>\r\n        <Button\r\n          type=\"button\"\r\n          className={styles['add-button']}\r\n          onClick={() => {\r\n            selected && setType(selected);\r\n          }}\r\n        >\r\n          + Add task\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TaskTypeSelector;\r\n","import { Workflows } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst create = (\r\n  params: Workflows.CreateTaskRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Workflows.TasksApi = apiGenerator<Workflows.TasksApi>(\r\n    Workflows,\r\n    Workflows.TasksApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Workflows.RespResourceURL>(() => api.createTask(params));\r\n};\r\n\r\nexport default create;\r\n","const QueryKeys = {\r\n  create: 'workflows/tasks/create',\r\n};\r\n\r\nexport default QueryKeys;\r\n","import { useMutation, MutateOptions } from 'react-query';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { create } from 'tapis-api/workflows/tasks';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\ntype CreateTaskHookParams = Workflows.CreateTaskRequest;\r\n\r\nconst useCreate = () => {\r\n  const { basePath, accessToken } = useTapisConfig();\r\n  const jwt = accessToken?.access_token || '';\r\n\r\n  // The useMutation react-query hook is used to call operations that make server-side changes\r\n  // (Other hooks would be used for data retrieval)\r\n  //\r\n  // In this case, create helper is called to perform the operation\r\n  const { mutate, isLoading, isError, isSuccess, data, error, reset } =\r\n    useMutation<Workflows.RespResourceURL, Error, CreateTaskHookParams>(\r\n      [QueryKeys.create, basePath, jwt],\r\n      (params) => create(params, basePath, jwt)\r\n    );\r\n\r\n  // Return hook object with loading states and login function\r\n  return {\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    data,\r\n    error,\r\n    reset,\r\n    create: (\r\n      params: CreateTaskHookParams,\r\n      // react-query options to allow callbacks such as onSuccess\r\n      options?: MutateOptions<\r\n        Workflows.RespResourceURL,\r\n        Error,\r\n        CreateTaskHookParams\r\n      >\r\n    ) => {\r\n      // Call mutate to trigger a single post-like API operation\r\n      return mutate(params, options);\r\n    },\r\n  };\r\n};\r\n\r\nexport default useCreate;\r\n","import React, { useCallback, useState } from 'react';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { GenericModal } from 'tapis-ui/_common';\r\nimport { Button } from 'reactstrap';\r\nimport { SubmitWrapper } from 'tapis-ui/_wrappers';\r\nimport styles from './CreateTaskModal.module.scss';\r\nimport { Task } from './_components/forms';\r\nimport { TaskTypeSelector } from './_components';\r\nimport { useCreate } from 'tapis-hooks/workflows/tasks';\r\nimport { default as queryKeys } from 'tapis-hooks/workflows/pipelines/queryKeys';\r\nimport { useQueryClient } from 'react-query';\r\n\r\ntype CreateTaskModalProps = {\r\n  toggle: () => void;\r\n  groupId?: string;\r\n  pipelineId?: string;\r\n};\r\n\r\nconst CreateTaskModal: React.FC<CreateTaskModalProps> = ({\r\n  toggle,\r\n  groupId,\r\n  pipelineId,\r\n}) => {\r\n  const { create, isLoading, isSuccess, error } = useCreate();\r\n  const queryClient = useQueryClient();\r\n\r\n  const onSuccess = useCallback(() => {\r\n    queryClient.invalidateQueries(queryKeys.details);\r\n  }, [queryClient]);\r\n\r\n  const [type, setType] = useState<string>('');\r\n  // const [ validationSchema, setValidationSchema ] = useState<Yup.ObjectSchema<any>|undefined>(undefined)\r\n  // const [ initialValues, setInitialValues ] = useState<Workflows.ReqTask|undefined>(undefined)\r\n  const onSubmit = (reqTask: Workflows.ReqTask) => {\r\n    create(\r\n      { groupId: groupId!, pipelineId: pipelineId!, reqTask },\r\n      { onSuccess }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <GenericModal\r\n      toggle={toggle}\r\n      size=\"lg\"\r\n      title=\"Create Task\"\r\n      body={\r\n        <div className={styles['form-container']}>\r\n          {type ? (\r\n            <Task type={type} onSubmit={onSubmit} />\r\n          ) : (\r\n            <TaskTypeSelector setType={setType} />\r\n          )}\r\n        </div>\r\n      }\r\n      footer={\r\n        <SubmitWrapper\r\n          isLoading={isLoading}\r\n          error={error}\r\n          success={isSuccess ? `Successfully created task` : ''}\r\n          reverse={true}\r\n        >\r\n          <Button\r\n            form=\"newtask-form\"\r\n            color=\"primary\"\r\n            disabled={isLoading || isSuccess}\r\n            aria-label=\"Submit\"\r\n            type=\"submit\"\r\n          >\r\n            Create Task\r\n          </Button>\r\n        </SubmitWrapper>\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default CreateTaskModal;\r\n","import React, { useCallback } from 'react';\r\nimport { Button } from 'reactstrap';\r\nimport { SubmitWrapper } from 'tapis-ui/_wrappers';\r\nimport { Form, Formik, FieldArray, Field } from 'formik';\r\nimport { FormikInput, GenericModal, Icon } from 'tapis-ui/_common';\r\nimport { useCreate } from 'tapis-hooks/workflows/groups';\r\nimport styles from './CreateGroupModal.module.scss';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport * as Yup from 'yup';\r\nimport { default as queryKeys } from 'tapis-hooks/workflows/groups/queryKeys';\r\nimport { useQueryClient } from 'react-query';\r\n\r\ntype CreateGroupModalProps = {\r\n  toggle: () => void;\r\n};\r\n\r\nconst CreateGroupModal: React.FC<CreateGroupModalProps> = ({ toggle }) => {\r\n  const { create, isLoading, error, isSuccess } = useCreate();\r\n  const queryClient = useQueryClient();\r\n\r\n  const onSuccess = useCallback(() => {\r\n    queryClient.invalidateQueries(queryKeys.list);\r\n  }, [queryClient]);\r\n\r\n  const validationSchema = Yup.object({\r\n    groupId: Yup.string()\r\n      .min(1)\r\n      .max(255, 'Group id cannot be longer than 255 characters')\r\n      .matches(\r\n        /^[a-zA-Z0-9_.-]+$/,\r\n        \"Must contain only alphanumeric characters and the following: '.', '_', '-'\"\r\n      )\r\n      .required('groupId is a required field'),\r\n    users: Yup.array().of(\r\n      Yup.object().shape({\r\n        username: Yup.string()\r\n          .min(1)\r\n          .max(128)\r\n          .required('Username must be provided'),\r\n        is_admin: Yup.bool().default(false),\r\n      })\r\n    ),\r\n  });\r\n\r\n  const initialValues = {\r\n    groupId: '',\r\n    users: [],\r\n  };\r\n\r\n  type CreateGroupFormProps = {\r\n    groupId: string;\r\n    users: Array<Workflows.ReqGroupUser>;\r\n  };\r\n\r\n  const onSubmit = ({ groupId, users }: CreateGroupFormProps) => {\r\n    create({ id: groupId, users }, { onSuccess });\r\n  };\r\n\r\n  return (\r\n    <GenericModal\r\n      toggle={toggle}\r\n      title=\"Create Group\"\r\n      body={\r\n        <div>\r\n          <Formik\r\n            initialValues={initialValues}\r\n            validationSchema={validationSchema}\r\n            onSubmit={onSubmit}\r\n            render={({ values }) => (\r\n              <Form id=\"newgroup-form\">\r\n                <FormikInput\r\n                  name=\"groupId\"\r\n                  label=\"Group Id\"\r\n                  required={true}\r\n                  description={`Creates a new group`}\r\n                  aria-label=\"Input\"\r\n                />\r\n                <FieldArray\r\n                  name=\"users\"\r\n                  render={(arrayHelpers) => (\r\n                    <div>\r\n                      <h2>Users</h2>\r\n                      <i className={styles['subheader']}>\r\n                        Note: You are automatically added as an admin to this\r\n                        group\r\n                      </i>\r\n                      <div className={styles['user-inputs']}>\r\n                        {values.users.length > 0 &&\r\n                          values.users.map((_, index) => (\r\n                            <div key={index} className={styles['user-input']}>\r\n                              <FormikInput\r\n                                name={`users.${index}.username`}\r\n                                label=\"Username\"\r\n                                required={true}\r\n                                description={`TAPIS username`}\r\n                                aria-label=\"Input\"\r\n                              />\r\n                              <label>\r\n                                <Field\r\n                                  type=\"checkbox\"\r\n                                  name={`users.${index}.is_admin`}\r\n                                />{' '}\r\n                                is admin?\r\n                              </label>\r\n                              <Button\r\n                                className={styles['remove-button']}\r\n                                type=\"button\"\r\n                                color=\"danger\"\r\n                                onClick={() => arrayHelpers.remove(index)}\r\n                                size=\"sm\"\r\n                              >\r\n                                <Icon name=\"trash\" />\r\n                              </Button>\r\n                            </div>\r\n                          ))}\r\n                      </div>\r\n                      <Button\r\n                        type=\"button\"\r\n                        className={styles['add-button']}\r\n                        onClick={() =>\r\n                          arrayHelpers.push({ username: '', is_admin: false })\r\n                        }\r\n                      >\r\n                        + Add user\r\n                      </Button>\r\n                    </div>\r\n                  )}\r\n                />\r\n              </Form>\r\n            )}\r\n          ></Formik>\r\n        </div>\r\n      }\r\n      footer={\r\n        <SubmitWrapper\r\n          isLoading={isLoading}\r\n          error={error}\r\n          success={isSuccess ? `Successfully created group` : ''}\r\n          reverse={true}\r\n        >\r\n          <Button\r\n            form=\"newgroup-form\"\r\n            color=\"primary\"\r\n            disabled={isLoading || isSuccess}\r\n            aria-label=\"Submit\"\r\n            type=\"submit\"\r\n          >\r\n            Create Group\r\n          </Button>\r\n        </SubmitWrapper>\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default CreateGroupModal;\r\n","import React, { useState, useCallback } from 'react';\r\nimport { Input, Button } from 'reactstrap';\r\nimport { QueryWrapper, SubmitWrapper } from 'tapis-ui/_wrappers';\r\nimport { Form, Formik } from 'formik';\r\nimport { FormikInput, FieldWrapper, GenericModal } from 'tapis-ui/_common';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport * as Yup from 'yup';\r\nimport { useCreate } from 'tapis-hooks/workflows/archives';\r\nimport { useList } from 'tapis-hooks/systems';\r\nimport styles from './CreateArchiveModel.module.scss';\r\nimport { FormikSelect } from 'tapis-ui/_common/FieldWrapperFormik';\r\nimport { default as queryKeys } from 'tapis-hooks/workflows/archives/queryKeys';\r\nimport { useQueryClient } from 'react-query';\r\n\r\ntype FormProps = {\r\n  onSubmit: (reqArchive: Workflows.ReqArchive) => void;\r\n};\r\n\r\nconst baseValidationSchema = {\r\n  id: Yup.string()\r\n    .min(1)\r\n    .max(255)\r\n    .required('An archive requires an id')\r\n    .matches(\r\n      /^[a-zA-Z0-9_.-]+$/,\r\n      \"Must contain only alphanumeric characters and the following: '.', '_', '-'\"\r\n    ),\r\n  type: Yup.string()\r\n    .oneOf(Object.values(Workflows.EnumArchiveType))\r\n    .required('Select an archive type'),\r\n};\r\n\r\nconst S3ArchiveForm: React.FC<FormProps> = ({ onSubmit }) => {\r\n  // const validationSchema = Yup.object({\r\n  //   ...baseValidationSchema,\r\n  // })\r\n\r\n  return (\r\n    <div>\r\n      <p>Archives of type S3 are not yet supported</p>\r\n      {/* <Formik\r\n        initialValues={{\r\n          id: \"\",\r\n          type: Workflows.EnumArchiveType.System,\r\n        }}\r\n        validationSchema={validationSchema}\r\n        onSubmit={onSubmit}\r\n      >\r\n      <Form id=\"newarchive-form\">\r\n          <FormikInput\r\n            name=\"type\"\r\n            value={Workflows.EnumArchiveType.S3}\r\n            label=\"\"\r\n            required={true}\r\n            description={\"\"}\r\n            aria-label=\"Input\"\r\n            type=\"hidden\"\r\n            />\r\n          <FormikInput\r\n            name=\"type\"\r\n            value={Workflows.EnumArchiveType.S3}\r\n            label=\"\"\r\n            required={true}\r\n            description={\"\"}\r\n            aria-label=\"Input\"\r\n            type=\"hidden\"\r\n          />\r\n          <FormikInput\r\n            name=\"id\"\r\n            label=\"Id\"\r\n            required={true}\r\n            description={`Id for the archive`}\r\n            aria-label=\"Input\"\r\n            />\r\n          <FormikInput\r\n          name=\"description\"\r\n          label=\"Description\"\r\n          required={false}\r\n          description={\"\"}\r\n          aria-label=\"Input\"\r\n          type=\"textarea\"\r\n          />\r\n          \r\n          <h2>Credentials</h2>\r\n          <FormikInput\r\n          name=\"credentials.username\"\r\n          label=\"Github username\"\r\n          required={true}\r\n          description={`Username for Github`}\r\n          aria-label=\"Input\"\r\n          />\r\n          <FormikInput\r\n          name=\"credentials.personal_access_token\"\r\n          label=\"Personal access token\"\r\n          required={true}\r\n          description={`Personal access token for Github`}\r\n          aria-label=\"Input\"\r\n          />\r\n          </Form>\r\n        </Formik> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TapisSystemArchiveForm: React.FC<FormProps> = ({ onSubmit }) => {\r\n  const { data, isLoading, error } = useList({ limit: -1 }); // Fetch the systems\r\n  const systems = data?.result ?? [];\r\n\r\n  const validationSchema = Yup.object({\r\n    ...baseValidationSchema,\r\n    system_id: Yup.string()\r\n      .min(1)\r\n      .max(255)\r\n      .required('An Tapis System archive requires a system_id')\r\n      .matches(\r\n        /^[a-zA-Z0-9_.-]+$/,\r\n        \"Must contain only alphanumeric characters and the following: '.', '_', '-'\"\r\n      ),\r\n    archive_dir: Yup.string().min(1).max(255),\r\n  });\r\n\r\n  return (\r\n    <QueryWrapper isLoading={isLoading} error={error}>\r\n      <Formik\r\n        initialValues={{\r\n          id: '',\r\n          description: '',\r\n          type: Workflows.EnumArchiveType.System,\r\n          system_id: '',\r\n          archive_dir: '/',\r\n        }}\r\n        validationSchema={validationSchema}\r\n        onSubmit={onSubmit}\r\n      >\r\n        <Form id=\"newarchive-form\">\r\n          <FormikInput\r\n            name=\"type\"\r\n            value={Workflows.EnumArchiveType.System}\r\n            label=\"\"\r\n            required={true}\r\n            description={''}\r\n            aria-label=\"Input\"\r\n            type=\"hidden\"\r\n          />\r\n          <FormikInput\r\n            name=\"id\"\r\n            label=\"Archive id\"\r\n            required={true}\r\n            description={``}\r\n            aria-label=\"Input\"\r\n          />\r\n          <FormikSelect\r\n            name=\"system_id\"\r\n            label={'Tapis system'}\r\n            required={true}\r\n            description={'A Tapis system'}\r\n          >\r\n            <option disabled selected>\r\n              -- select a system --\r\n            </option>\r\n            ;\r\n            {Object.values(systems).map((system) => {\r\n              return <option value={system.id}>{system.id}</option>;\r\n            })}\r\n          </FormikSelect>\r\n          <FormikInput\r\n            name=\"archive_dir\"\r\n            label=\"Archive directory\"\r\n            required={false}\r\n            description={`Directory on the Tapis system to which pipeline run artifacts will be archived. Defaults to the \"rootDir\" of the system.`}\r\n            aria-label=\"Input\"\r\n          />\r\n        </Form>\r\n      </Formik>\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\ntype CreateArchiveModalProps = {\r\n  toggle: () => void;\r\n  groupId: string;\r\n};\r\n\r\nconst CreateArchiveModal: React.FC<CreateArchiveModalProps> = ({\r\n  groupId,\r\n  toggle,\r\n}) => {\r\n  const { create, isLoading, isSuccess, error } = useCreate();\r\n  const [selectedType, setSelectedType] = useState<string | undefined>(\r\n    undefined\r\n  );\r\n  const queryClient = useQueryClient();\r\n\r\n  const onSuccess = useCallback(() => {\r\n    queryClient.invalidateQueries(queryKeys.list);\r\n  }, [queryClient]);\r\n\r\n  const renderArchiveForm = useCallback(() => {\r\n    const onSubmit = (reqArchive: Workflows.ReqArchive) => {\r\n      create({ groupId: groupId!, reqArchive }, { onSuccess });\r\n    };\r\n\r\n    switch (selectedType) {\r\n      case Workflows.EnumArchiveType.System:\r\n        return <TapisSystemArchiveForm onSubmit={onSubmit} />;\r\n      case Workflows.EnumArchiveType.S3:\r\n        return <S3ArchiveForm onSubmit={onSubmit} />;\r\n    }\r\n  }, [selectedType, create, groupId, onSuccess]);\r\n\r\n  return (\r\n    <GenericModal\r\n      toggle={toggle}\r\n      title=\"Create Archive\"\r\n      body={\r\n        <div className={styles['archive-form-container']}>\r\n          <FieldWrapper label={'Archive type'} required={true} description={''}>\r\n            <Input\r\n              type=\"select\"\r\n              onChange={(e) => {\r\n                setSelectedType(e.target.value);\r\n              }}\r\n            >\r\n              <option\r\n                disabled\r\n                selected={selectedType === undefined}\r\n                value={undefined}\r\n              >\r\n                {' '}\r\n                -- select an option --{' '}\r\n              </option>\r\n              {Object.values(Workflows.EnumArchiveType).map((type) => {\r\n                return (\r\n                  <option selected={selectedType === type} value={type}>\r\n                    {type}\r\n                  </option>\r\n                );\r\n              })}\r\n            </Input>\r\n          </FieldWrapper>\r\n          {renderArchiveForm()}\r\n        </div>\r\n      }\r\n      footer={\r\n        <SubmitWrapper\r\n          isLoading={isLoading}\r\n          error={error}\r\n          success={isSuccess ? `Successfully created archive` : ''}\r\n          reverse={true}\r\n        >\r\n          <Button\r\n            form=\"newarchive-form\"\r\n            color=\"primary\"\r\n            disabled={isLoading || isSuccess}\r\n            aria-label=\"Submit\"\r\n            type=\"submit\"\r\n          >\r\n            Create Archive\r\n          </Button>\r\n        </SubmitWrapper>\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default CreateArchiveModal;\r\n","import React, { useState, useCallback } from 'react';\r\nimport { Input, Button } from 'reactstrap';\r\nimport { SubmitWrapper } from 'tapis-ui/_wrappers';\r\nimport { Form, Formik } from 'formik';\r\nimport { FormikInput, FieldWrapper, GenericModal } from 'tapis-ui/_common';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport * as Yup from 'yup';\r\nimport { useCreate } from 'tapis-hooks/workflows/identities';\r\nimport styles from './CreateIdentityModel.module.scss';\r\nimport { default as queryKeys } from 'tapis-hooks/workflows/identities/queryKeys';\r\nimport { useQueryClient } from 'react-query';\r\n\r\ntype CreateIdentityFormProps = {\r\n  name: string;\r\n  description?: string;\r\n  type: Workflows.EnumIdentityType;\r\n  credentials: Workflows.ReqGithubCred | Workflows.ReqDockerhubCred;\r\n};\r\n\r\ntype FormProps = {\r\n  onSubmit: any;\r\n};\r\n\r\nconst baseValidationSchema = {\r\n  name: Yup.string()\r\n    .min(1)\r\n    .max(255)\r\n    .required('An identity requires a name')\r\n    .matches(\r\n      /^[a-zA-Z0-9_.-]+$/,\r\n      \"Must contain only alphanumeric characters and the following: '.', '_', '-'\"\r\n    ),\r\n  description: Yup.string().min(1).max(512),\r\n  type: Yup.string()\r\n    .oneOf(Object.values(Workflows.EnumIdentityType))\r\n    .required('Select an identity type'),\r\n};\r\n\r\nconst GithubIdentityForm: React.FC<FormProps> = ({ onSubmit }) => {\r\n  const validationSchema = Yup.object({\r\n    ...baseValidationSchema,\r\n    credentials: Yup.object({\r\n      username: Yup.string()\r\n        .min(1)\r\n        .max(128)\r\n        .required(`Github username is required`),\r\n      personal_access_token: Yup.string()\r\n        .min(1)\r\n        .max(1024)\r\n        .required('Personal access token is required'),\r\n    }),\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <Formik\r\n        initialValues={{\r\n          name: '',\r\n          description: '',\r\n          type: Workflows.EnumIdentityType.Github,\r\n          credentials: {\r\n            personal_access_token: '',\r\n            username: '',\r\n          },\r\n        }}\r\n        validationSchema={validationSchema}\r\n        onSubmit={onSubmit}\r\n      >\r\n        <Form id=\"newidentity-form\">\r\n          <FormikInput\r\n            name=\"name\"\r\n            label=\"Name\"\r\n            required={true}\r\n            description={`Display name for the identity`}\r\n            aria-label=\"Input\"\r\n          />\r\n          <FormikInput\r\n            name=\"description\"\r\n            label=\"Description\"\r\n            required={false}\r\n            description={''}\r\n            aria-label=\"Input\"\r\n            type=\"textarea\"\r\n          />\r\n          <FormikInput\r\n            name=\"type\"\r\n            value={Workflows.EnumIdentityType.Github}\r\n            label=\"\"\r\n            required={true}\r\n            description={''}\r\n            aria-label=\"Input\"\r\n            type=\"hidden\"\r\n          />\r\n          <h2>Credentials</h2>\r\n          <FormikInput\r\n            name=\"credentials.username\"\r\n            label=\"Github username\"\r\n            required={true}\r\n            description={`Username for Github`}\r\n            aria-label=\"Input\"\r\n          />\r\n          <FormikInput\r\n            name=\"credentials.personal_access_token\"\r\n            label=\"Personal access token\"\r\n            required={true}\r\n            description={`Personal access token for Github`}\r\n            aria-label=\"Input\"\r\n          />\r\n        </Form>\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst DockerhubIdentityForm: React.FC<FormProps> = ({ onSubmit }) => {\r\n  const validationSchema = Yup.object({\r\n    ...baseValidationSchema,\r\n    credentials: Yup.object({\r\n      username: Yup.string()\r\n        .min(1)\r\n        .max(128)\r\n        .required(`Dockerhub username is required`),\r\n      token: Yup.string().min(1).max(1024).required('Access token is required'),\r\n    }),\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <Formik\r\n        initialValues={{\r\n          name: '',\r\n          description: '',\r\n          type: Workflows.EnumIdentityType.Dockerhub,\r\n          credentials: {\r\n            username: '',\r\n            token: '',\r\n          },\r\n        }}\r\n        validationSchema={validationSchema}\r\n        onSubmit={onSubmit}\r\n      >\r\n        <Form id=\"newidentity-form\">\r\n          <FormikInput\r\n            name=\"name\"\r\n            label=\"Name\"\r\n            required={true}\r\n            description={`Display name for the identity`}\r\n            aria-label=\"Input\"\r\n          />\r\n          <FormikInput\r\n            name=\"description\"\r\n            label=\"Description\"\r\n            required={false}\r\n            description={''}\r\n            aria-label=\"Input\"\r\n            type=\"textarea\"\r\n          />\r\n          <FormikInput\r\n            name=\"type\"\r\n            value={Workflows.EnumIdentityType.Dockerhub}\r\n            label=\"\"\r\n            required={true}\r\n            description={''}\r\n            aria-label=\"Input\"\r\n            type=\"hidden\"\r\n          />\r\n          <h2>Credentials</h2>\r\n          <FormikInput\r\n            name=\"credentials.username\"\r\n            label=\"Dockerhub username\"\r\n            required={true}\r\n            description={`Username for Dockerhub`}\r\n            aria-label=\"Input\"\r\n          />\r\n          <FormikInput\r\n            name=\"credentials.token\"\r\n            label=\"Access token\"\r\n            required={true}\r\n            description={`Access token for Dockerhub`}\r\n            aria-label=\"Input\"\r\n          />\r\n        </Form>\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst CreateIdentityModal: React.FC<{ toggle: () => void }> = ({ toggle }) => {\r\n  const { create, isLoading, isSuccess, error } = useCreate();\r\n  const [selectedType, setSelectedType] = useState<string | undefined>(\r\n    undefined\r\n  );\r\n  const queryClient = useQueryClient();\r\n  const onSuccess = useCallback(() => {\r\n    queryClient.invalidateQueries(queryKeys.list);\r\n  }, [queryClient]);\r\n\r\n  const renderIdentityForm = useCallback(() => {\r\n    const onSubmit = ({\r\n      name,\r\n      type,\r\n      description,\r\n      credentials,\r\n    }: CreateIdentityFormProps) => {\r\n      create({ name, type, description, credentials }, { onSuccess });\r\n    };\r\n\r\n    switch (selectedType) {\r\n      case Workflows.EnumIdentityType.Dockerhub:\r\n        return <DockerhubIdentityForm onSubmit={onSubmit} />;\r\n      case Workflows.EnumIdentityType.Github:\r\n        return <GithubIdentityForm onSubmit={onSubmit} />;\r\n    }\r\n  }, [selectedType, create, onSuccess]);\r\n\r\n  return (\r\n    <GenericModal\r\n      toggle={toggle}\r\n      title=\"Create Identity\"\r\n      body={\r\n        <div className={styles['identity-form-container']}>\r\n          <FieldWrapper\r\n            label={'Identity type'}\r\n            required={true}\r\n            description={''}\r\n          >\r\n            <Input\r\n              type=\"select\"\r\n              onChange={(e) => {\r\n                setSelectedType(e.target.value);\r\n              }}\r\n            >\r\n              <option\r\n                disabled\r\n                selected={selectedType === undefined}\r\n                value={undefined}\r\n              >\r\n                {' '}\r\n                -- select an option --{' '}\r\n              </option>\r\n              {Object.values(Workflows.EnumIdentityType).map((type) => {\r\n                return (\r\n                  <option selected={selectedType === type} value={type}>\r\n                    {type}\r\n                  </option>\r\n                );\r\n              })}\r\n            </Input>\r\n          </FieldWrapper>\r\n          {renderIdentityForm()}\r\n        </div>\r\n      }\r\n      footer={\r\n        <SubmitWrapper\r\n          isLoading={isLoading}\r\n          error={error}\r\n          success={isSuccess ? `Successfully created identity` : ''}\r\n          reverse={true}\r\n        >\r\n          <Button\r\n            form=\"newidentity-form\"\r\n            color=\"primary\"\r\n            disabled={isLoading || isSuccess}\r\n            aria-label=\"Submit\"\r\n            type=\"submit\"\r\n          >\r\n            Create Identity\r\n          </Button>\r\n        </SubmitWrapper>\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default CreateIdentityModal;\r\n","const QueryKeys = {\r\n  list: 'workflows/groups/users/list',\r\n  create: 'workflows/groups/users/create',\r\n  remove: 'workflows/groups/users/remove',\r\n};\r\n\r\nexport default QueryKeys;\r\n","import { Workflows } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst list = (\r\n  params: Workflows.ListGroupUsersRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Workflows.UsersApi = apiGenerator<Workflows.UsersApi>(\r\n    Workflows,\r\n    Workflows.UsersApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Workflows.RespGroupList>(() =>\r\n    api.listGroupUsers(params)\r\n  );\r\n};\r\n\r\nexport default list;\r\n","import { Workflows } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst create = (\r\n  params: Workflows.AddGroupUserRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Workflows.UsersApi = apiGenerator<Workflows.UsersApi>(\r\n    Workflows,\r\n    Workflows.UsersApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Workflows.RespResourceURL>(() =>\r\n    api.addGroupUser(params)\r\n  );\r\n};\r\n\r\nexport default create;\r\n","import { Workflows } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst remove = (\r\n  params: Workflows.RemoveGroupUserRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Workflows.UsersApi = apiGenerator<Workflows.UsersApi>(\r\n    Workflows,\r\n    Workflows.UsersApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Workflows.RespGroupUser>(() =>\r\n    api.removeGroupUser(params)\r\n  );\r\n};\r\n\r\nexport default remove;\r\n","import { useQuery, QueryObserverOptions } from 'react-query';\r\nimport { list } from 'tapis-api/workflows/groupusers';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nconst useList = (\r\n  params: Workflows.ListGroupUsersRequest,\r\n  options: QueryObserverOptions<Workflows.RespGroupUserList, Error> = {}\r\n) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n  const result = useQuery<Workflows.RespGroupUserList, Error>(\r\n    [QueryKeys.list, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    () => list(params, basePath, accessToken?.access_token || ''),\r\n    {\r\n      ...options,\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n  return result;\r\n};\r\n\r\nexport default useList;\r\n","import { useMutation, MutateOptions } from 'react-query';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { create } from 'tapis-api/workflows/groupusers';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\ntype CreateGroupUserHookParams = {\r\n  groupId: string;\r\n  user: Workflows.ReqGroupUser;\r\n};\r\n\r\nconst useCreate = () => {\r\n  const { basePath, accessToken } = useTapisConfig();\r\n  const jwt = accessToken?.access_token || '';\r\n\r\n  // The useMutation react-query hook is used to call operations that make server-side changes\r\n  // (Other hooks would be used for data retrieval)\r\n  //\r\n  // In this case, create helper is called to perform the operation\r\n  const { mutate, isLoading, isError, isSuccess, data, error, reset } =\r\n    useMutation<Workflows.RespResourceURL, Error, CreateGroupUserHookParams>(\r\n      [QueryKeys.create, basePath, jwt],\r\n      (params) =>\r\n        create(\r\n          { groupId: params.groupId, reqGroupUser: params.user },\r\n          basePath,\r\n          jwt\r\n        )\r\n    );\r\n\r\n  // Return hook object with loading states and login function\r\n  return {\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    data,\r\n    error,\r\n    reset,\r\n    create: (\r\n      params: CreateGroupUserHookParams,\r\n      // react-query options to allow callbacks such as onSuccess\r\n      options?: MutateOptions<\r\n        Workflows.RespResourceURL,\r\n        Error,\r\n        CreateGroupUserHookParams\r\n      >\r\n    ) => {\r\n      // Call mutate to trigger a single post-like API operation\r\n      return mutate(params, options);\r\n    },\r\n  };\r\n};\r\n\r\nexport default useCreate;\r\n","import { useMutation, MutateOptions } from 'react-query';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { remove } from 'tapis-api/workflows/groupusers';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\ntype RemoveGroupUserHookParams = {\r\n  groupId: string;\r\n  username: string;\r\n};\r\n\r\nconst useDelete = () => {\r\n  const { basePath, accessToken } = useTapisConfig();\r\n  const jwt = accessToken?.access_token || '';\r\n\r\n  // The useMutation react-query hook is used to call operations that make server-side changes\r\n  // (Other hooks would be used for data retrieval)\r\n  //\r\n  // In this case, move helper is called to perform the operation\r\n  const {\r\n    mutate,\r\n    mutateAsync,\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    data,\r\n    error,\r\n    reset,\r\n  } = useMutation<Workflows.RespGroupUser, Error, RemoveGroupUserHookParams>(\r\n    [QueryKeys.remove, basePath, jwt],\r\n    (params) => remove(params, basePath, jwt)\r\n  );\r\n\r\n  // Return hook object with loading states and login function\r\n  return {\r\n    isLoading,\r\n    isError,\r\n    isSuccess,\r\n    data,\r\n    error,\r\n    reset,\r\n    remove: (\r\n      params: RemoveGroupUserHookParams,\r\n      // react-query options to allow callbacks such as onSuccess\r\n      options?: MutateOptions<\r\n        Workflows.RespGroupUser,\r\n        Error,\r\n        RemoveGroupUserHookParams\r\n      >\r\n    ) => mutate(params, options),\r\n    removeAsync: (\r\n      params: RemoveGroupUserHookParams,\r\n      options?: MutateOptions<\r\n        Workflows.RespGroupUser,\r\n        Error,\r\n        RemoveGroupUserHookParams\r\n      >\r\n    ) => mutateAsync(params, options),\r\n  };\r\n};\r\n\r\nexport default useDelete;\r\n","import React, { useCallback } from 'react';\r\nimport { Button } from 'reactstrap';\r\nimport { SubmitWrapper } from 'tapis-ui/_wrappers';\r\nimport { Form, Formik, FieldArray, Field } from 'formik';\r\nimport { FormikInput, GenericModal, Icon } from 'tapis-ui/_common';\r\nimport { useQueryClient } from 'react-query';\r\nimport { default as queryKeys } from 'tapis-hooks/workflows/groupusers/queryKeys';\r\nimport { useCreate } from 'tapis-hooks/workflows/groupusers';\r\nimport styles from './AddGroupUsersModal.module.scss';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport * as Yup from 'yup';\r\n\r\ntype AddGroupUserModalProps = {\r\n  toggle: () => void;\r\n  groupId: string;\r\n};\r\n\r\nconst AddGroupUsersModal: React.FC<AddGroupUserModalProps> = ({\r\n  toggle,\r\n  groupId,\r\n}) => {\r\n  const { create, isLoading, error, isSuccess } = useCreate();\r\n  const queryClient = useQueryClient();\r\n  const onSuccess = useCallback(() => {\r\n    queryClient.invalidateQueries(queryKeys.list);\r\n  }, [queryClient]);\r\n\r\n  const validationSchema = Yup.object({\r\n    users: Yup.array()\r\n      .of(\r\n        Yup.object().shape({\r\n          username: Yup.string()\r\n            .min(1)\r\n            .max(128)\r\n            .required('Username must be provided'),\r\n          is_admin: Yup.bool().default(false),\r\n        })\r\n      )\r\n      .min(1, 'Must provide at least 1 user'),\r\n  });\r\n\r\n  const initialValues = {\r\n    users: [{ username: '', is_admin: false }],\r\n  };\r\n\r\n  type AddGroupUserFormProps = {\r\n    users: Array<Workflows.ReqGroupUser>;\r\n  };\r\n\r\n  const onSubmit = ({ users }: AddGroupUserFormProps) => {\r\n    create({ groupId: groupId!, user: users[0] }, { onSuccess });\r\n  };\r\n\r\n  return (\r\n    <GenericModal\r\n      toggle={toggle}\r\n      title=\"Add User\"\r\n      body={\r\n        <div>\r\n          <Formik\r\n            initialValues={initialValues}\r\n            validationSchema={validationSchema}\r\n            onSubmit={onSubmit}\r\n            render={({ values }) => (\r\n              <Form id=\"newgroup-form\">\r\n                <h2>Group: {groupId}</h2>\r\n                <FieldArray\r\n                  name=\"users\"\r\n                  render={(arrayHelpers) => (\r\n                    <div>\r\n                      <div className={styles['user-inputs']}>\r\n                        {values.users.length > 0 &&\r\n                          values.users.map((user, index) => (\r\n                            <div key={index} className={styles['user-input']}>\r\n                              <FormikInput\r\n                                name={`users.${index}.username`}\r\n                                label=\"Username\"\r\n                                required={true}\r\n                                description={`TAPIS username`}\r\n                                aria-label=\"Input\"\r\n                              />\r\n                              <label>\r\n                                <Field\r\n                                  type=\"checkbox\"\r\n                                  name={`users.${index}.is_admin`}\r\n                                  checked={user.is_admin}\r\n                                />{' '}\r\n                                is admin?\r\n                              </label>\r\n                              {index !== 0 && (\r\n                                <Button\r\n                                  className={styles['remove-button']}\r\n                                  type=\"button\"\r\n                                  color=\"danger\"\r\n                                  onClick={() => arrayHelpers.remove(index)}\r\n                                  size=\"sm\"\r\n                                >\r\n                                  <Icon name=\"trash\" />\r\n                                </Button>\r\n                              )}\r\n                            </div>\r\n                          ))}\r\n                      </div>\r\n                      {/* TODO Support for adding multiple users\r\n                    <Button\r\n                      type=\"button\"\r\n                      className={styles[\"add-button\"]}\r\n                      onClick={() => arrayHelpers.push({username: \"\", is_admin: false})}>\r\n                        +\r\n                    </Button> */}\r\n                    </div>\r\n                  )}\r\n                />\r\n              </Form>\r\n            )}\r\n          ></Formik>\r\n        </div>\r\n      }\r\n      footer={\r\n        <SubmitWrapper\r\n          isLoading={isLoading}\r\n          error={error}\r\n          success={isSuccess ? `Successfully added user` : ''}\r\n          reverse={true}\r\n        >\r\n          <Button\r\n            form=\"newgroup-form\"\r\n            color=\"primary\"\r\n            disabled={isSuccess || isSuccess}\r\n            aria-label=\"Submit\"\r\n            type=\"submit\"\r\n          >\r\n            Add\r\n          </Button>\r\n        </SubmitWrapper>\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default AddGroupUsersModal;\r\n","import React from 'react';\r\nimport { Button } from 'reactstrap';\r\nimport { SubmitWrapper } from 'tapis-ui/_wrappers';\r\nimport { Form, Formik } from 'formik';\r\nimport { FormikInput, GenericModal } from 'tapis-ui/_common';\r\nimport { useRun } from 'tapis-hooks/workflows/pipelines';\r\nimport styles from './RunPipelineModal.module.scss';\r\nimport * as Yup from 'yup';\r\n\r\ntype RunPipelineModalProps = {\r\n  toggle: () => void;\r\n  groupId: string;\r\n  pipelineId: string;\r\n};\r\n\r\nconst PipelineRunModal: React.FC<RunPipelineModalProps> = ({\r\n  toggle,\r\n  groupId,\r\n  pipelineId,\r\n}) => {\r\n  const { run, isLoading, error, isSuccess } = useRun();\r\n\r\n  const validationSchema = Yup.object({\r\n    groupId: Yup.string()\r\n      .min(1)\r\n      .max(255, 'Group id cannot be longer than 255 characters')\r\n      .matches(\r\n        /^[a-zA-Z0-9_.-]+$/,\r\n        \"Must contain only alphanumeric characters and the following: '.', '_', '-'\"\r\n      )\r\n      .required('groupId is a required field'),\r\n    pipelineId: Yup.string()\r\n      .min(1)\r\n      .max(255, 'Pipeline id cannot be longer than 255 characters')\r\n      .matches(\r\n        /^[a-zA-Z0-9_.-]+$/,\r\n        \"Must contain only alphanumeric characters and the following: '.', '_', '-'\"\r\n      )\r\n      .required('pipelineId is a required field'),\r\n  });\r\n\r\n  const initialValues = {\r\n    groupId,\r\n    pipelineId,\r\n  };\r\n\r\n  type RunPipelineFormProps = {\r\n    groupId: string;\r\n    pipelineId: string;\r\n  };\r\n\r\n  const onSubmit = ({ groupId, pipelineId }: RunPipelineFormProps) => {\r\n    run(\r\n      {\r\n        groupId,\r\n        pipelineId,\r\n        reqRunPipeline: { directives: [] },\r\n      }\r\n      // { onSuccess }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <GenericModal\r\n      toggle={toggle}\r\n      title=\"Run Pipeline\"\r\n      body={\r\n        <div>\r\n          <Formik\r\n            initialValues={initialValues}\r\n            validationSchema={validationSchema}\r\n            onSubmit={onSubmit}\r\n            render={(_) => (\r\n              <Form id=\"runpipeline-form\">\r\n                <div className={styles['grid-2']}>\r\n                  <FormikInput\r\n                    name=\"groupId\"\r\n                    type=\"text\"\r\n                    label={'group id'}\r\n                    required={true}\r\n                    value={groupId}\r\n                    disabled={true}\r\n                    description=\"\"\r\n                    aria-label=\"Input\"\r\n                  />\r\n                  <FormikInput\r\n                    name=\"pipelineId\"\r\n                    type=\"text\"\r\n                    label={'pipeline id'}\r\n                    required={true}\r\n                    description=\"\"\r\n                    value={pipelineId}\r\n                    disabled={true}\r\n                    aria-label=\"Input\"\r\n                  />\r\n                </div>\r\n              </Form>\r\n            )}\r\n          ></Formik>\r\n        </div>\r\n      }\r\n      footer={\r\n        <SubmitWrapper\r\n          isLoading={isLoading}\r\n          error={error}\r\n          success={isSuccess ? `Pipeline run request submitted` : ''}\r\n          reverse={true}\r\n        >\r\n          <Button\r\n            form=\"runpipeline-form\"\r\n            color=\"primary\"\r\n            disabled={isLoading || isSuccess}\r\n            aria-label=\"Submit\"\r\n            type=\"submit\"\r\n          >\r\n            Run Pipeline\r\n          </Button>\r\n        </SubmitWrapper>\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PipelineRunModal;\r\n","import React, { useState } from 'react';\r\nimport { Button } from 'reactstrap';\r\nimport { Icon } from 'tapis-ui/_common';\r\nimport styles from './Toolbar.module.scss';\r\nimport { CreatePipelineModal } from './CreatePipelineModal';\r\nimport { CreateTaskModal } from './CreateTaskModal';\r\nimport { CreateGroupModal } from './CreateGroupModal';\r\nimport { CreateArchiveModal } from './CreateArchiveModal';\r\nimport { CreateIdentityModal } from './CreateIdentityModal';\r\nimport { AddGroupUsersModal } from './AddGroupUsersModal';\r\nimport { RunPipelineModal } from './RunPipelineModal';\r\n\r\ntype ToolbarButtonProps = {\r\n  text: string;\r\n  icon: string;\r\n  onClick: () => void;\r\n  disabled: boolean;\r\n};\r\n\r\nexport const ToolbarButton: React.FC<ToolbarButtonProps> = ({\r\n  text,\r\n  icon,\r\n  onClick,\r\n  disabled = true,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <div>\r\n      <Button\r\n        disabled={disabled}\r\n        onClick={onClick}\r\n        className={styles['toolbar-btn']}\r\n        {...rest}\r\n      >\r\n        <Icon name={icon}></Icon>\r\n        <span> {text}</span>\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\ntype WorkflowsToolbarProps = {\r\n  groupId?: string;\r\n  pipelineId?: string;\r\n  buttons?: Array<string>;\r\n};\r\n\r\nconst Toolbar: React.FC<WorkflowsToolbarProps> = ({\r\n  groupId,\r\n  pipelineId,\r\n  buttons = [],\r\n}) => {\r\n  const [modal, setModal] = useState<string | undefined>(undefined);\r\n\r\n  const toggle = () => {\r\n    setModal(undefined);\r\n  };\r\n\r\n  return (\r\n    <div id=\"pipeline-toolbar\">\r\n      <div className={styles['toolbar-wrapper']}>\r\n        {buttons.includes('creategroup') && (\r\n          <ToolbarButton\r\n            text=\"New Group\"\r\n            icon=\"add\"\r\n            disabled={false}\r\n            onClick={() => setModal('creategroup')}\r\n            aria-label=\"Create group\"\r\n          />\r\n        )}\r\n        {buttons.includes('createpipeline') && (\r\n          <ToolbarButton\r\n            text=\"New Pipeline\"\r\n            icon=\"add\"\r\n            disabled={false}\r\n            onClick={() => setModal('createpipeline')}\r\n            aria-label=\"Create pipeline\"\r\n          />\r\n        )}\r\n        {buttons.includes('createtask') && (\r\n          <ToolbarButton\r\n            text=\"New Task\"\r\n            icon=\"add\"\r\n            disabled={false}\r\n            onClick={() => setModal('createtask')}\r\n            aria-label=\"Create task\"\r\n          />\r\n        )}\r\n        {buttons.includes('createarchive') && (\r\n          <ToolbarButton\r\n            text=\"New Archive\"\r\n            icon=\"add\"\r\n            disabled={false}\r\n            onClick={() => setModal('createarchive')}\r\n            aria-label=\"Create archive\"\r\n          />\r\n        )}\r\n        {buttons.includes('createidentity') && (\r\n          <ToolbarButton\r\n            text=\"New Identity\"\r\n            icon=\"add\"\r\n            disabled={false}\r\n            onClick={() => setModal('createidentity')}\r\n            aria-label=\"Create identity\"\r\n          />\r\n        )}\r\n        {buttons.includes('addgroupuser') && (\r\n          <ToolbarButton\r\n            text=\"Add Users\"\r\n            icon=\"add\"\r\n            disabled={false}\r\n            onClick={() => setModal('addgroupusers')}\r\n            aria-label=\"Add user\"\r\n          />\r\n        )}\r\n        {buttons.includes('runpipeline') && (\r\n          <ToolbarButton\r\n            text=\"Run Pipeline\"\r\n            icon=\"publications\"\r\n            disabled={false}\r\n            onClick={() => setModal('runpipeline')}\r\n            aria-label=\"Add user\"\r\n          />\r\n        )}\r\n        {modal === 'createpipeline' && groupId && (\r\n          <CreatePipelineModal toggle={toggle} groupId={groupId} />\r\n        )}\r\n        {modal === 'createtask' && (\r\n          <CreateTaskModal\r\n            groupId={groupId}\r\n            pipelineId={pipelineId}\r\n            toggle={toggle}\r\n          />\r\n        )}\r\n        {modal === 'runpipeline' && groupId && pipelineId && (\r\n          <RunPipelineModal\r\n            groupId={groupId}\r\n            pipelineId={pipelineId}\r\n            toggle={toggle}\r\n          />\r\n        )}\r\n        {modal === 'creategroup' && <CreateGroupModal toggle={toggle} />}\r\n        {modal === 'createarchive' && groupId && (\r\n          <CreateArchiveModal groupId={groupId} toggle={toggle} />\r\n        )}\r\n        {modal === 'createidentity' && <CreateIdentityModal toggle={toggle} />}\r\n        {modal === 'addgroupusers' && groupId && (\r\n          <AddGroupUsersModal groupId={groupId} toggle={toggle} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Toolbar;\r\n","import React from 'react';\r\nimport { useList } from 'tapis-hooks/workflows/groups';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\nimport { Navbar, NavItem } from 'tapis-ui/_wrappers/Navbar';\r\n\r\ntype GroupsNavProps = {\r\n  baseUrl: string;\r\n};\r\n\r\nconst GroupsNav: React.FC<GroupsNavProps> = ({ baseUrl }) => {\r\n  const { data, isLoading, error } = useList();\r\n  const groups: Array<Workflows.Group> = data?.result ?? [];\r\n\r\n  return (\r\n    <div>\r\n      <QueryWrapper isLoading={isLoading} error={error}>\r\n        <Navbar>\r\n          {groups.length ? (\r\n            groups.map((group) => (\r\n              <NavItem to={`${baseUrl}/${group.id}`} icon=\"user\" key={group.id}>\r\n                {group.id}\r\n              </NavItem>\r\n            ))\r\n          ) : (\r\n            <i>\r\n              No groups found.\r\n              <br />\r\n              <br />\r\n              Create a new group or request access to an existing group from a\r\n              group admin.\r\n            </i>\r\n          )}\r\n        </Navbar>\r\n      </QueryWrapper>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GroupsNav;\r\n","import React from 'react';\r\nimport { Navbar, Nav, NavItem, Collapse, Button } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { Icon } from 'tapis-ui/_common';\r\nimport styles from './Menu.module.scss';\r\n\r\nconst Menu: React.FC = () => {\r\n  return (\r\n    <Navbar color=\"light\" light expand={true}>\r\n      <Collapse isOpen={true} navbar>\r\n        <Nav className=\"me-auto\" navbar>\r\n          <NavItem className={styles['nav-item']}>\r\n            <Link to=\"/workflows\">\r\n              <Button>\r\n                <Icon name=\"dashboard\"></Icon> Dashboard\r\n              </Button>\r\n            </Link>\r\n          </NavItem>\r\n          <NavItem className={styles['nav-item']}>\r\n            <Link to=\"/workflows/pipelines\">\r\n              <Button>\r\n                <Icon name=\"publications\"></Icon> Pipelines\r\n              </Button>\r\n            </Link>\r\n          </NavItem>\r\n          <NavItem className={styles['nav-item']}>\r\n            <Link to=\"/workflows/groups\">\r\n              <Button>\r\n                <Icon name=\"user\"></Icon> Groups\r\n              </Button>\r\n            </Link>\r\n          </NavItem>\r\n          <NavItem className={styles['nav-item']}>\r\n            <Link to=\"/workflows/archives\">\r\n              <Button>\r\n                <Icon name=\"folder\"></Icon> Archives\r\n              </Button>\r\n            </Link>\r\n          </NavItem>\r\n          <NavItem className={styles['nav-item']}>\r\n            <Link to=\"/workflows/identities\">\r\n              <Button>\r\n                <Icon name=\"user\"></Icon> Identities\r\n              </Button>\r\n            </Link>\r\n          </NavItem>\r\n        </Nav>\r\n      </Collapse>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n","import React from 'react';\r\nimport { useList as useListGroups } from 'tapis-hooks/workflows/groups';\r\nimport { useListAll as useListAllPipelines } from 'tapis-hooks/workflows/pipelines';\r\nimport { useListAll as useListAllArchives } from 'tapis-hooks/workflows/archives';\r\nimport { useList as useListIdentities } from 'tapis-hooks/workflows/identities';\r\nimport { Link } from 'react-router-dom';\r\nimport { LoadingSpinner, Icon } from 'tapis-ui/_common';\r\nimport {\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n  CardTitle,\r\n  CardFooter,\r\n  CardText,\r\n} from 'reactstrap';\r\nimport styles from './Dashboard.module.scss';\r\nimport { Toolbar } from '../_components';\r\n\r\ntype DashboardCardProps = {\r\n  icon: string;\r\n  link: string;\r\n  counter: string;\r\n  name: string;\r\n  text: string;\r\n  loading: boolean;\r\n};\r\n\r\nconst DashboardCard: React.FC<DashboardCardProps> = ({\r\n  icon,\r\n  link,\r\n  counter,\r\n  name,\r\n  text,\r\n  loading,\r\n}) => {\r\n  return (\r\n    <Card className={styles.card}>\r\n      <CardHeader>\r\n        <div className={styles['card-header']}>\r\n          <div>\r\n            <Icon name={icon} className=\"dashboard__card-icon\" />\r\n          </div>\r\n          <div>{name}</div>\r\n        </div>\r\n      </CardHeader>\r\n      <CardBody>\r\n        <CardTitle tag=\"h5\">\r\n          {loading ? (\r\n            <LoadingSpinner placement=\"inline\" />\r\n          ) : (\r\n            <div>{counter}</div>\r\n          )}\r\n        </CardTitle>\r\n        <CardText>{text}</CardText>\r\n      </CardBody>\r\n      <CardFooter className={styles['card-footer']}>\r\n        <Link to={link}>Go to {name}</Link>\r\n        <Icon name=\"push-right\" />\r\n      </CardFooter>\r\n    </Card>\r\n  );\r\n};\r\n\r\nconst Dashboard: React.FC = () => {\r\n  const groups = useListGroups();\r\n  const groupIds: Array<string> = [];\r\n  groups.data?.result.map((group) => groupIds.push(group.id!));\r\n  const identities = useListIdentities();\r\n  const archives = useListAllArchives({ groupIds });\r\n  const pipelines = useListAllPipelines({ groupIds });\r\n\r\n  return (\r\n    <div id=\"dashboard\">\r\n      <Toolbar buttons={['creategroup', 'createidentity']} />\r\n      <div id=\"dashboard-cards\" className={styles['card-container']}>\r\n        <DashboardCard\r\n          icon=\"publications\"\r\n          name=\"Pipelines\"\r\n          text=\"View Workflow pipelines\"\r\n          link=\"/workflows/pipelines\"\r\n          counter={`${pipelines?.data?.result?.length} pipelines`}\r\n          loading={pipelines?.isLoading}\r\n        />\r\n        <DashboardCard\r\n          icon=\"user\"\r\n          name=\"Groups\"\r\n          text=\"View Workflow groups\"\r\n          link=\"/workflows/groups\"\r\n          counter={`${groups?.data?.result?.length} groups`}\r\n          loading={groups?.isLoading}\r\n        />\r\n        <DashboardCard\r\n          icon=\"folder\"\r\n          name=\"Archives\"\r\n          text=\"View Workflow groups\"\r\n          link=\"/workflows/archives\"\r\n          counter={`${archives?.data?.result?.length} archives`}\r\n          loading={archives?.isLoading}\r\n        />\r\n        <DashboardCard\r\n          icon=\"user\"\r\n          name=\"Identities\"\r\n          text=\"View Workflow identities\"\r\n          link=\"/workflows/identities\"\r\n          counter={`${identities?.data?.result?.length} identities`}\r\n          loading={identities?.isLoading}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDetails, useList } from 'tapis-hooks/workflows/pipelines';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { Icon } from 'tapis-ui/_common';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\nimport styles from './PipelineList.module.scss';\r\nimport { SectionMessage } from 'tapis-ui/_common';\r\nimport {\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n  CardFooter,\r\n  CardText,\r\n  Button,\r\n} from 'reactstrap';\r\nimport { Toolbar } from '../../../../_components';\r\nimport { RunPipelineModal } from '../../../../_components/Toolbar/RunPipelineModal';\r\n\r\ntype PipelineCardProps = {\r\n  pipelineId: string;\r\n  groupId: string;\r\n};\r\n\r\nconst PipelineCard: React.FC<PipelineCardProps> = ({ pipelineId, groupId }) => {\r\n  const [showModal, setShowModal] = useState<boolean>(false);\r\n  const toggle = () => {\r\n    setShowModal(!showModal);\r\n  };\r\n  const { data, isLoading, error } = useDetails({ groupId, pipelineId });\r\n  const pipeline: Workflows.Pipeline = data?.result!;\r\n\r\n  return (\r\n    <QueryWrapper isLoading={isLoading} error={error}>\r\n      {pipeline && (\r\n        <Card className={styles['card']}>\r\n          <CardHeader>\r\n            <span>\r\n              <Icon name=\"publications\" className=\"\" /> {pipeline.id}\r\n            </span>\r\n          </CardHeader>\r\n          <CardBody>\r\n            <CardText>\r\n              <b>tasks</b> {pipeline.tasks?.length}\r\n            </CardText>\r\n            <CardText>\r\n              <b>owner</b> {pipeline.owner}\r\n            </CardText>\r\n            <CardText>\r\n              <b>uuid</b> {pipeline.uuid}\r\n            </CardText>\r\n          </CardBody>\r\n          <CardFooter className={styles['card-footer']}>\r\n            <div>\r\n              <Link to={`/workflows/pipelines/${groupId}/${pipeline.id}`}>\r\n                <Button className={styles['card-button']}>\r\n                  <Icon name=\"edit-document\" /> Edit\r\n                </Button>\r\n              </Link>\r\n              <Link to={`/workflows/pipelines/${groupId}/${pipeline.id}/runs`}>\r\n                <Button className={styles['card-button']}>View Runs</Button>\r\n              </Link>\r\n            </div>\r\n            <div></div>\r\n            <div>\r\n              <Button\r\n                color=\"primary\"\r\n                className={styles['card-button']}\r\n                onClick={toggle}\r\n              >\r\n                Run\r\n              </Button>\r\n            </div>\r\n          </CardFooter>\r\n        </Card>\r\n      )}\r\n      {showModal && groupId && pipelineId && (\r\n        <RunPipelineModal\r\n          groupId={groupId}\r\n          pipelineId={pipelineId}\r\n          toggle={toggle}\r\n        />\r\n      )}\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\ntype PipelineListParams = {\r\n  groupId: string;\r\n};\r\n\r\nconst PipelineList: React.FC<PipelineListParams> = ({ groupId }) => {\r\n  const { data, isLoading, error } = useList({ groupId });\r\n  const pipelines: Array<Workflows.Pipeline> = data?.result ?? [];\r\n\r\n  return (\r\n    <QueryWrapper isLoading={isLoading} error={error}>\r\n      <div id={groupId + '-pipeline-list'} className={styles['card-container']}>\r\n        <h2>\r\n          Pipelines <span className={styles['count']}>{pipelines.length}</span>\r\n        </h2>\r\n        <Toolbar buttons={['createpipeline']} groupId={groupId} />\r\n        {pipelines.length ? (\r\n          <div id=\"pipeline-list\">\r\n            {pipelines.map((pipeline) => (\r\n              <PipelineCard pipelineId={pipeline.id!} groupId={groupId} />\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <SectionMessage type=\"info\">No pipelines</SectionMessage>\r\n        )}\r\n      </div>\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\nexport default PipelineList;\r\n","import React from 'react';\r\nimport { SectionMessage } from 'tapis-ui/_common';\r\nimport { PipelineList } from './_components';\r\n\r\ntype PipelinesProps = {\r\n  groupId?: string;\r\n};\r\n\r\nconst Pipelines: React.FC<PipelinesProps> = ({ groupId }) => {\r\n  return (\r\n    <div id=\"pipelines\">\r\n      {groupId ? (\r\n        <div>\r\n          <PipelineList groupId={groupId} />\r\n        </div>\r\n      ) : (\r\n        <SectionMessage type=\"info\">\r\n          Select a group to view pipelines\r\n        </SectionMessage>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pipelines;\r\n","import React from 'react';\r\nimport { Route, RouteComponentProps, Switch } from 'react-router-dom';\r\n\r\nimport { default as Pipelines } from '../Pipelines';\r\n\r\nconst Router: React.FC = () => {\r\n  return (\r\n    <Switch>\r\n      <Route path={`/workflows/pipelines`} exact>\r\n        <Pipelines />\r\n      </Route>\r\n      <Route\r\n        path={`/workflows/pipelines/:groupId`}\r\n        exact\r\n        render={({\r\n          match: {\r\n            params: { groupId },\r\n          },\r\n        }: RouteComponentProps<{\r\n          groupId: string;\r\n        }>) => <Pipelines groupId={groupId} />}\r\n      />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Router;\r\n","import React from 'react';\r\nimport { PageLayout, LayoutBody, LayoutNavWrapper } from 'tapis-ui/_common';\r\nimport { GroupsNav } from '../../../_components';\r\nimport { Router } from '../_Router';\r\n\r\nconst Layout: React.FC = () => {\r\n  const body = (\r\n    <LayoutBody>\r\n      <Router />\r\n    </LayoutBody>\r\n  );\r\n\r\n  const sidebar = (\r\n    <LayoutNavWrapper>\r\n      <GroupsNav baseUrl=\"/workflows/pipelines\" />\r\n    </LayoutNavWrapper>\r\n  );\r\n\r\n  return <PageLayout left={sidebar} right={body} />;\r\n};\r\n\r\nexport default Layout;\r\n","import React from 'react';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { useDetails } from 'tapis-hooks/workflows/pipelines';\r\nimport { SectionMessage, SectionHeader } from 'tapis-ui/_common';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\nimport { Link } from 'react-router-dom';\r\nimport { Toolbar } from '../../_components';\r\nimport styles from './Pipeline.module.scss';\r\n\r\ntype TaskProps = {\r\n  task: Workflows.Task;\r\n};\r\n\r\nconst Task: React.FC<TaskProps> = ({ task }) => {\r\n  return (\r\n    <div id={`task-${task.id}`} className={`${styles['task']}`}>\r\n      <div className={`${styles['task-header']}`}>{task.id}</div>\r\n      <div className={`${styles['task-body']}`}>\r\n        <p>\r\n          <b>type: </b>\r\n          {task.type}\r\n        </p>\r\n        <p>\r\n          <b>description: </b>\r\n          {task.description || <i>None</i>}\r\n        </p>\r\n      </div>\r\n      {!!task?.depends_on?.length && (\r\n        <div>\r\n          <div className={`${styles['task-header']}`}>dependencies</div>\r\n          <div className={`${styles['task-body']}`}>\r\n            {task.depends_on.map((dependency) => {\r\n              return <p>{dependency.id}</p>;\r\n            })}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\ntype PipelineProps = {\r\n  groupId: string;\r\n  pipelineId: string;\r\n};\r\n\r\nconst Pipeline: React.FC<PipelineProps> = ({ groupId, pipelineId }) => {\r\n  const { data, isLoading, error } = useDetails({ groupId, pipelineId });\r\n  const pipeline: Workflows.Pipeline = data?.result!;\r\n\r\n  return (\r\n    <QueryWrapper isLoading={isLoading} error={error}>\r\n      {pipeline && (\r\n        <div id={`pipeline`}>\r\n          <h2>\r\n            {pipeline.id}{' '}\r\n            <Link to={`/workflows/pipelines/${groupId}/${pipeline.id}/runs`}>\r\n              View Runs\r\n            </Link>\r\n          </h2>\r\n          <Toolbar\r\n            buttons={['createtask', 'runpipeline']}\r\n            groupId={groupId}\r\n            pipelineId={pipelineId}\r\n          />\r\n          <SectionHeader>Tasks</SectionHeader>\r\n          {pipeline.tasks?.length ? (\r\n            pipeline.tasks?.map((task) => {\r\n              return (\r\n                <div id=\"tasks\" key={task.id} className={`${styles['tasks']}`}>\r\n                  <Task task={task} />\r\n                </div>\r\n              );\r\n            })\r\n          ) : (\r\n            <SectionMessage type=\"info\">No tasks</SectionMessage>\r\n          )}\r\n        </div>\r\n      )}\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\nexport default Pipeline;\r\n","import React from 'react';\r\nimport { Route, RouteComponentProps, Switch } from 'react-router-dom';\r\n\r\nimport { default as Pipeline } from '../Pipeline';\r\n\r\nconst Router: React.FC = () => {\r\n  return (\r\n    <Switch>\r\n      <Route\r\n        path={`/workflows/pipelines/:groupId/:pipelineId`}\r\n        render={({\r\n          match: {\r\n            params: { groupId, pipelineId },\r\n          },\r\n        }: RouteComponentProps<{\r\n          groupId: string;\r\n          pipelineId: string;\r\n        }>) => <Pipeline groupId={groupId} pipelineId={pipelineId} />}\r\n      />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Router;\r\n","import React from 'react';\r\nimport { Router } from '../_Router';\r\n\r\nconst Layout: React.FC = () => {\r\n  return <Router />;\r\n};\r\n\r\nexport default Layout;\r\n","import { Workflows } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst list = (\r\n  params: Workflows.ListPipelineRunsRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Workflows.PipelineRunsApi =\r\n    apiGenerator<Workflows.PipelineRunsApi>(\r\n      Workflows,\r\n      Workflows.PipelineRunsApi,\r\n      basePath,\r\n      jwt\r\n    );\r\n  return errorDecoder<Workflows.RespPipelineRunList>(() =>\r\n    api.listPipelineRuns(params)\r\n  );\r\n};\r\n\r\nexport default list;\r\n","const QueryKeys = {\r\n  list: 'workflows/groups/pipelines/pipelineruns/list',\r\n};\r\n\r\nexport default QueryKeys;\r\n","import { useQuery, QueryObserverOptions } from 'react-query';\r\nimport { list } from 'tapis-api/workflows/pipelineruns';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nconst useList = (\r\n  params: Workflows.ListPipelineRunsRequest,\r\n  options: QueryObserverOptions<Workflows.RespPipelineRunList, Error> = {}\r\n) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n  const result = useQuery<Workflows.RespPipelineRunList, Error>(\r\n    [QueryKeys.list, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    () => list(params, basePath, accessToken?.access_token || ''),\r\n    {\r\n      ...options,\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n  return result;\r\n};\r\n\r\nexport default useList;\r\n","import { Workflows } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst list = (\r\n  params: Workflows.ListTaskExecutionsRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Workflows.TaskExecutionsApi =\r\n    apiGenerator<Workflows.TaskExecutionsApi>(\r\n      Workflows,\r\n      Workflows.TaskExecutionsApi,\r\n      basePath,\r\n      jwt\r\n    );\r\n  return errorDecoder<Workflows.RespTaskExecutionList>(() =>\r\n    api.listTaskExecutions(params)\r\n  );\r\n};\r\n\r\nexport default list;\r\n","const QueryKeys = {\r\n  list: 'workflows/groups/pipelines/pipelineruns/taskexecutions/list',\r\n};\r\n\r\nexport default QueryKeys;\r\n","import { useQuery, QueryObserverOptions } from 'react-query';\r\nimport { list } from 'tapis-api/workflows/taskexecutions';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nconst useList = (\r\n  params: Workflows.ListTaskExecutionsRequest,\r\n  options: QueryObserverOptions<Workflows.RespTaskExecutionList, Error> = {}\r\n) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n  const result = useQuery<Workflows.RespTaskExecutionList, Error>(\r\n    [QueryKeys.list, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    () => list(params, basePath, accessToken?.access_token || ''),\r\n    {\r\n      ...options,\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n  return result;\r\n};\r\n\r\nexport default useList;\r\n","import React, { useState } from 'react';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { useList as useListPipelineRuns } from 'tapis-hooks/workflows/pipelineruns';\r\nimport { useList as useListTaskExecutions } from 'tapis-hooks/workflows/taskexecutions';\r\nimport { useDetails } from 'tapis-hooks/workflows/pipelines';\r\nimport { SectionMessage, Collapse } from 'tapis-ui/_common';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\nimport styles from './PipelineRuns.module.scss';\r\nimport { Table, Button } from 'reactstrap';\r\n\r\ntype TaskExecutionsProps = {\r\n  groupId: string;\r\n  pipelineId: string;\r\n  pipelineRunUuid: string;\r\n};\r\n\r\nconst TaskExecutions: React.FC<TaskExecutionsProps> = ({\r\n  groupId,\r\n  pipelineId,\r\n  pipelineRunUuid,\r\n}) => {\r\n  const { data, isLoading, error } = useListTaskExecutions({\r\n    groupId,\r\n    pipelineId,\r\n    pipelineRunUuid,\r\n  });\r\n  const taskExecutions = data?.result ?? [];\r\n\r\n  return (\r\n    <QueryWrapper isLoading={isLoading} error={error}>\r\n      <div>\r\n        {taskExecutions.length > 0 ? (\r\n          <Table dark bordered style={{ margin: 0 }}>\r\n            <thead>\r\n              <tr>\r\n                <th>#</th>\r\n                <th>task</th>\r\n                <th>status</th>\r\n                <th>started at</th>\r\n                <th>last modified</th>\r\n                <th>uuid</th>\r\n              </tr>\r\n            </thead>\r\n            {taskExecutions.length &&\r\n              taskExecutions.map((taskExecution, i) => {\r\n                return (\r\n                  <tbody>\r\n                    <tr>\r\n                      <td>{i}</td>\r\n                      <td>{taskExecution.task}</td>\r\n                      <td>{taskExecution.status}</td>\r\n                      <td>{taskExecution.started_at}</td>\r\n                      <td>{taskExecution.last_modified}</td>\r\n                      <td>{taskExecution.uuid}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                );\r\n              })}\r\n          </Table>\r\n        ) : (\r\n          <SectionMessage type=\"info\">No task executions</SectionMessage>\r\n        )}\r\n      </div>\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\ntype PipelineRunProps = {\r\n  groupId: string;\r\n  pipelineId: string;\r\n  pipelineRun: Workflows.PipelineRun;\r\n};\r\n\r\nconst PipelineRun: React.FC<PipelineRunProps> = ({\r\n  groupId,\r\n  pipelineId,\r\n  pipelineRun,\r\n}) => {\r\n  const [showTaskExecutions, setShowTaskExecutions] = useState(false);\r\n  const { data, isLoading, error } = useDetails({ groupId, pipelineId });\r\n  const pipeline: Workflows.Pipeline = data?.result!;\r\n\r\n  const toggle = () => {\r\n    setShowTaskExecutions(!showTaskExecutions);\r\n  };\r\n\r\n  return (\r\n    <QueryWrapper isLoading={isLoading} error={error}>\r\n      {pipeline && (\r\n        <Collapse\r\n          title={`${pipelineRun.uuid}: ${pipelineRun.status}`}\r\n          className={styles['pipeline-run-container']}\r\n        >\r\n          <div\r\n            id={`pipelinerun-${pipelineRun.uuid}`}\r\n            className={styles['pipeline-run-body']}\r\n          >\r\n            <Table dark bordered style={{ margin: 0 }}>\r\n              <thead>\r\n                <tr>\r\n                  <th>pipeline</th>\r\n                  <th>status</th>\r\n                  <th>started at</th>\r\n                  <th>last modified</th>\r\n                  <th>uuid</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                  <td>{pipeline.id}</td>\r\n                  <td>{pipelineRun.status}</td>\r\n                  <td>{pipelineRun.started_at}</td>\r\n                  <td>{pipelineRun.last_modified}</td>\r\n                  <td>{pipelineRun.uuid}</td>\r\n                </tr>\r\n              </tbody>\r\n            </Table>\r\n            <div className={styles['section-header']}>\r\n              <h2>Task Executions</h2>\r\n            </div>\r\n            <div className={styles['task-executions']}>\r\n              {showTaskExecutions ? (\r\n                <TaskExecutions\r\n                  groupId={groupId}\r\n                  pipelineId={pipelineId}\r\n                  pipelineRunUuid={pipelineRun.uuid!}\r\n                />\r\n              ) : (\r\n                <Button onClick={toggle}>Load Task Executions</Button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </Collapse>\r\n      )}\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\ntype PipelineRunsProps = {\r\n  groupId: string;\r\n  pipelineId: string;\r\n};\r\n\r\nconst PipelineRuns: React.FC<PipelineRunsProps> = ({ groupId, pipelineId }) => {\r\n  const { data, isLoading, error } = useListPipelineRuns({\r\n    groupId,\r\n    pipelineId,\r\n  });\r\n  const pipelineRuns: Array<Workflows.PipelineRun> = data?.result ?? [];\r\n\r\n  return (\r\n    <QueryWrapper isLoading={isLoading} error={error}>\r\n      <div id=\"pipelineruns\">\r\n        <h2>\r\n          Pipeline: <b>{pipelineId}</b>\r\n        </h2>\r\n        {pipelineRuns.length ? (\r\n          pipelineRuns.map((pipelineRun) => (\r\n            <PipelineRun\r\n              groupId={groupId}\r\n              pipelineId={pipelineId}\r\n              pipelineRun={pipelineRun}\r\n            />\r\n          ))\r\n        ) : (\r\n          <SectionMessage type=\"info\">\r\n            No runs to show for pipeline '{pipelineId}'\r\n          </SectionMessage>\r\n        )}\r\n      </div>\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\nexport default PipelineRuns;\r\n","import React from 'react';\r\nimport { Route, RouteComponentProps, Switch } from 'react-router-dom';\r\n\r\nimport { default as PipelineRuns } from '../PipelineRuns';\r\n\r\nconst Router: React.FC = () => {\r\n  return (\r\n    <Switch>\r\n      <Route\r\n        path={`/workflows/pipelines/:groupId/:pipelineId/runs`}\r\n        render={({\r\n          match: {\r\n            params: { groupId, pipelineId },\r\n          },\r\n        }: RouteComponentProps<{\r\n          groupId: string;\r\n          pipelineId: string;\r\n        }>) => <PipelineRuns groupId={groupId} pipelineId={pipelineId} />}\r\n      />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Router;\r\n","import React from 'react';\r\nimport { Router } from '../_Router';\r\n\r\nconst Layout: React.FC = () => {\r\n  return <Router />;\r\n};\r\n\r\nexport default Layout;\r\n","import React from 'react';\r\nimport { Route, useRouteMatch, Switch } from 'react-router-dom';\r\n\r\nimport { default as Pipelines } from '../Pipelines';\r\nimport { default as Pipeline } from '../Pipeline';\r\nimport { default as PipelineRuns } from '../PipelineRuns';\r\n\r\nconst Router: React.FC = () => {\r\n  const { path } = useRouteMatch();\r\n  return (\r\n    <Switch>\r\n      <Route path={`${path}`} exact>\r\n        <Pipelines />\r\n      </Route>\r\n\r\n      <Route path={`${path}/:groupId`} exact>\r\n        <Pipelines />\r\n      </Route>\r\n\r\n      <Route path={`${path}/:groupId/:pipelineId`} exact>\r\n        <Pipeline />\r\n      </Route>\r\n\r\n      <Route path={`${path}/:groupId/:pipelineId/runs`}>\r\n        <PipelineRuns />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Router;\r\n","import React from 'react';\r\nimport { Router } from '../_Router';\r\n\r\nconst Layout: React.FC = () => {\r\n  return <Router />;\r\n};\r\n\r\nexport default Layout;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useList } from 'tapis-hooks/workflows/archives';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\nimport styles from './ArchiveList.module.scss';\r\nimport { SectionMessage, Icon } from 'tapis-ui/_common';\r\nimport { Toolbar } from '../../../_components';\r\n\r\ntype ArchiveListParams = {\r\n  groupId: string;\r\n};\r\n\r\nconst ArchiveList: React.FC<ArchiveListParams> = ({ groupId }) => {\r\n  const { data, isLoading, error } = useList({ groupId });\r\n  const archives: Array<Workflows.Archive> = data?.result ?? [];\r\n\r\n  return (\r\n    <QueryWrapper isLoading={isLoading} error={error}>\r\n      <div id=\"-archives-list\">\r\n        <h2>\r\n          Archives <span className={styles['count']}>{archives.length}</span>\r\n        </h2>\r\n        <Toolbar buttons={['createarchive']} groupId={groupId} />\r\n        <div className={styles['container']}>\r\n          {archives.length ? (\r\n            archives.map((archive, i) => {\r\n              let evenodd: string = i % 2 > 0 ? styles['odd'] : styles['even'];\r\n              let last: string =\r\n                i === archives.length - 1 ? styles['last'] : '';\r\n              return (\r\n                <Link\r\n                  to={`/workflows/archives/${groupId}/${archive.id}`}\r\n                  style={{ textDecoration: 'none', color: 'black' }}\r\n                >\r\n                  <div className={`${styles['archive']} ${evenodd} ${last}`}>\r\n                    <span>\r\n                      <Icon name=\"folder\" /> {archive.id}\r\n                    </span>\r\n                  </div>\r\n                </Link>\r\n              );\r\n            })\r\n          ) : (\r\n            <SectionMessage type=\"info\">No archives</SectionMessage>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\nexport default ArchiveList;\r\n","import React from 'react';\r\nimport { SectionMessage } from 'tapis-ui/_common';\r\nimport { ArchiveList } from '../_components';\r\n\r\ntype ArchivesProps = {\r\n  groupId?: string;\r\n};\r\n\r\nconst Archives: React.FC<ArchivesProps> = ({ groupId }) => {\r\n  return (\r\n    <div id=\"archives\">\r\n      {groupId ? (\r\n        <div>\r\n          <ArchiveList groupId={groupId} />\r\n        </div>\r\n      ) : (\r\n        <SectionMessage type=\"info\">\r\n          Select a group to view archives\r\n        </SectionMessage>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Archives;\r\n","import React from 'react';\r\nimport { Route, RouteComponentProps, Switch } from 'react-router-dom';\r\n\r\nimport { default as Archives } from '../Archives';\r\n\r\nconst Router: React.FC = () => {\r\n  return (\r\n    <Switch>\r\n      <Route path={`/workflows/archives`} exact>\r\n        <Archives />\r\n      </Route>\r\n\r\n      <Route\r\n        path={`/workflows/archives/:groupId`}\r\n        exact\r\n        render={({\r\n          match: {\r\n            params: { groupId },\r\n          },\r\n        }: RouteComponentProps<{\r\n          groupId: string;\r\n        }>) => <Archives groupId={groupId} />}\r\n      />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Router;\r\n","import React from 'react';\r\nimport { PageLayout, LayoutBody, LayoutNavWrapper } from 'tapis-ui/_common';\r\nimport { GroupsNav } from '../../../_components';\r\nimport { Router } from '../_Router';\r\n\r\nconst Layout: React.FC = () => {\r\n  const body = (\r\n    <LayoutBody>\r\n      <Router />\r\n    </LayoutBody>\r\n  );\r\n\r\n  const sidebar = (\r\n    <LayoutNavWrapper>\r\n      <GroupsNav baseUrl=\"/workflows/archives\" />\r\n    </LayoutNavWrapper>\r\n  );\r\n\r\n  return <PageLayout left={sidebar} right={body} />;\r\n};\r\n\r\nexport default Layout;\r\n","import React from 'react';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { useDetails } from 'tapis-hooks/workflows/archives';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\n\r\ntype S3ArchiveProps = {\r\n  archive: Workflows.S3Archive;\r\n};\r\n\r\nconst S3Archive: React.FC<S3ArchiveProps> = ({ archive }) => {\r\n  return (\r\n    <div id={`archive-${archive.id}`}>\r\n      <p>\r\n        <b>id: </b> {archive.id}\r\n      </p>\r\n      <p>\r\n        <b>type: </b> {archive.type}\r\n      </p>\r\n      <p>\r\n        <b>owner: </b>\r\n        {archive.owner}\r\n      </p>\r\n      <p>\r\n        <b>archiveDir: </b>\r\n        {archive.archive_dir}\r\n      </p>\r\n      <p>\r\n        <b>endpoint: </b>\r\n        {archive.endpoint}\r\n      </p>\r\n      <p>\r\n        <b>bucket: </b>\r\n        {archive.bucket}\r\n      </p>\r\n      <p>\r\n        <b>region: </b>\r\n        {archive.region}\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\ntype TapisSystemArchiveProps = {\r\n  archive: Workflows.TapisSystemArchive;\r\n};\r\n\r\nconst TapisSystemArchive: React.FC<TapisSystemArchiveProps> = ({ archive }) => {\r\n  return (\r\n    <div id={`archive-${archive.id}`}>\r\n      <p>\r\n        <b>id:</b> {archive.id}\r\n      </p>\r\n      <p>\r\n        <b>type:</b> {archive.type}\r\n      </p>\r\n      <p>\r\n        <b>systemId:</b> {archive.system_id}\r\n      </p>\r\n      <p>\r\n        <b>archiveDir:</b> {archive.archive_dir}\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst archiveUtil = (archive: Workflows.Archive) => {\r\n  switch (archive.type) {\r\n    case Workflows.EnumArchiveType.S3:\r\n      return <S3Archive archive={archive} />;\r\n    case Workflows.EnumArchiveType.System:\r\n      return <TapisSystemArchive archive={archive} />;\r\n  }\r\n};\r\n\r\ntype ArchivesProps = {\r\n  groupId: string;\r\n  archiveId: string;\r\n};\r\n\r\nconst Archive: React.FC<ArchivesProps> = ({ groupId, archiveId }) => {\r\n  const { data, isLoading, error } = useDetails({ groupId, archiveId });\r\n  const archive: Workflows.Archive = data?.result!;\r\n\r\n  return (\r\n    <QueryWrapper isLoading={isLoading} error={error}>\r\n      {archive && archiveUtil(archive)}\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\nexport default Archive;\r\n","import React from 'react';\r\nimport { Route, RouteComponentProps, Switch } from 'react-router-dom';\r\n\r\nimport { default as Archive } from '../Archive';\r\n\r\nconst Router: React.FC = () => {\r\n  return (\r\n    <Switch>\r\n      <Route\r\n        path={`/workflows/archives/:groupId/:archiveId`}\r\n        exact\r\n        render={({\r\n          match: {\r\n            params: { groupId, archiveId },\r\n          },\r\n        }: RouteComponentProps<{\r\n          groupId: string;\r\n          archiveId: string;\r\n        }>) => <Archive groupId={groupId} archiveId={archiveId} />}\r\n      />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Router;\r\n","import React from 'react';\r\nimport { Router } from '../_Router';\r\n\r\nconst Layout: React.FC = () => {\r\n  return <Router />;\r\n};\r\n\r\nexport default Layout;\r\n","import React from 'react';\r\nimport { Route, useRouteMatch, Switch } from 'react-router-dom';\r\n\r\nimport { default as ArchivesLayout } from '../Archives';\r\nimport { default as ArchiveLayout } from '../Archive';\r\n\r\nconst Router: React.FC = () => {\r\n  const { path } = useRouteMatch();\r\n  return (\r\n    <Switch>\r\n      <Route path={`${path}`} exact>\r\n        <ArchivesLayout />\r\n      </Route>\r\n\r\n      <Route path={`${path}/:groupId`} exact>\r\n        <ArchivesLayout />\r\n      </Route>\r\n\r\n      <Route path={`${path}/:groupId/:archiveId`} exact>\r\n        <ArchiveLayout />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Router;\r\n","import React from 'react';\r\nimport { Router } from '../_Router';\r\n\r\nconst Layout: React.FC = () => {\r\n  return <Router />;\r\n};\r\n\r\nexport default Layout;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { useList } from 'tapis-hooks/workflows/groups';\r\nimport { SectionMessage, Icon } from 'tapis-ui/_common';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\nimport { Toolbar } from '../_components';\r\nimport styles from './Groups.module.scss';\r\n\r\nconst Groups: React.FC = () => {\r\n  const { data, isLoading, error } = useList();\r\n  const groups: Array<Workflows.Group> = data?.result ?? [];\r\n\r\n  return (\r\n    <QueryWrapper isLoading={isLoading} error={error}>\r\n      <h2>\r\n        Groups <span className={styles['count']}>{groups.length}</span>\r\n      </h2>\r\n      <Toolbar buttons={['creategroup']} />\r\n      <div className={styles['container']}>\r\n        {groups.length ? (\r\n          groups.map((group, i) => {\r\n            let evenodd: string = i % 2 > 0 ? styles['odd'] : styles['even'];\r\n            let last: string = i === groups.length - 1 ? styles['last'] : '';\r\n            return (\r\n              <Link\r\n                to={`/workflows/groups/${group.id}`}\r\n                style={{ textDecoration: 'none', color: 'black' }}\r\n              >\r\n                <div className={`${styles['group']} ${evenodd} ${last}`}>\r\n                  <span>\r\n                    <Icon name=\"user\" /> {group.id}\r\n                  </span>\r\n                </div>\r\n              </Link>\r\n            );\r\n          })\r\n        ) : (\r\n          <SectionMessage type=\"info\">No groups</SectionMessage>\r\n        )}\r\n      </div>\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\nexport default Groups;\r\n","import React, { useCallback } from 'react';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { useList, useDelete } from 'tapis-hooks/workflows/groupusers';\r\nimport { SectionMessage, Icon } from 'tapis-ui/_common';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\nimport { Toolbar } from '../../_components';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport styles from './Users.module.scss';\r\nimport { Button, Spinner } from 'reactstrap';\r\nimport { default as queryKeys } from 'tapis-hooks/workflows/groupusers/queryKeys';\r\nimport { useQueryClient } from 'react-query';\r\n\r\ntype RemoveGroupUserButtonProps = {\r\n  user: Workflows.GroupUser;\r\n  groupId: string;\r\n};\r\n\r\nconst RemoveUserButton: React.FC<RemoveGroupUserButtonProps> = ({\r\n  user,\r\n  groupId,\r\n}) => {\r\n  const {\r\n    removeAsync,\r\n    isError,\r\n    isSuccess,\r\n    error: removeError,\r\n    isLoading: removeInProgress,\r\n    reset,\r\n  } = useDelete();\r\n  const queryClient = useQueryClient();\r\n\r\n  const onSuccess = useCallback(() => {\r\n    queryClient.invalidateQueries(queryKeys.list);\r\n    reset();\r\n  }, [reset, queryClient]);\r\n\r\n  return !removeInProgress && (!isSuccess || isError) ? (\r\n    <Button\r\n      color=\"danger\"\r\n      type=\"button\"\r\n      disabled={removeInProgress || isSuccess || isError}\r\n      onClick={() => {\r\n        removeAsync({ groupId, username: user.username! }, { onSuccess });\r\n      }}\r\n    >\r\n      <Icon name=\"trash\" />\r\n      {isError && removeError?.message}\r\n    </Button>\r\n  ) : (\r\n    <Spinner />\r\n  );\r\n};\r\n\r\ntype UsersProps = {\r\n  groupId: string;\r\n};\r\n\r\nconst Users: React.FC<UsersProps> = ({ groupId }) => {\r\n  const { data, isLoading, error } = useList({ groupId });\r\n  const { claims } = useTapisConfig();\r\n  const users: Array<Workflows.GroupUser> = data?.result ?? [];\r\n\r\n  const isCurrentUser = (username: string) =>\r\n    username === claims['tapis/username'];\r\n  const canDeleteUser = (user: Workflows.GroupUser) => {\r\n    return (\r\n      users.filter((user) => isCurrentUser(user.username!) && user.is_admin)\r\n        .length > 0 && !isCurrentUser(user.username!)\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>\r\n        Users <span className={styles['count']}>{users.length}</span>\r\n      </h2>\r\n      <Toolbar groupId={groupId} buttons={['addgroupuser']} />\r\n      <div className={styles['container']}>\r\n        <QueryWrapper isLoading={isLoading} error={error}>\r\n          <div id=\"users\">\r\n            {users.length ? (\r\n              users.map((user, i) => {\r\n                let evenodd: string =\r\n                  i % 2 > 0 ? styles['odd'] : styles['even'];\r\n                let last: string = i === users.length - 1 ? styles['last'] : '';\r\n                return (\r\n                  <div className={`${styles['user']} ${evenodd} ${last}`}>\r\n                    <div>\r\n                      <Icon name=\"user\" className={styles['icon']} />\r\n                      <span>\r\n                        {user.username}\r\n                        {user.is_admin && (\r\n                          <i className={styles['admin']}>admin</i>\r\n                        )}\r\n                      </span>\r\n                    </div>\r\n                    <div className={styles['flex']}>\r\n                      <div className={styles['flex-grow']}></div>\r\n                      <div>\r\n                        {canDeleteUser(user) && (\r\n                          <RemoveUserButton user={user} groupId={groupId} />\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })\r\n            ) : (\r\n              <SectionMessage type=\"info\">No users</SectionMessage>\r\n            )}\r\n          </div>\r\n        </QueryWrapper>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import React from 'react';\r\nimport {\r\n  Route,\r\n  useRouteMatch,\r\n  RouteComponentProps,\r\n  Switch,\r\n} from 'react-router-dom';\r\n\r\nimport { default as Groups } from '../Groups';\r\nimport { Users } from '../Users';\r\n\r\nconst Router: React.FC = () => {\r\n  const { path } = useRouteMatch();\r\n  return (\r\n    <Switch>\r\n      <Route path={path} exact>\r\n        <Groups />\r\n      </Route>\r\n\r\n      <Route\r\n        path={`${path}/:groupId`}\r\n        render={({\r\n          match: {\r\n            params: { groupId },\r\n          },\r\n        }: RouteComponentProps<{\r\n          groupId: string;\r\n        }>) => <Users groupId={groupId} />}\r\n      />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Router;\r\n","import React from 'react';\r\nimport { Router } from '../_Router';\r\n\r\nconst Layout: React.FC = () => {\r\n  return <Router />;\r\n};\r\n\r\nexport default Layout;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { useList } from 'tapis-hooks/workflows/identities';\r\nimport { SectionMessage, Icon } from 'tapis-ui/_common';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\nimport { Toolbar } from '../_components';\r\nimport styles from './Identities.module.scss';\r\n\r\nconst Identities: React.FC = () => {\r\n  const { data, isLoading, error } = useList();\r\n  const identities: Array<Workflows.Identity> = data?.result ?? [];\r\n\r\n  return (\r\n    <QueryWrapper isLoading={isLoading} error={error}>\r\n      <h2>\r\n        Identities <span className={styles['count']}>{identities.length}</span>\r\n      </h2>\r\n      <Toolbar buttons={['createidentity']} />\r\n      <div className={styles['container']}>\r\n        {identities.length ? (\r\n          identities.map((identity, i) => {\r\n            let evenodd: string = i % 2 > 0 ? styles['odd'] : styles['even'];\r\n            let last: string =\r\n              i === identities.length - 1 ? styles['last'] : '';\r\n            return (\r\n              <Link\r\n                to={`/workflows/identities/${identity.uuid}`}\r\n                style={{ textDecoration: 'none', color: 'black' }}\r\n              >\r\n                <div className={`${styles['identity']} ${evenodd} ${last}`}>\r\n                  <span>\r\n                    <Icon name=\"user\" /> {identity.name}\r\n                  </span>\r\n                </div>\r\n              </Link>\r\n            );\r\n          })\r\n        ) : (\r\n          <SectionMessage type=\"info\">No identities</SectionMessage>\r\n        )}\r\n      </div>\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\nexport default Identities;\r\n","import React from 'react';\r\nimport { Workflows } from '@tapis/tapis-typescript';\r\nimport { useDetails } from 'tapis-hooks/workflows/identities';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\n\r\ntype IdentityProps = {\r\n  identityUuid: string;\r\n};\r\n\r\nconst Identity: React.FC<IdentityProps> = ({ identityUuid }) => {\r\n  const { data, isLoading, error } = useDetails({ identityUuid });\r\n  const identity: Workflows.Identity = data?.result!;\r\n\r\n  return (\r\n    <QueryWrapper isLoading={isLoading} error={error}>\r\n      {identity && (\r\n        <div id={`identity-${identity.uuid}`}>\r\n          <p>\r\n            <b>name: </b>\r\n            {identity.name}\r\n          </p>\r\n          <p>\r\n            <b>description: </b>\r\n            {identity.description || <i>None</i>}\r\n          </p>\r\n          <p>\r\n            <b>type: </b>\r\n            {identity.type}\r\n          </p>\r\n          <p>\r\n            <b>uuid: </b>\r\n            {identity.uuid}\r\n          </p>\r\n        </div>\r\n      )}\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\nexport default Identity;\r\n","import React from 'react';\r\nimport { Route, RouteComponentProps, Switch } from 'react-router-dom';\r\n\r\nimport { default as Identities } from '../Identities';\r\nimport { default as Identity } from '../Identity';\r\n\r\nconst Router: React.FC = () => {\r\n  return (\r\n    <Switch>\r\n      <Route path={'/workflows/identities'} exact>\r\n        <Identities />\r\n      </Route>\r\n      <Route\r\n        path={'/workflows/identities/:identityUuid'}\r\n        render={({\r\n          match: {\r\n            params: { identityUuid },\r\n          },\r\n        }: RouteComponentProps<{\r\n          identityUuid: string;\r\n        }>) => <Identity identityUuid={identityUuid} />}\r\n      />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Router;\r\n","import React from 'react';\r\nimport { Router } from '../_Router';\r\n\r\nconst Layout: React.FC = () => {\r\n  return <Router />;\r\n};\r\n\r\nexport default Layout;\r\n","import React from 'react';\r\nimport { Route, useRouteMatch, Switch } from 'react-router-dom';\r\nimport { Dashboard } from '../Dashboard';\r\nimport { default as PipelinesLayout } from '../Pipelines';\r\nimport { default as ArchivesLayout } from '../Archives';\r\nimport { default as GroupsLayout } from '../Groups';\r\nimport { default as IdentitiesLayout } from '../Identities';\r\n\r\nconst Router: React.FC = () => {\r\n  const { path } = useRouteMatch();\r\n  return (\r\n    <Switch>\r\n      <Route path={`${path}`} exact>\r\n        <Dashboard />\r\n      </Route>\r\n\r\n      <Route path={`${path}/groups`}>\r\n        <GroupsLayout />\r\n      </Route>\r\n\r\n      <Route path={`${path}/archives`}>\r\n        <ArchivesLayout />\r\n      </Route>\r\n\r\n      <Route path={`${path}/pipelines`}>\r\n        <PipelinesLayout />\r\n      </Route>\r\n\r\n      <Route path={`${path}/identities`}>\r\n        <IdentitiesLayout />\r\n      </Route>\r\n\r\n      {/* <Route\r\n        path={`${path}/groups/:groupId`}\r\n        exact\r\n        render={({\r\n          match: {\r\n            params: { groupId },\r\n          },\r\n        }: RouteComponentProps<{\r\n          groupId: string;\r\n        }>) => (\r\n          <div>\r\n            <Users groupId={groupId}/>\r\n          </div>\r\n        )}\r\n      /> */}\r\n\r\n      {/* <Route\r\n        path={`${path}/:groupId`}\r\n        exact\r\n        render={({\r\n          match: {\r\n            params: { groupId },\r\n          },\r\n        }: RouteComponentProps<{\r\n          groupId: string;\r\n        }>) => (\r\n          <div>\r\n            <Toolbar/>\r\n            <WorkflowsDashboard groupId={groupId}/>\r\n          </div>\r\n        )}\r\n      /> */}\r\n\r\n      {/* <Route\r\n        path={`${path}/:groupId/pipelines`}\r\n        exact\r\n        render={({\r\n          match: {\r\n            params: { groupId },\r\n          },\r\n        }: RouteComponentProps<{\r\n          groupId: string;\r\n        }>) => (\r\n          <div>\r\n            <Toolbar/>\r\n            <WorkflowsDashboard groupId={groupId}/>\r\n          </div>\r\n        )}\r\n      /> */}\r\n\r\n      {/* <Route\r\n        path={`${path}/:groupId/archives`}\r\n        exact\r\n        render={({\r\n          match: {\r\n            params: { groupId },\r\n          },\r\n        }: RouteComponentProps<{\r\n          groupId: string;\r\n        }>) => (\r\n          <Archives groupId={groupId}/>\r\n        )}\r\n      />\r\n\r\n      <Route\r\n        path={`${path}/:groupId/pipelines/:pipelineId`}\r\n        exact\r\n        render={({\r\n          match: {\r\n            params: { groupId, pipelineId },\r\n          },\r\n        }: RouteComponentProps<{\r\n          groupId: string;\r\n          pipelineId: string;\r\n        }>) => (\r\n          <div>\r\n            Edit Pipeline\r\n          </div>\r\n        )}\r\n      />\r\n\r\n      <Route\r\n        path={`${path}/:groupId/pipelines/:pipelineId/runs`}\r\n        render={({\r\n          match: {\r\n            params: { groupId, pipelineId },\r\n          },\r\n        }: RouteComponentProps<{\r\n          groupId: string;\r\n          pipelineId: string;\r\n        }>) => (\r\n          <div>\r\n            <PipelineRuns groupId={groupId} pipelineId={pipelineId}/>\r\n          </div>\r\n        )}\r\n      /> */}\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Router;\r\n","import React from 'react';\r\nimport { Router } from '../_Router';\r\nimport {\r\n  PageLayout,\r\n  LayoutBody,\r\n  LayoutHeader,\r\n  Breadcrumbs,\r\n} from 'tapis-ui/_common';\r\nimport { useLocation } from 'react-router';\r\nimport breadcrumbsFromPathname from 'tapis-ui/_common/Breadcrumbs/breadcrumbsFromPathname';\r\nimport styles from './Layout.module.scss';\r\nimport { Menu } from '../_components';\r\n\r\nconst Layout: React.FC = () => {\r\n  const { pathname } = useLocation();\r\n  const crumbs = breadcrumbsFromPathname(pathname).splice(1);\r\n  const header = (\r\n    <div>\r\n      <LayoutHeader>\r\n        <div className={styles.breadcrumbs}>\r\n          <Breadcrumbs\r\n            breadcrumbs={[{ text: 'Workflows', to: '/workflows' }, ...crumbs]}\r\n            truncate={false}\r\n          />\r\n        </div>\r\n      </LayoutHeader>\r\n      <Menu />\r\n    </div>\r\n  );\r\n\r\n  const body = (\r\n    <LayoutBody>\r\n      <Router />\r\n    </LayoutBody>\r\n  );\r\n\r\n  return <PageLayout top={header} right={body} />;\r\n};\r\n\r\nexport default Layout;\r\n","import React from 'react';\r\nimport { InlineMessage, SectionMessage } from 'tapis-ui/_common';\r\nimport styles from './UIPatternsMessage.module.scss';\r\n\r\nconst EXAMPLE_LINK = {\r\n  short: (\r\n    <a\r\n      href={window.location.href}\r\n      onClick={(e) => e.preventDefault()}\r\n      className=\"wb-link\"\r\n    >\r\n      Example link\r\n    </a>\r\n  ),\r\n  long: (\r\n    <a\r\n      href={window.location.href}\r\n      onClick={(e) => e.preventDefault()}\r\n      className=\"wb-link\"\r\n    >\r\n      Example link can be a complete sentence.\r\n    </a>\r\n  ),\r\n};\r\nconst EXAMPLE_TEXT = {\r\n  info: {\r\n    short: 'You exist.',\r\n    long: 'All your information, are belong to us.',\r\n  },\r\n  success: {\r\n    short: 'We did well.',\r\n    long: 'All your success, are belong to us.',\r\n  },\r\n  warn: {\r\n    short: 'You did poorly.',\r\n    long: 'All your warning, are come from us.',\r\n  },\r\n  error: {\r\n    short: 'You failed.',\r\n    long: 'All your error, are belong to you.',\r\n  },\r\n};\r\n\r\nconst NOTIFICATION_TEXT = (\r\n  <em>\r\n    Can not render in isolation. See{' '}\r\n    <a\r\n      href=\"https://xd.adobe.com/view/db2660cc-1011-4f26-5d31-019ce87c1fe8-ad17/screen/3821fc3e-bda1-40d4-9e50-a514e90aa088/\"\r\n      target=\"_blank\"\r\n      rel=\"noreferrer\"\r\n    >\r\n      Adobe Design.\r\n    </a>\r\n  </em>\r\n);\r\n\r\nfunction UIPatternsMessages() {\r\n  return (\r\n    <table className={styles.container}>\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"row\" className={styles.secondary}>\r\n            component\r\n          </th>\r\n          <th scope=\"col\">\r\n            <code>&lt;InlineMessage&gt;</code>\r\n            <code>&lt;Message scope=&quot;inline&quot;&gt;</code>\r\n          </th>\r\n          <th scope=\"col\">\r\n            <code>&lt;SectionMessage (canDismiss)&gt;</code>\r\n            <code>&lt;Message scope=&quot;section&quot; (canDismiss)&gt;</code>\r\n          </th>\r\n          <th scope=\"col\">\r\n            <code>\r\n              <s>&lt;AppMessage&gt;</s>\r\n            </code>\r\n            <code>&lt;NotifcationToast&gt;</code>\r\n          </th>\r\n        </tr>\r\n        <tr>\r\n          <th scope=\"row\" className={styles.secondary}>\r\n            <code>scope</code>\r\n          </th>\r\n          <th scope=\"col\">\r\n            <code>inline</code>\r\n          </th>\r\n          <th scope=\"col\">\r\n            <code>section</code>\r\n          </th>\r\n          <th scope=\"col\">\r\n            <code>app</code>\r\n          </th>\r\n        </tr>\r\n        <tr>\r\n          <th scope=\"col\" className={styles.secondary}>\r\n            <code>type</code>\r\n          </th>\r\n          <td>\r\n            When to Use\r\n            <ul>\r\n              <li>action result statement in table row</li>\r\n              <li>message when table can not load data</li>\r\n            </ul>\r\n          </td>\r\n          <td>\r\n            When to Use\r\n            <ul>\r\n              <li>warning at the top of a form</li>\r\n              <li>message after successful submission of form</li>\r\n            </ul>\r\n          </td>\r\n          <td>\r\n            When to Use\r\n            <ul>\r\n              <li>user action is required</li>\r\n              <li>important user-initiated action is completed</li>\r\n              <li>security concern</li>\r\n              <li>milestone for time-sensitive activity</li>\r\n            </ul>\r\n          </td>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <th scope=\"row\">\r\n            <code>info</code>\r\n          </th>\r\n          <td>\r\n            <InlineMessage type=\"info\">\r\n              {EXAMPLE_TEXT.info.long} {EXAMPLE_LINK.short}\r\n            </InlineMessage>\r\n            <hr />\r\n            <InlineMessage type=\"info\">\r\n              {EXAMPLE_TEXT.info.short} {EXAMPLE_LINK.long}\r\n            </InlineMessage>\r\n          </td>\r\n          <td>\r\n            <SectionMessage type=\"info\">\r\n              {EXAMPLE_TEXT.info.long} {EXAMPLE_LINK.short}\r\n            </SectionMessage>\r\n            <SectionMessage type=\"info\" canDismiss>\r\n              {EXAMPLE_TEXT.info.short} {EXAMPLE_LINK.long}\r\n            </SectionMessage>\r\n          </td>\r\n          <td rowSpan=\"2\">{NOTIFICATION_TEXT}</td>\r\n        </tr>\r\n        <tr>\r\n          <th scope=\"row\">\r\n            <code>success</code>\r\n          </th>\r\n          <td>\r\n            <InlineMessage type=\"success\">\r\n              {EXAMPLE_TEXT.success.long} {EXAMPLE_LINK.short}\r\n            </InlineMessage>\r\n            <hr />\r\n            <InlineMessage type=\"success\">\r\n              {EXAMPLE_TEXT.success.short} {EXAMPLE_LINK.long}\r\n            </InlineMessage>\r\n          </td>\r\n          <td>\r\n            <SectionMessage type=\"success\">\r\n              {EXAMPLE_TEXT.success.long} {EXAMPLE_LINK.short}\r\n            </SectionMessage>\r\n            <SectionMessage type=\"success\" canDismiss>\r\n              {EXAMPLE_TEXT.success.short} {EXAMPLE_LINK.long}\r\n            </SectionMessage>\r\n          </td>\r\n          {/* <td /> */}\r\n        </tr>\r\n        <tr>\r\n          <th scope=\"row\">\r\n            <code>warn</code>\r\n          </th>\r\n          <td>\r\n            <InlineMessage type=\"warn\">\r\n              {EXAMPLE_TEXT.warn.long} {EXAMPLE_LINK.short}\r\n            </InlineMessage>\r\n            <hr />\r\n            <InlineMessage type=\"warn\">\r\n              {EXAMPLE_TEXT.warn.short} {EXAMPLE_LINK.long}\r\n            </InlineMessage>\r\n          </td>\r\n          <td>\r\n            <SectionMessage type=\"warn\">\r\n              {EXAMPLE_TEXT.warn.long} {EXAMPLE_LINK.short}\r\n            </SectionMessage>\r\n            <SectionMessage type=\"warn\" canDismiss>\r\n              {EXAMPLE_TEXT.warn.short} {EXAMPLE_LINK.long}\r\n            </SectionMessage>\r\n          </td>\r\n          <td rowSpan=\"2\" className={styles['is-row-end']}>\r\n            {NOTIFICATION_TEXT}\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <th scope=\"row\">\r\n            <code>error</code>\r\n          </th>\r\n          <td>\r\n            <InlineMessage type=\"error\">\r\n              {EXAMPLE_TEXT.error.long} {EXAMPLE_LINK.short}\r\n            </InlineMessage>\r\n            <hr />\r\n            <InlineMessage type=\"error\">\r\n              {EXAMPLE_TEXT.error.short} {EXAMPLE_LINK.long}\r\n            </InlineMessage>\r\n          </td>\r\n          <td>\r\n            <SectionMessage type=\"error\">\r\n              {EXAMPLE_TEXT.error.long} {EXAMPLE_LINK.short}\r\n            </SectionMessage>\r\n            <SectionMessage type=\"error\" canDismiss>\r\n              {EXAMPLE_TEXT.error.short} {EXAMPLE_LINK.long}\r\n            </SectionMessage>\r\n          </td>\r\n          {/* <td /> */}\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n\r\nexport default UIPatternsMessages;\r\n","import React from 'react';\r\nimport { DescriptionList, Icon } from 'tapis-ui/_common';\r\n\r\nimport styles from './UIPatternsDescriptionList.module.css';\r\n\r\nconst DATA = {\r\n  Username: 'bobward500',\r\n  Prefix: 'Mr.',\r\n  Name: 'Bob Ward',\r\n  Suffix: 'The 5th',\r\n  'Favorite Numeric Value': 5,\r\n  Icon: <Icon name=\"dashboard\" />,\r\n};\r\n\r\nfunction UIPatternsDropdownSelector() {\r\n  return (\r\n    <>\r\n      <div className={styles['list-cols']}>\r\n        <dl>\r\n          <dt>Vertical Layout & Default Density</dt>\r\n          <dd>\r\n            <DescriptionList data={DATA} />\r\n          </dd>\r\n        </dl>\r\n        <dl>\r\n          <dt>Vertical Layout & Compact Density</dt>\r\n          <dd>\r\n            <DescriptionList data={DATA} density=\"compact\" />\r\n          </dd>\r\n        </dl>\r\n        <dl>\r\n          <dt>Vertical Layout & Compact Density - Narrow Container</dt>\r\n          <dd>\r\n            <DescriptionList\r\n              data={DATA}\r\n              density=\"compact\"\r\n              className={styles['item-x-narrow']}\r\n            />\r\n          </dd>\r\n        </dl>\r\n      </div>\r\n      <div className={styles['list-rows']}>\r\n        <dl>\r\n          <dt>Horizontal Layout & Default Density</dt>\r\n          <dd>\r\n            <DescriptionList data={DATA} direction=\"horizontal\" />\r\n          </dd>\r\n          <dt>Horizontal Layout & Compact Density</dt>\r\n          <dd>\r\n            <DescriptionList\r\n              data={DATA}\r\n              density=\"compact\"\r\n              direction=\"horizontal\"\r\n            />\r\n          </dd>\r\n          <dt>Horizontal Layout & Compact Density - Narrow Container</dt>\r\n          <dd>\r\n            <DescriptionList\r\n              data={DATA}\r\n              density=\"compact\"\r\n              direction=\"horizontal\"\r\n              className={styles['item-narrow']}\r\n            />\r\n          </dd>\r\n        </dl>\r\n      </div>\r\n      <div className={styles['list-rows']}>\r\n        <dl>\r\n          <dt>Vertical Layout & Nested Data</dt>\r\n          <dd>\r\n            <DescriptionList\r\n              data={{\r\n                'Nested List One': (\r\n                  <DescriptionList data={DATA} direction=\"vertical\" />\r\n                ),\r\n                'Nested List Two': (\r\n                  <DescriptionList data={DATA} direction=\"vertical\" />\r\n                ),\r\n              }}\r\n            />\r\n          </dd>\r\n          <dt>Horizontal Layout & Nested Data</dt>\r\n          <dd>\r\n            <DescriptionList\r\n              data={{\r\n                'Nested List One': (\r\n                  <DescriptionList data={DATA} direction=\"horizontal\" />\r\n                ),\r\n                'Nested List Two': (\r\n                  <DescriptionList data={DATA} direction=\"horizontal\" />\r\n                ),\r\n              }}\r\n              direction=\"vertical\"\r\n            />\r\n          </dd>\r\n        </dl>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default UIPatternsDropdownSelector;\r\n","import React from 'react';\r\nimport { DropdownSelector } from 'tapis-ui/_common';\r\n\r\nfunction UIPatternsDropdownSelector() {\r\n  return (\r\n    <dl>\r\n      <dt>\r\n        Default (<code>single</code>)\r\n      </dt>\r\n      <dd>\r\n        <small>Only field (not dropdown) can be styled cross-browser.</small>\r\n        <DropdownSelector>\r\n          <optgroup label=\"Cryptographic People\">\r\n            <option value=\"alice\">Alice</option>\r\n            <option value=\"bob\">Bob</option>\r\n            <option value=\"charlie\">Charlie</option>\r\n          </optgroup>\r\n          <optgroup label=\"Common American Fruit\">\r\n            <option value=\"apple\">Apple</option>\r\n            <option value=\"banana\">Banana</option>\r\n            <option value=\"grapes\">Grapes</option>\r\n          </optgroup>\r\n        </DropdownSelector>\r\n      </dd>\r\n      <dt>\r\n        Multiple (<code>multiple</code>)\r\n      </dt>\r\n      <dd>\r\n        <small>Styling options are limited and browser-dependent.</small>\r\n        <DropdownSelector type=\"multiple\">\r\n          <optgroup label=\"Cryptographic People\">\r\n            <option value=\"alice\">Alice</option>\r\n            <option value=\"bob\">Bob</option>\r\n            <option value=\"charlie\">Charlie</option>\r\n          </optgroup>\r\n          <optgroup label=\"Common American Fruit\">\r\n            <option value=\"apple\">Apple</option>\r\n            <option value=\"banana\">Banana</option>\r\n            <option value=\"grapes\">Grapes</option>\r\n          </optgroup>\r\n        </DropdownSelector>\r\n      </dd>\r\n    </dl>\r\n  );\r\n}\r\n\r\nexport default UIPatternsDropdownSelector;\r\n","import React from 'react';\r\nimport { Pill } from 'tapis-ui/_common';\r\n\r\nfunction UIPatternsPill() {\r\n  return (\r\n    <dl>\r\n      <dt>Default Pill (normal)</dt>\r\n      <dd>\r\n        <Pill>Example Pill</Pill>\r\n      </dd>\r\n      <dt>Normal Pill</dt>\r\n      <dd>\r\n        <Pill type=\"normal\">Normal Pill</Pill>\r\n      </dd>\r\n      <dt>Success Pill</dt>\r\n      <dd>\r\n        <Pill type=\"success\">Success Pill</Pill>\r\n      </dd>\r\n      <dt>Warning Pill</dt>\r\n      <dd>\r\n        <Pill type=\"warning\">Warning Pill</Pill>\r\n      </dd>\r\n      <dt>Danger Pill</dt>\r\n      <dd>\r\n        <Pill type=\"danger\">Danger Pill</Pill>\r\n      </dd>\r\n    </dl>\r\n  );\r\n}\r\n\r\nexport default UIPatternsPill;\r\n","import React from 'react';\r\nimport { ReadMore } from 'tapis-ui/_common';\r\nimport styles from './UIPatternsReadMore.module.scss';\r\n\r\nfunction UIPatternsReadMore() {\r\n  return (\r\n    <div className={styles.root}>\r\n      <ReadMore>\r\n        Long text beyond 4 lines should be clamped. Short text should not be\r\n        clamped. This element is responsive to line number changes due to window\r\n        resizing. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis\r\n        dapibus leo ornare sem mollis viverra. Sed metus tortor, luctus vitae\r\n        tempus a, consectetur eu enim. Vivamus euismod ante sed augue aliquam,\r\n        at venenatis risus varius. Duis laoreet, tellus at euismod consequat,\r\n        nulla neque vestibulum sapien, at placerat erat nibh at ligula. Interdum\r\n        et malesuada fames ac ante ipsum primis in faucibus. Vestibulum mattis\r\n        elit non enim gravida tempus. Quisque et nisi ligula. Quisque sagittis\r\n        vel ex sed rhoncus. In lacus purus, elementum vel ullamcorper at,\r\n        accumsan congue sem. Morbi eu mattis magna. Donec arcu ligula, mollis ac\r\n        leo ut, pretium euismod turpis. Maecenas quis elit id dui vehicula\r\n        sagittis semper aliquet enim.\r\n      </ReadMore>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UIPatternsReadMore;\r\n","import React from 'react';\r\nimport UIPatternsMessage from './UIPatternsMessage';\r\nimport UIPatternsDescriptionList from './UIPatternsDescriptionList';\r\nimport UIPatternsDropdownSelector from './UIPatternsDropdownSelector';\r\nimport UIPatternsPill from './UIPatternsPill';\r\nimport UIPatternsReadMore from './UIPatternsReadMore';\r\nimport styles from './UIPatterns.module.scss';\r\n\r\nfunction UIPatterns() {\r\n  return (\r\n    <div>\r\n      <div className={styles.items}>\r\n        <div className={styles['grid-item']}>\r\n          <h6>Message &amp; Notification</h6>\r\n          <UIPatternsMessage />\r\n        </div>\r\n        <div className={styles['grid-item']}>\r\n          <h6>DropdownSelector</h6>\r\n          <UIPatternsDropdownSelector />\r\n        </div>\r\n      </div>\r\n      <div className={styles.items}>\r\n        <div className={styles['grid-item']}>\r\n          <h6>DescriptionList</h6>\r\n          <UIPatternsDescriptionList />\r\n        </div>\r\n      </div>\r\n      <div className={styles.items}>\r\n        <div className={styles['grid-item']}>\r\n          <h6>Pills</h6>\r\n          <UIPatternsPill />\r\n        </div>\r\n      </div>\r\n      <div className={styles.items}>\r\n        <div className={styles['grid-item']}>\r\n          <h6>Read More</h6>\r\n          <UIPatternsReadMore />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UIPatterns;\r\n","import { Streams } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst list = (\r\n  params: Streams.ListSitesRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Streams.SitesApi = apiGenerator<Streams.SitesApi>(\r\n    Streams,\r\n    Streams.SitesApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Streams.RespListSites>(() => api.listSites(params));\r\n};\r\n\r\nexport default list;\r\n","const QueryKeys = {\r\n  list: 'streams/sites/list',\r\n};\r\n\r\nexport default QueryKeys;\r\n","import { useQuery } from 'react-query';\r\nimport { list } from 'tapis-api/streams/sites';\r\nimport { Streams } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nconst useList = (params: Streams.ListSitesRequest) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n  const result = useQuery<Streams.RespListSites, Error>(\r\n    [QueryKeys.list, params, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    () => list(params, basePath, accessToken?.access_token || ''),\r\n    {\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n  return result;\r\n};\r\n\r\nexport default useList;\r\n","export function joinPath(parts: string[]) {\r\n  let pathComponents: string[] = parts.reduce(\r\n    (acc: string[], value: string, i: number) => {\r\n      let partComponents = value.split('/');\r\n      //if not the last element in the parts array strip empty component from the end if it exists (remove trailing /)\r\n      if (\r\n        i < parts.length - 1 &&\r\n        partComponents[partComponents.length - 1] === ''\r\n      ) {\r\n        partComponents.pop();\r\n      }\r\n      return acc.concat(partComponents);\r\n    },\r\n    []\r\n  );\r\n  let path = pathComponents.join('/');\r\n  return path;\r\n}\r\n","import React from 'react';\r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport { useList } from 'tapis-hooks/streams/sites';\r\nimport { Streams } from '@tapis/tapis-typescript';\r\nimport { Navbar, NavItem } from 'tapis-ui/_wrappers/Navbar';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\nimport { joinPath } from 'utils/URLManager';\r\n\r\nconst SitesNav: React.FC<{ projectId: string }> = ({ projectId }) => {\r\n  const { url } = useRouteMatch();\r\n  const { data, isLoading, error } = useList({\r\n    projectId,\r\n  });\r\n  const definitions: Array<Streams.Site> = data?.result ?? [];\r\n\r\n  return (\r\n    <QueryWrapper isLoading={isLoading} error={error}>\r\n      <Navbar>\r\n        {definitions.length ? (\r\n          definitions.map((site) => {\r\n            const path = joinPath([url, site.site_name!]);\r\n            return (\r\n              <NavItem to={path} icon=\"project\" key={site.site_name}>\r\n                {`${site.site_name}`}\r\n              </NavItem>\r\n            );\r\n          })\r\n        ) : (\r\n          <i>No sites found</i>\r\n        )}\r\n      </Navbar>\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\nexport default SitesNav;\r\n","import SitesNav from './SitesNav';\r\n\r\nexport default SitesNav;\r\n","import { Streams } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst list = (\r\n  params: Streams.ListInstrumentsRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Streams.InstrumentsApi = apiGenerator<Streams.InstrumentsApi>(\r\n    Streams,\r\n    Streams.InstrumentsApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Streams.RespListInstruments>(() =>\r\n    api.listInstruments(params)\r\n  );\r\n};\r\n\r\nexport default list;\r\n","const QueryKeys = {\r\n  list: 'streams/instruments/list',\r\n};\r\n\r\nexport default QueryKeys;\r\n","import { useQuery } from 'react-query';\r\nimport { list } from 'tapis-api/streams/instruments';\r\nimport { Streams } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nconst useList = (params: Streams.ListInstrumentsRequest) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n  const result = useQuery<Streams.RespListInstruments, Error>(\r\n    [QueryKeys.list, params, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    () => list(params, basePath, accessToken?.access_token || ''),\r\n    {\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n  return result;\r\n};\r\n\r\nexport default useList;\r\n","import InstrumentsNav from './InstrumentsNav';\r\n\r\nexport default InstrumentsNav;\r\n","import React from 'react';\r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport { useList } from 'tapis-hooks/streams/instruments';\r\nimport { Streams } from '@tapis/tapis-typescript';\r\nimport { Navbar, NavItem } from 'tapis-ui/_wrappers/Navbar';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\nimport { joinPath } from 'utils/URLManager';\r\n\r\nconst InstrumentsNav: React.FC<{ projectId: string; siteId: string }> = ({\r\n  projectId,\r\n  siteId,\r\n}) => {\r\n  const { url } = useRouteMatch();\r\n  // Get a systems listing with default request params\r\n  const { data, isLoading, error } = useList({\r\n    projectId,\r\n    siteId,\r\n  });\r\n  const definitions: Array<Streams.Instrument> = data?.result ?? [];\r\n\r\n  return (\r\n    <QueryWrapper isLoading={isLoading} error={error}>\r\n      <Navbar>\r\n        {definitions.length ? (\r\n          definitions.map((instrument) => {\r\n            const path = joinPath([url, instrument.inst_name!]);\r\n            return (\r\n              <NavItem to={path} icon=\"project\" key={instrument.inst_name}>\r\n                {`${instrument.inst_name}`}\r\n              </NavItem>\r\n            );\r\n          })\r\n        ) : (\r\n          <i>No instruments found</i>\r\n        )}\r\n      </Navbar>\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\nexport default InstrumentsNav;\r\n","import { Streams } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst list = (\r\n  params: Streams.ListMeasurementsRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Streams.MeasurementsApi = apiGenerator<Streams.MeasurementsApi>(\r\n    Streams,\r\n    Streams.MeasurementsApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Streams.RespListMeasurements>(() =>\r\n    api.listMeasurements(params)\r\n  );\r\n};\r\n\r\nexport default list;\r\n","const QueryKeys = {\r\n  list: 'streams/measurements/list',\r\n};\r\n\r\nexport default QueryKeys;\r\n","import { useQuery } from 'react-query';\r\nimport { list } from 'tapis-api/streams/measurements';\r\nimport { Streams } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nconst useList = (params: Streams.ListMeasurementsRequest) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n  const result = useQuery<Streams.RespListMeasurements, Error>(\r\n    [QueryKeys.list, params, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    () => list(params, basePath, accessToken?.access_token || ''),\r\n    {\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n  return result;\r\n};\r\n\r\nexport default useList;\r\n","import React from 'react';\r\nimport Plotly from 'plotly.js';\r\nimport createPlotlyComponent from 'react-plotly.js/factory';\r\n\r\n//prevent Plotly memory issues with certain versions of node by using createPlotlyComponent instead of importing Plot from react-plotly.js directly\r\nconst Plot = createPlotlyComponent(Plotly);\r\n\r\nconst MeasurementsPlot: React.FC<{\r\n  measurements: { [datetime: string]: number };\r\n  layout: Partial<Plotly.Layout>;\r\n}> = ({ measurements, layout }) => {\r\n  let data: any = [\r\n    {\r\n      x: [],\r\n      y: [],\r\n      type: 'scatter',\r\n    },\r\n  ];\r\n  for (let date in measurements) {\r\n    data[0].x.push(date);\r\n    data[0].y.push(measurements[date]);\r\n  }\r\n\r\n  return <Plot data={data} layout={layout} />;\r\n};\r\n\r\nexport default MeasurementsPlot;\r\n","import MeasurementsPlot from './MeasurementsPlot';\r\n\r\nexport default MeasurementsPlot;\r\n","import Measurements from './Measurements';\r\n\r\nexport default Measurements;\r\n","import React, { useEffect, useState } from 'react';\r\nimport styles from './Measurements.module.scss';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport MeasurementsPlot from '../MeasurementsPlot';\r\n\r\nconst Measurements: React.FC<{\r\n  variable: string;\r\n  graphWidth: number;\r\n  id: string;\r\n  measurements: { [datetime: string]: number };\r\n}> = ({ variable, graphWidth, id, measurements }) => {\r\n  let plotlyLayout: Partial<Plotly.Layout> = {\r\n    width: graphWidth,\r\n    height: 400,\r\n  };\r\n  const [showGraph, setGraph] = useState<boolean>(false);\r\n  const [measurementsList, setMeasurementsList] = useState<string[]>([]);\r\n  const [measurementsCollapsed, setMeasurementsCollapsed] =\r\n    useState<boolean>(true);\r\n  const [fullMeasurementsList, setFullMeasurementsList] = useState<string[]>(\r\n    []\r\n  );\r\n  const [collapsedMeasurementsList, setCollapsedMeasurementsList] = useState<\r\n    string[]\r\n  >([]);\r\n  const [variableLabel, setVariableLabel] = useState<string>('');\r\n\r\n  useEffect(() => {\r\n    let fullMeasurements = Object.entries(measurements).map(\r\n      (entry: [string, number]) => {\r\n        let date = entry[0].replace('T', ' ');\r\n        return `${date}: ${entry[1]}`;\r\n      }\r\n    );\r\n    let collapsedMeasurements: string[] = fullMeasurements;\r\n    if (fullMeasurements.length > 5) {\r\n      collapsedMeasurements = [\r\n        fullMeasurements[0],\r\n        fullMeasurements[1],\r\n        '...',\r\n        fullMeasurements[fullMeasurements.length - 2],\r\n        fullMeasurements[fullMeasurements.length - 1],\r\n      ];\r\n    }\r\n    setMeasurementsList(\r\n      measurementsCollapsed ? collapsedMeasurements : fullMeasurements\r\n    );\r\n    setFullMeasurementsList(fullMeasurements);\r\n    setCollapsedMeasurementsList(collapsedMeasurements);\r\n  }, [measurements, measurementsCollapsed]);\r\n\r\n  useEffect(() => {\r\n    let capitalizedVariable = `${variable\r\n      .charAt(0)\r\n      .toUpperCase()}${variable.slice(1)}`;\r\n    setVariableLabel(capitalizedVariable);\r\n  }, [variable]);\r\n\r\n  const toggleGraph = () => {\r\n    setGraph(!showGraph);\r\n  };\r\n\r\n  const toggleMeasurements = () => {\r\n    setMeasurementsCollapsed(!measurementsCollapsed);\r\n    setMeasurementsList(\r\n      measurementsCollapsed ? fullMeasurementsList : collapsedMeasurementsList\r\n    );\r\n  };\r\n\r\n  //place \"Show/Hide Graph\" button above\r\n  //collapse measurements and expand on click\r\n  //allow multiple graphs to be expanded at once\r\n  return (\r\n    <li className={styles.li}>\r\n      <div className={styles['graph-toggle']} onClick={toggleGraph}>\r\n        <div className={styles['graph-toggle-label']}>\r\n          {showGraph ? 'Hide Graph' : 'Show Graph'}\r\n        </div>\r\n      </div>\r\n      <div\r\n        id={id}\r\n        className={\r\n          styles['graph-container'] +\r\n          (showGraph ? ` ${styles['graph-container-expand']}` : '')\r\n        }\r\n      >\r\n        <div id={`${id}_size_wrapper`}>\r\n          <MeasurementsPlot measurements={measurements} layout={plotlyLayout} />\r\n        </div>\r\n      </div>\r\n      <div className={styles['variable-label']}>{`${variableLabel}`}</div>\r\n      <div className={styles['measurements-list']} onClick={toggleMeasurements}>\r\n        {measurementsList.map((entry: string) => {\r\n          return <div key={uuidv4()}>{entry}</div>;\r\n        })}\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Measurements;\r\n","import { useList } from 'tapis-hooks/streams/measurements';\r\nimport Measurements from '../_components/Measurements';\r\nimport React from 'react';\r\nimport styles from './Layout.module.scss';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\nimport { Streams } from '@tapis/tapis-typescript';\r\n\r\nconst Layout: React.FC<{\r\n  projectId: string;\r\n  siteId: string;\r\n  instrumentId: string;\r\n  start?: Date;\r\n  end?: Date;\r\n  limit?: number;\r\n  offset?: number;\r\n}> = ({ projectId, siteId, instrumentId, start, end, limit, offset }) => {\r\n  let payload: Streams.ListMeasurementsRequest = {\r\n    projectId,\r\n    siteId,\r\n    instId: instrumentId,\r\n  };\r\n  if (start) {\r\n    payload.startDate = start.toISOString();\r\n  }\r\n  if (end) {\r\n    payload.endDate = end.toISOString();\r\n  }\r\n  if (limit !== undefined) {\r\n    payload.limit = limit;\r\n  }\r\n  if (offset !== undefined) {\r\n    payload.offset = offset;\r\n  }\r\n\r\n  const { data, isLoading, error } = useList(payload);\r\n\r\n  const { instrument, site, measurements_in_file, ...measurements } =\r\n    data?.result ?? {};\r\n\r\n  const variables = Object.keys(measurements);\r\n\r\n  return (\r\n    <QueryWrapper isLoading={isLoading} error={error}>\r\n      <div className={styles['variable-list']}>\r\n        {variables.length ? (\r\n          variables.map((variable: string, index: number) => {\r\n            const id = `${index}`;\r\n            let variableMeasurements = measurements[variable];\r\n            return (\r\n              <Measurements\r\n                key={id}\r\n                id={id}\r\n                variable={variable}\r\n                graphWidth={600}\r\n                measurements={variableMeasurements}\r\n              />\r\n            );\r\n          })\r\n        ) : (\r\n          <i>No measurements found</i>\r\n        )}\r\n      </div>\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","import Toolbar from './Toolbar';\r\n\r\nexport default Toolbar;\r\n","import React, { useState } from 'react';\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport styles from './Toolbar.module.scss';\r\n\r\nconst Toolbar: React.FC<{\r\n  start: Date | undefined;\r\n  end: Date | undefined;\r\n  setStart: (start: Date) => void;\r\n  setEnd: (end: Date) => void;\r\n  setLimit: (limit: number | undefined) => void;\r\n  setOffset: (offset: number | undefined) => void;\r\n}> = ({ setStart, setEnd, setLimit, setOffset, start, end }) => {\r\n  const [limitInput, setLimitInput] = useState<string>('');\r\n  const [offsetInput, setOffsetInput] = useState<string>('');\r\n\r\n  const createLimit = (event: any) => {\r\n    let value = event.target.value;\r\n    setLimitInput(value);\r\n  };\r\n\r\n  const createOffset = (event: any) => {\r\n    let value = event.target.value;\r\n    setOffsetInput(value);\r\n  };\r\n\r\n  const validateLimit = (event: any) => {\r\n    let value: number | undefined = parseInt(event.target.value);\r\n    if (isNaN(value)) {\r\n      value = undefined;\r\n    }\r\n    if (value !== undefined && value < 1) {\r\n      value = 1;\r\n    }\r\n    setLimitInput(value?.toString() || '');\r\n    setLimit(value);\r\n  };\r\n\r\n  const validateOffset = (event: any) => {\r\n    let value: number | undefined = parseInt(event.target.value);\r\n    if (isNaN(value)) {\r\n      value = undefined;\r\n    }\r\n    if (value !== undefined && value < 0) {\r\n      value = 0;\r\n    }\r\n    setOffsetInput(value?.toString() || '');\r\n    setOffset(value);\r\n  };\r\n\r\n  return (\r\n    <div className={styles['control-bar']}>\r\n      <div className={styles['control']}>\r\n        Start Date\r\n        <div>\r\n          <DateTimePicker onChange={setStart} value={start} />\r\n        </div>\r\n      </div>\r\n      <div className={styles['control']}>\r\n        End Date\r\n        <div>\r\n          <DateTimePicker onChange={setEnd} value={end} />\r\n        </div>\r\n      </div>\r\n      <div className={styles['control']}>\r\n        Limit\r\n        <div>\r\n          <input\r\n            className={styles['numeric-input']}\r\n            type=\"number\"\r\n            value={limitInput}\r\n            onChange={createLimit}\r\n            onBlur={validateLimit}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className={styles['control']}>\r\n        Offset\r\n        <div>\r\n          <input\r\n            className={styles['numeric-input']}\r\n            type=\"number\"\r\n            value={offsetInput}\r\n            onChange={createOffset}\r\n            onBlur={validateOffset}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Toolbar;\r\n","import React, { useState } from 'react';\r\nimport {\r\n  Route,\r\n  useRouteMatch,\r\n  RouteComponentProps,\r\n  Switch,\r\n} from 'react-router-dom';\r\nimport { SectionMessage } from 'tapis-ui/_common';\r\nimport MeasurementsListing from '../../MeasurementsListing';\r\nimport Toolbar from '../_components/Toolbar';\r\n\r\nconst Router: React.FC<{ projectId: string; siteId: string }> = ({\r\n  projectId,\r\n  siteId,\r\n}) => {\r\n  const { path } = useRouteMatch();\r\n\r\n  const [start, setStart] = useState<Date | undefined>(undefined);\r\n  const [end, setEnd] = useState<Date | undefined>(undefined);\r\n\r\n  const [limit, setLimit] = useState<number | undefined>(undefined);\r\n  const [offset, setOffset] = useState<number | undefined>(undefined);\r\n\r\n  return (\r\n    <div>\r\n      <Toolbar\r\n        start={start}\r\n        end={end}\r\n        setStart={setStart}\r\n        setEnd={setEnd}\r\n        setLimit={setLimit}\r\n        setOffset={setOffset}\r\n      />\r\n      <Switch>\r\n        <Route path={path} exact>\r\n          <SectionMessage type=\"info\">\r\n            Select an instrument from the list.\r\n          </SectionMessage>\r\n        </Route>\r\n\r\n        <Route\r\n          path={`${path}/:instrumentId`}\r\n          render={({\r\n            match: {\r\n              params: { instrumentId },\r\n            },\r\n          }: RouteComponentProps<{ instrumentId: string }>) => (\r\n            <MeasurementsListing\r\n              projectId={projectId}\r\n              siteId={siteId}\r\n              instrumentId={instrumentId}\r\n              start={start}\r\n              end={end}\r\n              limit={limit}\r\n              offset={offset}\r\n            />\r\n          )}\r\n        />\r\n      </Switch>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Router;\r\n","import React from 'react';\r\nimport { PageLayout, LayoutNavWrapper, LayoutBody } from 'tapis-ui/_common';\r\nimport { InstrumentsNav } from '../_components';\r\nimport { Router } from '../_Router';\r\n\r\nconst Layout: React.FC<{ projectId: string; siteId: string }> = ({\r\n  projectId,\r\n  siteId,\r\n}) => {\r\n  const sidebar = (\r\n    <LayoutNavWrapper>\r\n      <InstrumentsNav projectId={projectId} siteId={siteId} />\r\n    </LayoutNavWrapper>\r\n  );\r\n\r\n  const body = (\r\n    <LayoutBody>\r\n      <Router projectId={projectId} siteId={siteId} />\r\n    </LayoutBody>\r\n  );\r\n\r\n  return <PageLayout left={sidebar} right={body} />;\r\n};\r\n\r\nexport default Layout;\r\n","import React from 'react';\r\nimport {\r\n  Route,\r\n  useRouteMatch,\r\n  RouteComponentProps,\r\n  Switch,\r\n} from 'react-router-dom';\r\nimport { SitesNav } from '../_components';\r\nimport Instruments from '../../Instruments';\r\n\r\nconst Router: React.FC<{ projectId: string }> = ({ projectId }) => {\r\n  const { path } = useRouteMatch();\r\n\r\n  return (\r\n    <Switch>\r\n      <Route path={`${path}`} exact>\r\n        <SitesNav projectId={projectId} />\r\n      </Route>\r\n\r\n      <Route\r\n        path={`${path}/:siteId`}\r\n        render={({\r\n          match: {\r\n            params: { siteId },\r\n          },\r\n        }: RouteComponentProps<{ siteId: string }>) => (\r\n          <Instruments projectId={projectId} siteId={siteId} />\r\n        )}\r\n      />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Router;\r\n","import React from 'react';\r\nimport { Router } from '../_Router';\r\n\r\nconst Layout: React.FC<{ projectId: string }> = ({ projectId }) => {\r\n  return <Router projectId={projectId} />;\r\n};\r\n\r\nexport default Layout;\r\n","import ProjectsNav from './ProjectsNav';\r\n\r\nexport default ProjectsNav;\r\n","import React from 'react';\r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport { useList } from 'tapis-hooks/streams/projects';\r\nimport { Streams } from '@tapis/tapis-typescript';\r\nimport { Navbar, NavItem } from 'tapis-ui/_wrappers/Navbar';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\nimport { joinPath } from 'utils/URLManager';\r\n\r\nconst ProjectsNav: React.FC = () => {\r\n  const { url } = useRouteMatch();\r\n  // Get a projects listing with default request params\r\n  const { data, isLoading, error } = useList();\r\n  const definitions: Array<Streams.Project> = data?.result ?? [];\r\n\r\n  return (\r\n    <QueryWrapper isLoading={isLoading} error={error}>\r\n      <Navbar>\r\n        {definitions.length ? (\r\n          definitions.map((project) => {\r\n            const path = joinPath([url, project.project_name!]);\r\n            return (\r\n              <NavItem to={path} icon=\"project\" key={project.project_name}>\r\n                {`${project.project_name}`}\r\n              </NavItem>\r\n            );\r\n          })\r\n        ) : (\r\n          <i>No projects found</i>\r\n        )}\r\n      </Navbar>\r\n    </QueryWrapper>\r\n  );\r\n};\r\n\r\nexport default ProjectsNav;\r\n","import React from 'react';\r\nimport {\r\n  Route,\r\n  useRouteMatch,\r\n  RouteComponentProps,\r\n  Switch,\r\n} from 'react-router-dom';\r\nimport Sites from '../../Sites';\r\nimport { ProjectsNav } from '../_components';\r\n\r\nconst Router: React.FC = () => {\r\n  const { path } = useRouteMatch();\r\n\r\n  return (\r\n    <Switch>\r\n      <Route path={`${path}`} exact>\r\n        <ProjectsNav />\r\n      </Route>\r\n\r\n      <Route\r\n        path={`${path}/:projectId`}\r\n        render={({\r\n          match: {\r\n            params: { projectId },\r\n          },\r\n        }: RouteComponentProps<{ projectId: string }>) => (\r\n          <Sites projectId={projectId} />\r\n        )}\r\n      />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Router;\r\n","import React from 'react';\r\nimport { Router } from '../_Router';\r\n\r\nconst Layout: React.FC = () => {\r\n  return <Router />;\r\n};\r\n\r\nexport default Layout;\r\n","import React from 'react';\r\nimport Projects from '../Projects';\r\nimport { Breadcrumbs, PageLayout, LayoutHeader } from 'tapis-ui/_common';\r\nimport { useLocation } from 'react-router';\r\nimport breadcrumbsFromPathname from 'tapis-ui/_common/Breadcrumbs/breadcrumbsFromPathname';\r\nimport styles from './Layout.module.scss';\r\n\r\nconst pathTypes = ['Projects', 'Sites', 'Instruments'];\r\n\r\nconst Layout: React.FC = () => {\r\n  const { pathname } = useLocation();\r\n  const crumbs = breadcrumbsFromPathname(pathname).slice(0, 3);\r\n  const pathType = pathTypes[crumbs.length - 1];\r\n\r\n  const header = (\r\n    <LayoutHeader>\r\n      <div>\r\n        <div className={styles['header-text']}>{pathType}</div>\r\n        <div className={styles.breadcrumbs}>\r\n          <Breadcrumbs breadcrumbs={[...crumbs]} />\r\n        </div>\r\n      </div>\r\n    </LayoutHeader>\r\n  );\r\n\r\n  const body = <Projects />;\r\n\r\n  return <PageLayout top={header} left={body} />;\r\n};\r\n\r\nexport default Layout;\r\n","import React from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport { SectionHeader, ProtectedRoute } from 'tapis-ui/_common';\r\nimport { useLogin } from 'tapis-hooks/authenticator';\r\n\r\nimport Apps from '../Apps';\r\nimport Login from '../Login';\r\nimport Dashboard from '../Dashboard';\r\nimport Jobs from '../Jobs';\r\nimport Systems from '../Systems';\r\nimport Files from '../Files';\r\nimport Workflows from '../Workflows';\r\nimport UIPatterns from '../UIPatterns';\r\nimport Streams from '../Streams';\r\n\r\nconst Router: React.FC = () => {\r\n  const { logout } = useLogin();\r\n\r\n  return (\r\n    <Switch>\r\n      <Route exact path=\"/\">\r\n        <Dashboard />\r\n      </Route>\r\n      <Route path=\"/login\">\r\n        <Login />\r\n      </Route>\r\n      <Route\r\n        path=\"/logout\"\r\n        render={() => {\r\n          logout();\r\n          return <Redirect to=\"/login\" />;\r\n        }}\r\n      />\r\n      <ProtectedRoute path=\"/systems\">\r\n        <Systems />\r\n      </ProtectedRoute>\r\n      <ProtectedRoute path=\"/apps\">\r\n        <Apps />\r\n      </ProtectedRoute>\r\n      <ProtectedRoute path=\"/jobs\">\r\n        <Jobs />\r\n      </ProtectedRoute>\r\n      <ProtectedRoute path=\"/files\">\r\n        <Files />\r\n      </ProtectedRoute>\r\n      <ProtectedRoute path=\"/streams\">\r\n        <Streams />\r\n      </ProtectedRoute>\r\n      <ProtectedRoute path=\"/workflows\">\r\n        <Workflows />\r\n      </ProtectedRoute>\r\n      <Route path=\"/uipatterns\">\r\n        <SectionHeader>UI Patterns</SectionHeader>\r\n        <UIPatterns />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Router;\r\n","import { Tenants } from '@tapis/tapis-typescript';\r\nimport { apiGenerator, errorDecoder } from 'tapis-api/utils';\r\n\r\nconst list = (\r\n  params: Tenants.ListTenantsRequest,\r\n  basePath: string,\r\n  jwt: string\r\n) => {\r\n  const api: Tenants.TenantsApi = apiGenerator<Tenants.TenantsApi>(\r\n    Tenants,\r\n    Tenants.TenantsApi,\r\n    basePath,\r\n    jwt\r\n  );\r\n  return errorDecoder<Tenants.RespListTenants>(() => api.listTenants(params));\r\n};\r\n\r\nexport default list;\r\n","const QueryKeys = {\r\n  list: 'tenants/list',\r\n};\r\n\r\nexport default QueryKeys;\r\n","import { useQuery, QueryObserverOptions } from 'react-query';\r\nimport { list } from 'tapis-api/tenants';\r\nimport { Tenants } from '@tapis/tapis-typescript';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport QueryKeys from './queryKeys';\r\n\r\nexport const defaultParams: Tenants.ListTenantsRequest = {};\r\n\r\nconst useList = (\r\n  params: Tenants.ListTenantsRequest = defaultParams,\r\n  options: QueryObserverOptions<Tenants.RespListTenants, Error> = {}\r\n) => {\r\n  const { accessToken, basePath } = useTapisConfig();\r\n  const result = useQuery<Tenants.RespListTenants, Error>(\r\n    [QueryKeys.list, params, accessToken],\r\n    // Default to no token. This will generate a 403 when calling the list function\r\n    // which is expected behavior for not having a token\r\n    () => list(params, basePath, accessToken?.access_token || ''),\r\n    {\r\n      ...options,\r\n      enabled: !!accessToken,\r\n    }\r\n  );\r\n  return result;\r\n};\r\n\r\nexport default useList;\r\n","import App from './Layout';\r\n\r\nexport default App;\r\n","import React, { useState } from 'react';\r\nimport { Sidebar } from 'tapis-app/_components';\r\nimport { Router } from 'tapis-app/_Router';\r\nimport { PageLayout } from 'tapis-ui/_common';\r\nimport { NotificationsProvider } from 'tapis-app/_components/Notifications';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useList } from 'tapis-hooks/tenants';\r\nimport './Layout.scss';\r\nimport { useTapisConfig } from 'tapis-hooks';\r\nimport { useLogin } from 'tapis-hooks/authenticator';\r\nimport {\r\n  ButtonDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n} from 'reactstrap';\r\nimport { QueryWrapper } from 'tapis-ui/_wrappers';\r\n\r\nconst Layout: React.FC = () => {\r\n  const { claims } = useTapisConfig();\r\n  const { data, isLoading, error } = useList();\r\n  const tenants = data?.result ?? [];\r\n  const history = useHistory();\r\n  const [isOpen, setIsOpen] = useState<boolean>(false);\r\n  const { logout } = useLogin();\r\n\r\n  const header = (\r\n    <div className=\"tapis-ui__header\">\r\n      <div>TapisUI</div>\r\n      <div></div>\r\n      <div>\r\n        {claims['sub'] && (\r\n          <ButtonDropdown\r\n            size=\"sm\"\r\n            isOpen={isOpen}\r\n            toggle={() => setIsOpen(!isOpen)}\r\n            className=\"dropdown-button\"\r\n          >\r\n            <DropdownToggle caret>{claims['sub']}</DropdownToggle>\r\n            <DropdownMenu style={{ maxHeight: '50vh', overflowY: 'scroll' }}>\r\n              <DropdownItem header>Tenants</DropdownItem>\r\n              <DropdownItem divider />\r\n              <QueryWrapper isLoading={isLoading} error={error}>\r\n                {tenants.map((tenant) => {\r\n                  return (\r\n                    <DropdownItem\r\n                      onClick={() => {\r\n                        logout();\r\n                        window.location.href = tenant.base_url + '/tapis-ui/';\r\n                      }}\r\n                    >\r\n                      {tenant.tenant_id}\r\n                    </DropdownItem>\r\n                  );\r\n                })}\r\n              </QueryWrapper>\r\n              <DropdownItem divider />\r\n              <DropdownItem onClick={() => history.push('/logout')}>\r\n                Logout\r\n              </DropdownItem>\r\n            </DropdownMenu>\r\n          </ButtonDropdown>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const workbenchContent = (\r\n    <div className=\"workbench-content\">\r\n      <Router />\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <NotificationsProvider>\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          flexGrow: 1,\r\n          height: '100%',\r\n          minHeight: '100vh',\r\n        }}\r\n      >\r\n        <PageLayout top={header} left={<Sidebar />} right={workbenchContent} />\r\n      </div>\r\n    </NotificationsProvider>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { HashRouter as Router } from 'react-router-dom';\r\nimport App from 'tapis-app';\r\nimport TapisProvider from 'tapis-hooks/provider';\r\nimport 'tapis-ui/index.css';\r\nimport { resolveBasePath } from 'utils/resloveBasePath';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <TapisProvider basePath={resolveBasePath()}>\r\n      <Router>\r\n        <App />\r\n      </Router>\r\n    </TapisProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('react-root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","export const resolveBasePath = () => {\r\n  let baseUrl = \"https://dev.develop.tapis.io\";\r\n  //this breaks github pages or any instance where the site is not hosted at the same url as the preferred tenant\r\n  // console.log(window.location.href);\r\n  // let baseUrl = window.location.href.replace('/tapis_ui_streams/', '').split('#')[0];\r\n  // // .replace(/^https:\\/\\/ui\\./, 'https://');\r\n  // // Direct request from local dev env to dev.develop\r\n  // if (/127\\.0\\.0\\.1|localhost|0\\.0\\.0\\.0/.test(baseUrl)) {\r\n  //   return 'https://dev.develop.tapis.io';\r\n  // }\r\n\r\n  return baseUrl;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Destination_button__pYPsB\",\"grid-2-auto-auto\":\"Destination_grid-2-auto-auto__2Gp3p\",\"grid-2\":\"Destination_grid-2__1yL2_\",\"radio-button-container\":\"Destination_radio-button-container__1gaKu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"remove\":\"FileInputs_remove__l3EeS\",\"nospace\":\"FileInputs_nospace__JYQKr\",\"job-input\":\"FileInputs_job-input__3epms\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Paginator_root__2as2O\",\"endcap\":\"Paginator_endcap__q9Y4A\",\"page-root\":\"Paginator_page-root__3DSFC\",\"page\":\"Paginator_page__3nm2D\",\"current\":\"Paginator_current__1GAzq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cards\":\"Dashboard_cards__3e9Iv\",\"card\":\"Dashboard_card__8ghDp\",\"card-header\":\"Dashboard_card-header__3dqFc\",\"card-footer\":\"Dashboard_card-footer__pxc-p\",\"header\":\"Dashboard_header__2R0mU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"col-header\":\"MoveCopyModal_col-header__2SvWo\",\"file-list\":\"MoveCopyModal_file-list__7mt7Q\",\"file-list-origin\":\"MoveCopyModal_file-list-origin__2Ymwh\",\"nav-list\":\"MoveCopyModal_nav-list__NrCVz\",\"remove-file\":\"MoveCopyModal_remove-file__2KSqJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notification-toast-container\":\"NotificationToast_notification-toast-container__2DwvY\",\"MuiSnackbar-anchorOriginBottomLeft\":\"NotificationToast_MuiSnackbar-anchorOriginBottomLeft__1Mz4i\",\"notification-toast\":\"NotificationToast_notification-toast__MRVFf\",\"MuiSnackbarContent-root\":\"NotificationToast_MuiSnackbarContent-root__8w7Cc\",\"toast-is-error\":\"NotificationToast_toast-is-error__zNUio\",\"notification-toast-body\":\"NotificationToast_notification-toast-body__DsVHI\",\"MuiSnackbarContent-message\":\"NotificationToast_MuiSnackbarContent-message___q7uW\",\"notification-toast-icon-wrapper\":\"NotificationToast_notification-toast-icon-wrapper__1b18B\",\"notification-toast-content\":\"NotificationToast_notification-toast-content__2B282\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tasks\":\"Pipeline_tasks__2hp7I\",\"task\":\"Pipeline_task__39Xan\",\"task-header\":\"Pipeline_task-header__13QdJ\",\"task-body\":\"Pipeline_task-body__13yxs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"count\":\"ArchiveList_count__1Lfy1\",\"container\":\"ArchiveList_container__24XOt\",\"archive\":\"ArchiveList_archive__2mqEV\",\"last\":\"ArchiveList_last__1SdVV\",\"odd\":\"ArchiveList_odd__1fU9m\",\"even\":\"ArchiveList_even__3oCYF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"count\":\"Groups_count__3u40S\",\"container\":\"Groups_container__9vJJ0\",\"group\":\"Groups_group__3UugF\",\"last\":\"Groups_last__22jX2\",\"odd\":\"Groups_odd__25GRL\",\"even\":\"Groups_even__nyzFZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"count\":\"Identities_count__3bgOa\",\"container\":\"Identities_container__23VkG\",\"identity\":\"Identities_identity__1lIdD\",\"last\":\"Identities_last__3PXM_\",\"odd\":\"Identities_odd__1gJG_\",\"even\":\"Identities_even__1UOnq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"Breadcrumbs_box__qiK1B\",\"fragment\":\"Breadcrumbs_fragment__2U9kF\",\"link\":\"Breadcrumbs_link__2o--d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"TextCopyField_input__12fbm bootstrap_form_form-control__2Nq82\",\"copy-button\":\"TextCopyField_copy-button__2NWkA c-button_c-button--secondary__2T9wm\",\"is-copied\":\"TextCopyField_is-copied__2JHPE\",\"button__icon\":\"TextCopyField_button__icon__1CohL c-button_c-button__icon--before__-x4yU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"file-list\":\"FileListing_file-list__2-its\",\"file-list-select\":\"FileListing_file-list-select__15P3e\",\"link\":\"FileListing_link__1kWYb\",\"selected\":\"FileListing_selected__327wE\",\"select-all\":\"FileListing_select-all__DKFq7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"LayoutSections_body__1VJrA\",\"constrain\":\"LayoutSections_constrain__1qvkH\",\"nav\":\"LayoutSections_nav__nFiDT\",\"detail\":\"LayoutSections_detail__2qWis\",\"sub-header\":\"LayoutSections_sub-header__1x7zD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav-list\":\"Navbar_nav-list__WBkXO\",\"nav-link\":\"Navbar_nav-link__1k3s-\",\"active\":\"Navbar_active__tjLyt\",\"nav-text\":\"Navbar_nav-text__3PxRH\",\"nav-content\":\"Navbar_nav-content__3vvh5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user-inputs\":\"CreateGroupModal_user-inputs__by797\",\"user-input\":\"CreateGroupModal_user-input__FKTih\",\"remove-button\":\"CreateGroupModal_remove-button__jOWKn\",\"add-button\":\"CreateGroupModal_add-button__29ZRe\",\"subheader\":\"CreateGroupModal_subheader__ugLTt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav-item\":\"Menu_nav-item__16zEh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UIPatternsMessage_container__3ydJO\",\"is-row-end\":\"UIPatternsMessage_is-row-end__3TyO0\",\"secondary\":\"UIPatternsMessage_secondary__2ZvCp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item-narrow\":\"UIPatternsDescriptionList_item-narrow__8MV8m\",\"item-x-narrow\":\"UIPatternsDescriptionList_item-x-narrow__2SvnI\",\"list-cols\":\"UIPatternsDescriptionList_list-cols__2039M\",\"list-rows\":\"UIPatternsDescriptionList_list-rows__3wY5K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Section_root__3onrH\",\"messages\":\"Section_messages__nz3H6\",\"header\":\"Section_header__xbLHJ\",\"content\":\"Section_content__wyDUf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"SectionHeader_root__2Tv9W\",\"heading\":\"SectionHeader_heading__mbbZp\",\"for-form\":\"SectionHeader_for-form__1dkgI\",\"for-table\":\"SectionHeader_for-table__2QQ_k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"CopyButton_input__1bBZl bootstrap_form_form-control__2Nq82\",\"copy-button\":\"CopyButton_copy-button__1T2kG c-button_c-button--secondary__2T9wm\",\"is-copied\":\"CopyButton_is-copied__Q48rq\",\"button__icon\":\"CopyButton_button__icon__3Qaqd c-button_c-button__icon--before__-x4yU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout-root\":\"PageLayout_layout-root__1Y3KS\",\"layout-row\":\"PageLayout_layout-row__3_EcM\",\"constrain\":\"PageLayout_constrain__3cRQI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Collapse_header__1AaHf\",\"controls\":\"Collapse_controls__3BCqx\",\"expand\":\"Collapse_expand__XSfrk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card-container\":\"Dashboard_card-container__1_mYn\",\"card\":\"Dashboard_card__guv2M\",\"card-header\":\"Dashboard_card-header__xxaCo\",\"card-footer\":\"Dashboard_card-footer__2qPI6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pipeline-run-container\":\"PipelineRuns_pipeline-run-container__24thW\",\"pipeline-run-body\":\"PipelineRuns_pipeline-run-body__j3ul2\",\"section-header\":\"PipelineRuns_section-header__2CE_h\",\"task-executions\":\"PipelineRuns_task-executions__3aU_d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"array\":\"FieldArray_array__36wxe\",\"item\":\"FieldArray_item__35eab\",\"array-group\":\"FieldArray_array-group__1ZTQY\",\"description\":\"FieldArray_description__2OId8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pipeline-form-container\":\"CreatePipelineModel_pipeline-form-container__10tfC\",\"execution-profile\":\"CreatePipelineModel_execution-profile__GGhZz\",\"tasks-container\":\"CreatePipelineModel_tasks-container__Lc6aB\",\"section\":\"CreatePipelineModel_section__5l9JW\",\"tasks-section-last\":\"CreatePipelineModel_tasks-section-last__UgU7s\",\"task-inputs\":\"CreatePipelineModel_task-inputs__1Fiux\",\"task-input\":\"CreatePipelineModel_task-input__DNTDU\",\"remove-button\":\"CreatePipelineModel_remove-button__2xQ7r\",\"add-button\":\"CreatePipelineModel_add-button__2gMLy\",\"subheader\":\"CreatePipelineModel_subheader__2jJZq\",\"count\":\"CreatePipelineModel_count__2xV1W\",\"add-task\":\"CreatePipelineModel_add-task__1JOTs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid-2\":\"Credentials_grid-2__1hY5f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Expand_container__211ae\",\"summary\":\"Expand_summary__rEFqf\",\"header\":\"Expand_header__3HmD0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"SubmitWrapper_wrapper__28nZ4\",\"loading-spinner\":\"SubmitWrapper_loading-spinner__23czQ\",\"reverse\":\"SubmitWrapper_reverse__2TNzM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"transfer-list\":\"TransferListing_transfer-list__1CSAn\",\"selected\":\"TransferListing_selected__-L5G8\",\"link\":\"TransferListing_link__3w8Gs\",\"selectable\":\"TransferListing_selectable__3P8F_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"system-list\":\"SystemListing_system-list__2d8M4\",\"selected\":\"SystemListing_selected__OVDkk\",\"link\":\"SystemListing_link__2Y41I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tab\":\"Tabs_tab__vtNQu\",\"active\":\"Tabs_active__1unub\",\"pane\":\"Tabs_pane__2mqNy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"progress-bar\":\"Progress_progress-bar__qYBmy\",\"inner-bar\":\"Progress_inner-bar__kjUBc\",\"overlay\":\"Progress_overlay__3qd4M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"file-list-table\":\"DeleteModal_file-list-table__16s8i\",\"remove-file\":\"DeleteModal_remove-file__-5pV0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ImageBuildTask_container__3DlsK\",\"section\":\"ImageBuildTask_section__1B_RQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user-inputs\":\"AddGroupUsersModal_user-inputs__3kPsP\",\"user-input\":\"AddGroupUsersModal_user-input__1T2PY\",\"remove-button\":\"AddGroupUsersModal_remove-button__2eAI4\",\"add-button\":\"AddGroupUsersModal_add-button__1Dpte\",\"subheader\":\"AddGroupUsersModal_subheader__3E0Dl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"SectionContent_root__28Dbv\",\"should-scroll\":\"SectionContent_should-scroll__1aJHt\",\"should-debug-layout\":\"SectionContent_should-debug-layout__1TfY2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"clamped\":\"ReadMore_clamped__3cdpO\",\"expanded\":\"ReadMore_expanded__M9Q3Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nospace\":\"FormikCheck_nospace__1wgUj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"file-list\":\"FileExplorer_file-list__10tQv\",\"nav-list\":\"FileExplorer_nav-list__umGhX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"json\":\"JSONDisplay_json__2jWdH\",\"controls\":\"JSONDisplay_controls__2ieng\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scheduler-option\":\"SchedulerOptions_scheduler-option__1v2yX\",\"scheduler-option-list\":\"SchedulerOptions_scheduler-option-list__83zvo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"Layout_body__15swD\",\"container\":\"Layout_container__36RJX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toolbar-wrapper\":\"Toolbar_toolbar-wrapper__JKAXQ\",\"toolbar-btn\":\"Toolbar_toolbar-btn__GP6kZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toolbar-wrapper\":\"Toolbar_toolbar-wrapper__2ijQe\",\"toolbar-btn\":\"Toolbar_toolbar-btn__3x6qq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"radio-button-container\":\"CredentialsSourceSelect_radio-button-container__34ymo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"breadcrumbs\":\"Layout_breadcrumbs__L6pDj\",\"header-text\":\"Layout_header-text__2Kfh8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Sidebar_root__bWCwc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"SectionMessages_root__3WURa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"one-row\":\"SectionContent_layouts_one-row__1QaX2\",\"one-column\":\"SectionContent_layouts_one-column__19ni9\",\"two-column\":\"SectionContent_layouts_two-column__3SBC-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"DropdownSelector_container__vSG3q bootstrap_form_form-control__2Nq82\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Pill_root__4k56P\",\"should-truncate\":\"Pill_should-truncate__3nR0j\",\"is-danger\":\"Pill_is-danger__8Skki\",\"is-success\":\"Pill_is-success__34X0-\",\"is-warning\":\"Pill_is-warning__20TXY\",\"is-normal\":\"Pill_is-normal__1KSbN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sourceUrls\":\"FileInputArrays_sourceUrls__AJ8Sh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tab\":\"PermissionsModal_tab__1Helq\",\"active\":\"PermissionsModal_active__2vClt\",\"tab-content\":\"PermissionsModal_tab-content__2ozPJ\",\"list-content\":\"PermissionsModal_list-content__vFLX6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"breadcrumbs\":\"Layout_breadcrumbs__FURQL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid-2\":\"Builder_grid-2__1EW16\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"archive-form-container\":\"CreateArchiveModel_archive-form-container__1B-YN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"identity-form-container\":\"CreateIdentityModel_identity-form-container__1b_RQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid-2\":\"RunPipelineModal_grid-2__3hrLw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"breadcrumbs\":\"Layout_breadcrumbs__3rn-V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"UIPatternsReadMore_root__g6b8B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"variable-list\":\"Layout_variable-list__pJ23D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form-container\":\"CreateTaskModal_form-container__aNx8r\",\"execution-profile\":\"CreateTaskModal_execution-profile__39wS8\",\"tasks-container\":\"CreateTaskModal_tasks-container__bXrWZ\",\"section\":\"CreateTaskModal_section__caL_m\",\"tasks-section-last\":\"CreateTaskModal_tasks-section-last__1_RJ3\",\"task-inputs\":\"CreateTaskModal_task-inputs__232pw\",\"task-input\":\"CreateTaskModal_task-input__3_V7d\",\"remove-button\":\"CreateTaskModal_remove-button__17sso\",\"add-button\":\"CreateTaskModal_add-button__Mtgyi\",\"subheader\":\"CreateTaskModal_subheader__2h_8X\",\"count\":\"CreateTaskModal_count__uLVSz\",\"add-task\":\"CreateTaskModal_add-task__ThTAP\"};"],"sourceRoot":""}